(self.webpackChunkTP12023=self.webpackChunkTP12023||[]).push([[179],{3419:(bt,Ce,B)=>{"use strict";var M=B(6550),v=B(1902),oe=B(4755),me=B(8996),fe=B(9751),z=B(4742),ke=B(8421),rt=B(7669),Le=B(5403),Me=B(3268),pe=B(1810),st=B(4004);let He=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(v.Qsj),v.Y36(v.SBq))},n.\u0275dir=v.lG2({type:n}),n})(),it=(()=>{class n extends He{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=v.n5z(n)))(r||n)}}(),n.\u0275dir=v.lG2({type:n,features:[v.qOj]}),n})();const xt=new v.OlP("NgValueAccessor"),hn={provide:xt,useExisting:(0,v.Gpc)(()=>Ie),multi:!0},Se=new v.OlP("CompositionEventMode");let Ie=(()=>{class n extends He{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $t(){const n=(0,oe.q)()?(0,oe.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Se,8))},n.\u0275dir=v.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&v.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[v._Bn([hn]),v.qOj]}),n})();function se(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Be(n){return null!=n&&"number"==typeof n.length}const Ze=new v.OlP("NgValidators"),Pe=new v.OlP("NgAsyncValidators"),xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xe{static min(e){return function Hn(n){return e=>{if(se(e.value)||se(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function si(n){return e=>{if(se(e.value)||se(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Bn(n){return se(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function je(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ae(n){return se(n.value)||xe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Y(n){return e=>se(e.value)||!Be(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ie(n){return e=>Be(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function we(n){if(!n)return Ve;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(se(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Zt(e)}static composeAsync(e){return on(e)}}function Ve(n){return null}function Ae(n){return null!=n}function et(n){return(0,v.QGY)(n)?(0,me.D)(n):n}function ct(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Dn(n,e){return e.map(t=>t(n))}function Yt(n){return n.map(e=>function Ct(n){return!n.validate}(e)?e:t=>e.validate(t))}function Zt(n){if(!n)return null;const e=n.filter(Ae);return 0==e.length?null:function(t){return ct(Dn(t,e))}}function _t(n){return null!=n?Zt(Yt(n)):null}function on(n){if(!n)return null;const e=n.filter(Ae);return 0==e.length?null:function(t){return function De(...n){const e=(0,rt.jO)(n),{args:t,keys:r}=(0,z.D)(n),i=new fe.y(u=>{const{length:l}=t;if(!l)return void u.complete();const h=new Array(l);let p=l,_=l;for(let A=0;A<l;A++){let R=!1;(0,ke.Xf)(t[A]).subscribe((0,Le.x)(u,j=>{R||(R=!0,_--),h[A]=j},()=>p--,void 0,()=>{(!p||!R)&&(_||u.next(r?(0,pe.n)(r,h):h),u.complete())}))}});return e?i.pipe((0,Me.Z)(e)):i}(Dn(t,e).map(et)).pipe((0,st.U)(ct))}}function Dr(n){return null!=n?on(Yt(n)):null}function Cn(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qn(n){return n._rawValidators}function mi(n){return n._rawAsyncValidators}function Wn(n){return n?Array.isArray(n)?n:[n]:[]}function Nt(n,e){return Array.isArray(n)?n.includes(e):n===e}function En(n,e){const t=Wn(e);return Wn(n).forEach(i=>{Nt(t,i)||t.push(i)}),t}function $e(n,e){return Wn(e).filter(t=>!Nt(n,t))}class Hr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_t(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Qt extends Hr{get formDirective(){return null}get path(){return null}}class Gt extends Hr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nn{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gt=(()=>{class n extends nn{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Gt,2))},n.\u0275dir=v.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&v.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[v.qOj]}),n})(),Qi=(()=>{class n extends nn{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Qt,10))},n.\u0275dir=v.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&v.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[v.qOj]}),n})();const zr="VALID",Zi="INVALID",fr="PENDING",yi="DISABLED";function ce(n){return(ye(n)?n.validators:n)||null}function H(n,e){return(ye(e)?e.asyncValidators:n)||null}function ye(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class At{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zr}get invalid(){return this.status===Zi}get pending(){return this.status==fr}get disabled(){return this.status===yi}get enabled(){return this.status!==yi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(En(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(En(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($e(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($e(e,this._rawAsyncValidators))}hasValidator(e){return Nt(this._rawValidators,e)}hasAsyncValidator(e){return Nt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yi,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zr,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zr||this.status===fr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yi:zr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fr,this._hasOwnPendingAsyncValidator=!0;const t=et(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?yi:this.errors?Zi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fr)?fr:this._anyControlsHaveStatus(Zi)?Zi:zr}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ye(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function J(n){return Array.isArray(n)?_t(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Q(n){return Array.isArray(n)?Dr(n):n||null}(this._rawAsyncValidators)}}class Xt extends At{constructor(e,t,r){super(ce(t),H(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ft(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new v.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function We(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new v.vHH(1e3,"");if(!r[t])throw new v.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const _i=new v.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>zn}),zn="always";function gr(n,e,t=zn){jt(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ro(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Bo(n,e)})}(n,e),function Gr(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Vo(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Bo(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function vi(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function xr(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yr(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mr(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function jt(n,e){const t=qn(n);null!==e.validator?n.setValidators(Cn(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=mi(n);null!==e.asyncValidator?n.setAsyncValidators(Cn(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();mr(e._rawValidators,i),mr(e._rawAsyncValidators,i)}function yr(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=qn(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=mi(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return mr(e._rawValidators,r),mr(e._rawAsyncValidators,r),t}function Bo(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uo(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Wr(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Es=class extends At{constructor(e=null,t,r){super(ce(t),H(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ye(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Wr(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uo(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uo(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Wr(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let zo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=v.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ns=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({}),n})();const _r=new v.OlP("NgModelWithFormControlWarning"),Ke={provide:Qt,useExisting:(0,v.Gpc)(()=>wt)};let wt=(()=>{class n extends Qt{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return gr(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){xr(t.control||null,t,!1),function ws(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function jo(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(xr(r||null,t),(n=>n instanceof Es)(i)&&(gr(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function qr(n,e){jt(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function io(n,e){return yr(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jt(this.form,this),this._oldForm&&yr(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Ze,10),v.Y36(Pe,10),v.Y36(_i,8))},n.\u0275dir=v.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&v.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([Ke]),v.qOj,v.TTD]}),n})();const yn={provide:Gt,useExisting:(0,v.Gpc)(()=>wi)};let wi=(()=>{class n extends Gt{set isDisabled(t){}constructor(t,r,i,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new v.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function es(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Ie?t=u:function Ja(n){return Object.getPrototypeOf(n.constructor)===it}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function oo(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Lo(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(v.Y36(Qt,13),v.Y36(Ze,10),v.Y36(Pe,10),v.Y36(xt,10),v.Y36(_r,8))},n.\u0275dir=v.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[v._Bn([yn]),v.qOj,v.TTD]}),n})(),Yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[ns]}),n})(),Cd=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_i,useValue:t.callSetDisabledState??zn}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[Yo]}),n})(),Dd=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_r,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:_i,useValue:t.callSetDisabledState??zn}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[Yo]}),n})();class tc{}class Td{}const Di="*";function Sd(n,e){return{type:7,name:n,definitions:e,options:{}}}function iu(n,e=null){return{type:4,styles:e,timings:n}}function Yu(n,e=null){return{type:2,steps:n,options:e}}function Is(n){return{type:6,styles:n,offset:null}}function Hs(n,e,t){return{type:0,name:n,styles:e,options:t}}function va(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function wa(n){Promise.resolve().then(n)}class Xo{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wa(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Jo{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?wa(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==u&&this._onFinish()}),l.onDestroy(()=>{++r==u&&this._onDestroy()}),l.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Qr="!";function $n(n){return new v.vHH(3e3,!1)}function te(n){switch(n.length){case 0:return new Xo;case 1:return n[0];default:return new Jo(n)}}function Ne(n,e,t=new Map,r=new Map){const i=[],u=[];let l=-1,h=null;if(e.forEach(p=>{const _=p.get("offset"),A=_==l,R=A&&h||new Map;p.forEach((j,W)=>{let ee=W,ne=j;if("offset"!==W)switch(ee=n.normalizePropertyName(ee,i),ne){case Qr:ne=t.get(W);break;case Di:ne=r.get(W);break;default:ne=n.normalizeStyleValue(W,ee,ne,i)}R.set(ee,ne)}),A||u.push(R),h=R,l=_}),i.length)throw function fn(n){return new v.vHH(3502,!1)}();return u}function vt(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&en(t,"start",n)));break;case"done":n.onDone(()=>r(t&&en(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&en(t,"destroy",n)))}}function en(n,e,t){const u=cn(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function cn(n,e,t,r,i="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!l}}function rn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function vr(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const os=(()=>typeof document>"u"?null:document.documentElement)();function as(n){const e=n.parentNode||n.host||null;return e===os?null:e}let cr=null,Nd=!1;function Uf(n,e){for(;e;){if(e===n)return!0;e=as(e)}return!1}function Ti(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let cu=(()=>{class n{validateStyleProperty(t){return function St(n){cr||(cr=function lb(){return typeof document<"u"?document.body:null}()||{},Nd=!!cr.style&&"WebkitAppearance"in cr.style);let e=!0;return cr.style&&!function go(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in cr.style,!e&&Nd&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in cr.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Uf(t,r)}getParentElement(t){return as(t)}query(t,r,i){return Ti(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,l,h=[],p){return new Xo(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),mo=(()=>{class n{}return n.NOOP=new cu,n})();const ty=1e3,$f="ng-enter",sc="ng-leave",ve="ng-trigger",Wt=".ng-trigger",jf="ng-animating",ol=".ng-animating";function an(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:oc(parseFloat(e[1]),e[2])}function oc(n,e){return"s"===e?n*ty:n}function Da(n,e,t){return n.hasOwnProperty("duration")?n:function yo(n,e,t){let i,u=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push($n()),{duration:0,delay:0,easing:""};i=oc(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(u=oc(parseFloat(p),h[4]));const _=h[5];_&&(l=_)}else i=n;if(!t){let h=!1,p=e.length;i<0&&(e.push(function Gs(){return new v.vHH(3100,!1)}()),h=!0),u<0&&(e.push(function Zu(){return new v.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,$n())}return{duration:i,delay:u,easing:l}}(n,e,t)}function du(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function al(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function _o(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Vn(n,e,t){e.forEach((r,i)=>{const u=fu(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r})}function Si(n,e){e.forEach((t,r)=>{const i=fu(r);n.style[i]=""})}function Ta(n){return Array.isArray(n)?1==n.length?n[0]:Yu(n):n}const qs=new RegExp("{{\\s*(.+?)\\s*}}","g");function ny(n){let e=[];if("string"==typeof n){let t;for(;t=qs.exec(n);)e.push(t[1]);qs.lastIndex=0}return e}function ul(n,e,t){const r=n.toString(),i=r.replace(qs,(u,l)=>{let h=e[l];return null==h&&(t.push(function ou(n){return new v.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function ac(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const hb=/-+([a-z0-9])/g;function fu(n){return n.replace(hb,(...e)=>e[1].toUpperCase())}function $i(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ea(n){return new v.vHH(3004,!1)}()}}function Od(n,e){return window.getComputedStyle(n)[e]}const Fd="*";function fb(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Ai(n,e,t){if(":"==n[0]){const p=function pu(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function il(n){return new v.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ca(n){return new v.vHH(3015,!1)}()),e;const i=r[1],u=r[2],l=r[3];e.push(E(i,l));"<"==u[0]&&!(i==Fd&&l==Fd)&&e.push(E(l,i))}(r,t,e)):t.push(n),t}const Nn=new Set(["true","1"]),y=new Set(["false","0"]);function E(n,e){const t=Nn.has(n)||y.has(n),r=Nn.has(e)||y.has(e);return(i,u)=>{let l=n==Fd||n==i,h=e==Fd||e==u;return!l&&t&&"boolean"==typeof i&&(l=i?Nn.has(n):y.has(n)),!h&&r&&"boolean"==typeof u&&(h=u?Nn.has(e):y.has(e)),l&&h}}const m=":self",T=new RegExp(`s*${m}s*,?`,"g");function N(n,e,t,r){return new V(n).build(e,t,r)}class V{constructor(e){this._driver=e}build(e,t,r){const i=new ot(t);return this._resetContextStyleTimingState(i),$i(this,Ta(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function Md(){return new v.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,_=p.name;_.toString().split(/\s*,\s*/).forEach(A=>{p.name=A,u.push(this.visitState(p,t))}),p.name=_}else if(1==h.type){const p=this.visitTransition(h,t);r+=p.queryCount,i+=p.depCount,l.push(p)}else t.errors.push(function ba(){return new v.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{ny(p).forEach(_=>{l.hasOwnProperty(_)||u.add(_)})})}),u.size&&(ac(u.values()),t.errors.push(function Ia(n,e){return new v.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=$i(this,Ta(e.animation),t);return{type:1,matchers:fb(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Qn(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>$i(this,r,t)),options:Qn(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(l=>{t.currentTime=r;const h=$i(this,l,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:u,options:Qn(e.options)}}visitAnimate(e,t){const r=function sn(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return gu(Da(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=gu(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=Da(t,e);return gu(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:Is({});if(5==u.type)i=this.visitKeyframes(u,t);else{let l=e.styles,h=!1;if(!l){h=!0;const _={};r.easing&&(_.easing=r.easing),l=Is(_)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(l,t);p.isEmptyStep=h,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===Di?r.push(h):t.errors.push(new v.vHH(3002,!1)):r.push(al(h));let u=!1,l=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!u))for(let p of h.values())if(p.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,p)=>{const _=t.collectedStyles.get(t.currentQuerySelector),A=_.get(p);let R=!0;A&&(u!=i&&u>=A.startTime&&i<=A.endTime&&(t.errors.push(function Ts(n,e,t,r,i){return new v.vHH(3010,!1)}()),R=!1),u=A.startTime),R&&_.set(p,{startTime:u,endTime:i}),t.options&&function hu(n,e,t){const r=e.params||{},i=ny(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function su(n){return new v.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function tl(){return new v.vHH(3011,!1)}()),r;let u=0;const l=[];let h=!1,p=!1,_=0;const A=e.steps.map(Oe=>{const Qe=this._makeStyleAst(Oe,t);let Fe=null!=Qe.offset?Qe.offset:function at(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Qe.styles),dt=0;return null!=Fe&&(u++,dt=Qe.offset=Fe),p=p||dt<0||dt>1,h=h||dt<_,_=dt,l.push(dt),Qe});p&&t.errors.push(function lu(){return new v.vHH(3012,!1)}()),h&&t.errors.push(function nl(){return new v.vHH(3200,!1)}());const R=e.steps.length;let j=0;u>0&&u<R?t.errors.push(function rl(){return new v.vHH(3202,!1)}()):0==u&&(j=1/(R-1));const W=R-1,ee=t.currentTime,ne=t.currentAnimateTimings,de=ne.duration;return A.forEach((Oe,Qe)=>{const Fe=j>0?Qe==W?1:j*Qe:l[Qe],dt=Fe*de;t.currentTime=ee+ne.delay+dt,ne.duration=dt,this._validateStyleAst(Oe,t),Oe.offset=Fe,r.styles.push(Oe)}),r}visitReference(e,t){return{type:8,animation:$i(this,Ta(e.animation),t),options:Qn(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Qn(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Qn(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function X(n){const e=!!n.split(/\s*,\s*/).find(t=>t==m);return e&&(n=n.replace(T,"")),n=n.replace(/@\*/g,Wt).replace(/@\w+/g,t=>Wt+"-"+t.slice(1)).replace(/:animating/g,ol),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,rn(t.collectedStyles,t.currentQuerySelector,new Map);const h=$i(this,Ta(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:Qn(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function rc(){return new v.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Da(e.timings,t.errors,!0);return{type:12,animation:$i(this,Ta(e.animation),t),timings:r,options:null}}}class ot{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qn(n){return n?(n=du(n)).params&&(n.params=function Ee(n){return n?du(n):null}(n.params)):n={},n}function gu(n,e,t){return{duration:n,delay:e,easing:t}}function Zo(n,e,t,r,i,u,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:l,subTimeline:h}}class ea{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const bS=new RegExp(":enter","g"),ay=new RegExp(":leave","g");function pb(n,e,t,r,i,u=new Map,l=new Map,h,p,_=[]){return(new IS).buildKeyframes(n,e,t,r,i,u,l,h,p,_)}class IS{buildKeyframes(e,t,r,i,u,l,h,p,_,A=[]){_=_||new ea;const R=new gb(e,t,_,i,u,A,[]);R.options=p;const j=p.delay?an(p.delay):0;R.currentTimeline.delayNextStep(j),R.currentTimeline.setStyles([l],null,R.errors,p),$i(this,r,R);const W=R.timelines.filter(ee=>ee.containsAnimation());if(W.length&&h.size){let ee;for(let ne=W.length-1;ne>=0;ne--){const de=W[ne];if(de.element===t){ee=de;break}}ee&&!ee.allowOnlyTimelineStyles()&&ee.setStyles([h],null,R.errors,p)}return W.length?W.map(ee=>ee.buildKeyframes()):[Zo(t,[],[],[],0,j,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const l="number"==typeof u?u:an(ul(u,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?an(r.duration):null,h=null!=r.delay?an(r.delay):null;return 0!==l&&e.forEach(p=>{const _=t.appendInstructionToTimeline(p,l,h);u=Math.max(u,_.duration+_.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),$i(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Kf);const l=an(u.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>$i(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?an(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);u&&h.delayNextStep(u),$i(this,l,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Da(t.params?ul(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*u),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?an(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Kf);let l=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((_,A)=>{t.currentQueryIndex=A;const R=t.createSubContext(e.options,_);u&&R.delayNextStep(u),_===t.element&&(p=R.currentTimeline),$i(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),h=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":p=h-p;break;case"full":p=r.currentStaggerTime}const A=t.currentTimeline;p&&A.delayNextStep(p);const R=A.currentTime;$i(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-R+(i.startTime-r.currentTimeline.startTime)}}const Kf={};class gb{constructor(e,t,r,i,u,l,h,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Kf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new uy(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=an(r.duration)),null!=r.delay&&(i.delay=an(r.delay));const u=r.params;if(u){let l=i.params;l||(l=this.options.params={}),Object.keys(u).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=ul(u[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new gb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=Kf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new mb(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,l){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(bS,"."+this._enterClassName)).replace(ay,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=r);0!==r&&(_=r<0?_.slice(_.length+r,_.length):_.slice(0,r)),h.push(..._)}return!u&&0==h.length&&l.push(function ic(n){return new v.vHH(3014,!1)}()),h}}class uy{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new uy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Di),this._currentKeyframe.set(t,Di);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},l=function CS(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,Di)}else _o(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of l){const _=ul(p,u,r);this._pendingStyles.set(h,_),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Di),this._updateStyle(h,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,p)=>{const _=_o(h,new Map,this._backFill);_.forEach((A,R)=>{A===Qr?e.add(R):A===Di&&t.add(R)}),r||_.set("offset",p/this.duration),i.push(_)});const u=e.size?ac(e.values()):[],l=t.size?ac(t.values()):[];if(r){const h=i[0],p=new Map(h);h.set("offset",0),p.set("offset",1),i=[h,p]}return Zo(this.element,i,u,l,this.duration,this.startTime,this.easing,!1)}}class mb extends uy{constructor(e,t,r,i,u,l,h=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,h=t/l,p=_o(e[0]);p.set("offset",0),u.push(p);const _=_o(e[0]);_.set("offset",Ld(h)),u.push(_);const A=e.length-1;for(let R=1;R<=A;R++){let j=_o(e[R]);const W=j.get("offset");j.set("offset",Ld((t+W*r)/l)),u.push(j)}r=l,t=0,i="",e=u}return Zo(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Ld(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Vd{}const pk=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yb extends Vd{normalizePropertyName(e,t){return fu(e)}normalizeStyleValue(e,t,r,i){let u="";const l=r.toString().trim();if(pk.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function au(n,e){return new v.vHH(3005,!1)}())}return l+u}}function dy(n,e,t,r,i,u,l,h,p,_,A,R,j){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:h,queriedElements:p,preStyleProps:_,postStyleProps:A,totalTime:R,errors:j}}const hy={};class vo{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Yf(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,l,h,p,_,A){const R=[],j=this.ast.options&&this.ast.options.params||hy,ee=this.buildStyles(r,h&&h.params||hy,R),ne=p&&p.params||hy,de=this.buildStyles(i,ne,R),Oe=new Set,Qe=new Map,Fe=new Map,dt="void"===i,tn={params:fy(ne,j),delay:this.ast.options?.delay},kt=A?[]:pb(e,t,this.ast.animation,u,l,ee,de,tn,_,R);let un=0;if(kt.forEach(ii=>{un=Math.max(ii.duration+ii.delay,un)}),R.length)return dy(t,this._triggerName,r,i,dt,ee,de,[],[],Qe,Fe,un,R);kt.forEach(ii=>{const Qa=ii.element,JU=rn(Qe,Qa,new Set);ii.preStyleProps.forEach(Lf=>JU.add(Lf));const ub=rn(Fe,Qa,new Set);ii.postStyleProps.forEach(Lf=>ub.add(Lf)),Qa!==t&&Oe.add(Qa)});const sr=ac(Oe.values());return dy(t,this._triggerName,r,i,dt,ee,de,kt,sr,Qe,Fe,un)}}function fy(n,e){const t=du(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class _b{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=du(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!==l&&(i[u]=l)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((l,h)=>{l&&(l=ul(l,i,t));const p=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,p,l,t),r.set(h,l)})}),r}}class gy{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new _b(i.style,i.options&&i.options.params||{},r))}),my(this.states,"true","1"),my(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new vo(e,i,this.states))}),this.fallbackTransition=function DS(n,e,t){return new vo(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function my(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const vb=new ea;class wb{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=N(this._driver,t,r,[]);if(r.length)throw function D(n){return new v.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=Ne(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let l;const h=new Map;if(u?(l=pb(this._driver,t,u,$f,sc,new Map,new Map,r,vb,i),l.forEach(A=>{const R=rn(h,A.element,new Map);A.postStyleProps.forEach(j=>R.set(j,null))})):(i.push(function P(){return new v.vHH(3300,!1)}()),l=[]),i.length)throw function S(n){return new v.vHH(3504,!1)}();h.forEach((A,R)=>{A.forEach((j,W)=>{A.set(W,this._driver.computeStyle(R,W,Di))})});const _=te(l.map(A=>{const R=h.get(A.element);return this._buildPlayer(A,new Map,R)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function F(n){return new v.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=cn(t,"","","");return vt(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const yy="ng-animate-queued",uc="ng-animate-disabled",bb=[],cl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},AS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ss="__ng_removed";class Bd{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Ib(n){return n??null}(r?e.value:e),r){const u=du(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Ud="void",Qf=new Bd(Ud);class _y{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function q(n,e){return new v.vHH(3302,!1)}();if(null==r||0==r.length)throw function ue(n){return new v.vHH(3303,!1)}();if(!function hc(n){return"start"==n||"done"==n}(r))throw function le(n,e){return new v.vHH(3400,!1)}();const u=rn(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};u.push(l);const h=rn(this._engine.statesByElement,e,new Map);return h.has(t)||(wo(e,ve),wo(e,ve+"-"+t),h.set(t,Qf)),()=>{this._engine.afterFlush(()=>{const p=u.indexOf(l);p>=0&&u.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function nt(n){return new v.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),l=new mu(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(wo(e,ve),wo(e,ve+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const _=new Bd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),h.set(t,_),p||(p=Qf),_.value!==Ud&&p.value===_.value){if(!function jd(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(p.params,_.params)){const ne=[],de=u.matchStyles(p.value,p.params,ne),Oe=u.matchStyles(_.value,_.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Si(e,de),Vn(e,Oe)})}return}const j=rn(this._engine.playersByElement,e,[]);j.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let W=u.matchTransition(p.value,_.value,e,_.params),ee=!1;if(!W){if(!i)return;W=u.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:W,fromState:p,toState:_,player:l,isFallbackTransition:ee}),ee||(wo(e,yy),l.onStart(()=>{$d(e,yy)})),l.onDone(()=>{let ne=this.players.indexOf(l);ne>=0&&this.players.splice(ne,1);const de=this._engine.playersByElement.get(e);if(de){let Oe=de.indexOf(l);Oe>=0&&de.splice(Oe,1)}}),this.players.push(l),j.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Wt,!0);r.forEach(i=>{if(i[Ss])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),l=new Map;if(u){const h=[];if(u.forEach((p,_)=>{if(l.set(_,p.value),this._triggers.has(_)){const A=this.trigger(e,_,Ud,i);A&&h.push(A)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&te(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const l=u.name;if(i.has(l))return;i.add(l);const p=this._triggers.get(l).fallbackTransition,_=r.get(l)||Qf,A=new Bd(Ud),R=new mu(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:_,toState:A,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Ss];(!u||u===cl)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){wo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(h=>{if(h.name==r.triggerName){const p=cn(u,r.triggerName,r.fromState.value,r.toState.value);p._data=e,vt(r.player,h.phase,p,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class lc{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new _y(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const p=i.get(h);if(p){const _=r.indexOf(p);r.splice(_+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(dc(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!dc(t))return;const u=t[Ss];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wo(e,uc)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$d(e,uc))}removeNode(e,t,r){if(dc(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[Ss]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return dc(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Wt,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ol,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return te(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ss];if(t&&t.setForRemoval){if(e[Ss]=cl,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(uc)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?te(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function b(n){return new v.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new ea,i=[],u=new Map,l=[],h=new Map,p=new Map,_=new Map,A=new Set;this.disabledNodes.forEach(ht=>{A.add(ht);const Tt=this.driver.query(ht,".ng-animate-queued",!0);for(let Ot=0;Ot<Tt.length;Ot++)A.add(Tt[Ot])});const R=this.bodyNode,j=Array.from(this.statesByElement.keys()),W=xS(j,this.collectedEnterElements),ee=new Map;let ne=0;W.forEach((ht,Tt)=>{const Ot=$f+ne++;ee.set(Tt,Ot),ht.forEach(wn=>wo(wn,Ot))});const de=[],Oe=new Set,Qe=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const Tt=this.collectedLeaveElements[ht],Ot=Tt[Ss];Ot&&Ot.setForRemoval&&(de.push(Tt),Oe.add(Tt),Ot.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(wn=>Oe.add(wn)):Qe.add(Tt))}const Fe=new Map,dt=xS(j,Array.from(Oe));dt.forEach((ht,Tt)=>{const Ot=sc+ne++;Fe.set(Tt,Ot),ht.forEach(wn=>wo(wn,Ot))}),e.push(()=>{W.forEach((ht,Tt)=>{const Ot=ee.get(Tt);ht.forEach(wn=>$d(wn,Ot))}),dt.forEach((ht,Tt)=>{const Ot=Fe.get(Tt);ht.forEach(wn=>$d(wn,Ot))}),de.forEach(ht=>{this.processLeaveNode(ht)})});const tn=[],kt=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(t).forEach(Ot=>{const wn=Ot.player,Li=Ot.element;if(tn.push(wn),this.collectedEnterElements.length){const gs=Li[Ss];if(gs&&gs.setForMove){if(gs.previousTriggersValues&&gs.previousTriggersValues.has(Ot.triggerName)){const Vf=gs.previousTriggersValues.get(Ot.triggerName),pa=this.statesByElement.get(Ot.element);if(pa&&pa.has(Ot.triggerName)){const ES=pa.get(Ot.triggerName);ES.value=Vf,pa.set(Ot.triggerName,ES)}}return void wn.destroy()}}const Gu=!R||!this.driver.containsElement(R,Li),ko=Fe.get(Li),Id=ee.get(Li),Cr=this._buildInstruction(Ot,r,Id,ko,Gu);if(Cr.errors&&Cr.errors.length)return void kt.push(Cr);if(Gu)return wn.onStart(()=>Si(Li,Cr.fromStyles)),wn.onDestroy(()=>Vn(Li,Cr.toStyles)),void i.push(wn);if(Ot.isFallbackTransition)return wn.onStart(()=>Si(Li,Cr.fromStyles)),wn.onDestroy(()=>Vn(Li,Cr.toStyles)),void i.push(wn);const t$=[];Cr.timelines.forEach(gs=>{gs.stretchStartingKeyframe=!0,this.disabledNodes.has(gs.element)||t$.push(gs)}),Cr.timelines=t$,r.append(Li,Cr.timelines),l.push({instruction:Cr,player:wn,element:Li}),Cr.queriedElements.forEach(gs=>rn(h,gs,[]).push(wn)),Cr.preStyleProps.forEach((gs,Vf)=>{if(gs.size){let pa=p.get(Vf);pa||p.set(Vf,pa=new Set),gs.forEach((ES,hk)=>pa.add(hk))}}),Cr.postStyleProps.forEach((gs,Vf)=>{let pa=_.get(Vf);pa||_.set(Vf,pa=new Set),gs.forEach((ES,hk)=>pa.add(hk))})});if(kt.length){const ht=[];kt.forEach(Tt=>{ht.push(function k(n,e){return new v.vHH(3505,!1)}())}),tn.forEach(Tt=>Tt.destroy()),this.reportError(ht)}const un=new Map,sr=new Map;l.forEach(ht=>{const Tt=ht.element;r.has(Tt)&&(sr.set(Tt,Tt),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,un))}),i.forEach(ht=>{const Tt=ht.element;this._getPreviousPlayers(Tt,!1,ht.namespaceId,ht.triggerName,null).forEach(wn=>{rn(un,Tt,[]).push(wn),wn.destroy()})});const ii=de.filter(ht=>RS(ht,p,_)),Qa=new Map;Cb(Qa,this.driver,Qe,_,Di).forEach(ht=>{RS(ht,p,_)&&ii.push(ht)});const ub=new Map;W.forEach((ht,Tt)=>{Cb(ub,this.driver,new Set(ht),p,Qr)}),ii.forEach(ht=>{const Tt=Qa.get(ht),Ot=ub.get(ht);Qa.set(ht,new Map([...Tt?.entries()??[],...Ot?.entries()??[]]))});const Lf=[],ZU=[],e$={};l.forEach(ht=>{const{element:Tt,player:Ot,instruction:wn}=ht;if(r.has(Tt)){if(A.has(Tt))return Ot.onDestroy(()=>Vn(Tt,wn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(wn.totalTime),void i.push(Ot);let Li=e$;if(sr.size>1){let ko=Tt;const Id=[];for(;ko=ko.parentNode;){const Cr=sr.get(ko);if(Cr){Li=Cr;break}Id.push(ko)}Id.forEach(Cr=>sr.set(Cr,Li))}const Gu=this._buildAnimation(Ot.namespaceId,wn,un,u,ub,Qa);if(Ot.setRealPlayer(Gu),Li===e$)Lf.push(Ot);else{const ko=this.playersByElement.get(Li);ko&&ko.length&&(Ot.parentPlayer=te(ko)),i.push(Ot)}}else Si(Tt,wn.fromStyles),Ot.onDestroy(()=>Vn(Tt,wn.toStyles)),ZU.push(Ot),A.has(Tt)&&i.push(Ot)}),ZU.forEach(ht=>{const Tt=u.get(ht.element);if(Tt&&Tt.length){const Ot=te(Tt);ht.setRealPlayer(Ot)}}),i.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<de.length;ht++){const Tt=de[ht],Ot=Tt[Ss];if($d(Tt,sc),Ot&&Ot.hasAnimation)continue;let wn=[];if(h.size){let Gu=h.get(Tt);Gu&&Gu.length&&wn.push(...Gu);let ko=this.driver.query(Tt,ol,!0);for(let Id=0;Id<ko.length;Id++){let Cr=h.get(ko[Id]);Cr&&Cr.length&&wn.push(...Cr)}}const Li=wn.filter(Gu=>!Gu.destroyed);Li.length?mk(this,Tt,Li):this.processLeaveNode(Tt)}return de.length=0,Lf.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const Tt=this.players.indexOf(ht);this.players.splice(Tt,1)}),ht.play()}),Lf}elementContainsData(e,t){let r=!1;const i=t[Ss];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const p=!u||u==Ud;h.forEach(_=>{_.queued||!p&&_.triggerName!=i||l.push(_)})}}return(r||i)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const _=p.element,A=_!==u,R=rn(r,_,[]);this._getPreviousPlayers(_,A,l,h,t.toState).forEach(W=>{const ee=W.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),W.destroy(),R.push(W)})}Si(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,l){const h=t.triggerName,p=t.element,_=[],A=new Set,R=new Set,j=t.timelines.map(ee=>{const ne=ee.element;A.add(ne);const de=ne[Ss];if(de&&de.removedBeforeQueried)return new Xo(ee.duration,ee.delay);const Oe=ne!==p,Qe=function yk(n){const e=[];return NS(n,e),e}((r.get(ne)||bb).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===ne),Fe=u.get(ne),dt=l.get(ne),tn=Ne(this._normalizer,ee.keyframes,Fe,dt),kt=this._buildPlayer(ee,tn,Qe);if(ee.subTimeline&&i&&R.add(ne),Oe){const un=new mu(e,h,ne);un.setRealPlayer(kt),_.push(un)}return kt});_.forEach(ee=>{rn(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function cc(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,ee.element,ee))}),A.forEach(ee=>wo(ee,jf));const W=te(j);return W.onDestroy(()=>{A.forEach(ee=>$d(ee,jf)),Vn(p,t.toStyles)}),R.forEach(ee=>{rn(i,ee,[]).push(W)}),W}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Xo(e.duration,e.delay)}}class mu{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Xo,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>vt(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){rn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function dc(n){return n&&1===n.nodeType}function MS(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Cb(n,e,t,r,i){const u=[];t.forEach(p=>u.push(MS(p)));const l=[];r.forEach((p,_)=>{const A=new Map;p.forEach(R=>{const j=e.computeStyle(_,R,i);A.set(R,j),(!j||0==j.length)&&(_[Ss]=AS,l.push(_))}),n.set(_,A)});let h=0;return t.forEach(p=>MS(p,u[h++])),l}function xS(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=1,i=new Set(e),u=new Map;function l(h){if(!h)return r;let p=u.get(h);if(p)return p;const _=h.parentNode;return p=t.has(_)?_:i.has(_)?r:l(_),u.set(h,p),p}return e.forEach(h=>{const p=l(h);p!==r&&t.get(p).push(h)}),t}function wo(n,e){n.classList?.add(e)}function $d(n,e){n.classList?.remove(e)}function mk(n,e,t){te(t).onDone(()=>n.processLeaveNode(e))}function NS(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Jo?NS(r.players,e):e.push(r)}}function RS(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class vy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new lc(e,t,r),this._timelineEngine=new wb(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const l=e+"-"+i;let h=this._triggerCache[l];if(!h){const p=[],A=N(this._driver,u,p,[]);if(p.length)throw function Xr(n,e){return new v.vHH(3404,!1)}();h=function py(n,e,t){return new gy(n,e,t)}(i,A,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,l]=vr(r);this._timelineEngine.command(u,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[l,h]=vr(r);return this._timelineEngine.listen(l,t,h,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let PS=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Vn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vn(this._element,this._initialStyles),this._endStyles&&(Vn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Si(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Si(this._element,this._endStyles),this._endStyles=null),Vn(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function dl(n){let e=null;return n.forEach((t,r)=>{(function kS(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class As{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Od(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Hd{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Uf(e,t)}getParentElement(e){return as(e)}query(e,t,r){return Ti(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,l=[]){const p={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(p.easing=u);const _=new Map,A=l.filter(W=>W instanceof As);(function Gf(n,e){return 0===n||0===e})(r,i)&&A.forEach(W=>{W.currentSnapshot.forEach((ee,ne)=>_.set(ne,ee))});let R=function Hf(n){return n.length?n[0]instanceof Map?n:n.map(e=>al(e)):[]}(t).map(W=>_o(W));R=function kd(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,l)=>{r.has(l)||i.push(l),r.set(l,u)}),i.length)for(let u=1;u<e.length;u++){let l=e[u];i.forEach(h=>l.set(h,Od(n,h)))}}return e}(e,R,_);const j=function kr(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=dl(e[0]),e.length>1&&(r=dl(e[e.length-1]))):e instanceof Map&&(t=dl(e)),t||r?new PS(n,t,r):null}(e,R);return new As(e,R,p,j)}}let Db=(()=>{class n extends tc{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Yu(t):t;return Tb(this._renderer,null,r,"register",[i]),new Xf(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.FYo),v.LFG(oe.K0))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class Xf extends Td{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new zd(this._id,e,t||{},this._renderer)}}class zd{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Tb(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Tb(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Sb="@.disabled";let _k=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,l)=>{const h=l?.parentNode(u);h&&l.removeChild(h,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let A=this._rendererCache.get(u);return A||(A=new us("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,A)),A}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=A=>{Array.isArray(A)?A.forEach(p):this.engine.registerTrigger(l,h,t,A.name,A)};return r.data.animation.forEach(p),new Ey(this,h,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,h]=u;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.FYo),v.LFG(vy),v.LFG(v.R0b))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class us{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Sb?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ey extends us{constructor(e,t,r,i,u){super(t,r,i,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Sb?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function fc(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),l="";return"@"!=u.charAt(0)&&([u,l]=function vk(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let Ab=(()=>{class n extends vy{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(oe.K0),v.LFG(mo),v.LFG(Vd),v.LFG(v.z2F))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const Mb=[{provide:tc,useClass:Db},{provide:Vd,useFactory:function OS(){return new yb}},{provide:vy,useClass:Ab},{provide:v.FYo,useFactory:function FS(n,e,t){return new _k(n,e,t)},deps:[M.se,vy,v.R0b]}],by=[{provide:mo,useFactory:()=>new Hd},{provide:v.QbO,useValue:"BrowserAnimations"},...Mb],xb=[{provide:mo,useClass:cu},{provide:v.QbO,useValue:"NoopAnimations"},...Mb];let LS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xb:by}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:by,imports:[M.b2]}),n})();var Ws=B(4430),VS=B(5226),Sa=B.n(VS);function Rb(n,e,t,r,i,u,l){try{var h=n[u](l),p=h.value}catch(_){return void t(_)}h.done?e(p):Promise.resolve(p).then(r,i)}function G(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var u=n.apply(e,t);function l(p){Rb(u,r,i,l,h,"next",p)}function h(p){Rb(u,r,i,l,h,"throw",p)}l(void 0)})}}const kb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},yu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const u=n[i],l=i+1<n.length,h=l?n[i+1]:0,p=i+2<n.length,_=p?n[i+2]:0;let j=(15&h)<<2|_>>6,W=63&_;p||(W=64,l||(j=64)),r.push(t[u>>2],t[(3&u)<<4|h>>4],t[j],t[W])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const u=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&u)}else if(i>239&&i<365){const p=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(1023&p))}else{const u=n[t++],l=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const u=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const _=i<n.length?t[n.charAt(i)]:64;++i;const R=i<n.length?t[n.charAt(i)]:64;if(++i,null==u||null==h||null==_||null==R)throw new qd;r.push(u<<2|h>>4),64!==_&&(r.push(h<<4&240|_>>2),64!==R&&r.push(_<<6&192|R))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qd extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cy=function(n){return function(n){const e=kb(n);return yu.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Wd=function(n){try{return yu.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ep=()=>{try{return function HS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Wd(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},Dy=n=>{var e,t;return null===(t=null===(e=ep())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},GS=n=>{const e=Dy(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ty=()=>{var n;return null===(n=ep())||void 0===n?void 0:n.config},qS=n=>{var e;return null===(e=ep())||void 0===e?void 0:e[`_${n}`]};class tp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Fb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Cy(JSON.stringify({alg:"none",type:"JWT"})),Cy(JSON.stringify(l)),""].join(".")}function Tr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vb(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Aa(){try{return"object"==typeof indexedDB}catch{return!1}}function pc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var u;e((null===(u=i.error)||void 0===u?void 0:u.message)||"")}}catch(t){e(t)}})}function np(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Jr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eo.prototype.create)}}class Eo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,u=this.errors[e],l=u?function rp(n,e){return n.replace(ip,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(u,r):"Error";return new Jr(i,`${this.serviceName}: ${l} (${i}).`,r)}}const ip=/\{\$([^}]+)}/g;function op(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const u=n[i],l=e[i];if(ji(u)&&ji(l)){if(!op(u,l))return!1}else if(u!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function ji(n){return null!==n&&"object"==typeof n}function Kd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,u]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(u)}}),e}function Sr(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class zb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Gb(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Ay),void 0===i.error&&(i.error=Ay),void 0===i.complete&&(i.complete=Ay);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),u}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ay(){}const Yd=1e3,QS=2,XS=144e5,xy=.5;function Qd(n,e=Yd,t=QS){const r=e*Math.pow(t,n),i=Math.round(xy*r*(Math.random()-.5)*2);return Math.min(XS,r+i)}function Or(n){return n&&n._delegate?n._delegate:n}class Zr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ma="[DEFAULT]";class up{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new tp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(i)return null;throw u}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function eA(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:i});r.resolve(u)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return G(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,l]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(u)&&l.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),u=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;u.add(e),this.onInitCallbacks.set(i,u);const l=this.instances.get(i);return l&&e(l,i),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ma?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new up(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ny=[];var Pt=(()=>((Pt=Pt||{})[Pt.DEBUG=0]="DEBUG",Pt[Pt.VERBOSE=1]="VERBOSE",Pt[Pt.INFO=2]="INFO",Pt[Pt.WARN=3]="WARN",Pt[Pt.ERROR=4]="ERROR",Pt[Pt.SILENT=5]="SILENT",Pt))();const Kb={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Yb=Pt.INFO,Ry={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Qb=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Ry[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class _u{constructor(e){this.name=e,this._logLevel=Yb,this._logHandler=Qb,this._userLogHandler=null,Ny.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Kb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const Py=(n,e)=>e.some(t=>n instanceof t);let ky,vu;const Zb=new WeakMap,e0=new WeakMap,Xd=new WeakMap,Oy=new WeakMap,lp=new WeakMap;let Jd={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return e0.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Xd.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xa(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Zd(n){return"function"==typeof n?function cp(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jb(){return vu||(vu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(eh(this),e),xa(Zb.get(this))}:function(...e){return xa(n.apply(eh(this),e))}:function(e,...t){const r=n.call(eh(this),e,...t);return Xd.set(r,e.sort?e.sort():[e]),xa(r)}}(n):(n instanceof IDBTransaction&&function n0(n){if(e0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});e0.set(n,e)}(n),Py(n,function Xb(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Jd):n)}function xa(n){if(n instanceof IDBRequest)return function t0(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(xa(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Zb.set(t,n)}).catch(()=>{}),lp.set(e,n),e}(n);if(Oy.has(n))return Oy.get(n);const e=Zd(n);return e!==n&&(Oy.set(n,e),lp.set(e,n)),e}const eh=n=>lp.get(n),Fy=["get","getKey","getAll","getAllKeys","count"],th=["put","add","delete","clear"],Ly=new Map;function Vy(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ly.get(e))return Ly.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=th.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Fy.includes(t))return;const u=function(){var l=G(function*(h,...p){const _=this.transaction(h,i?"readwrite":"readonly");let A=_.store;return r&&(A=A.index(p.shift())),(yield Promise.all([A[t](...p),i&&_.done]))[0]});return function(p){return l.apply(this,arguments)}}();return Ly.set(e,u),u}!function r0(n){Jd=n(Jd)}(n=>({...n,get:(e,t,r)=>Vy(e,t)||n.get(e,t,r),has:(e,t)=>!!Vy(e,t)||n.has(e,t)}));class rA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function iA(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const By="@firebase/app",wu=new _u("@firebase/app"),pp="[DEFAULT]",mA={[By]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pl=new Map,gp=new Map;function u0(n,e){try{n.container.addComponent(e)}catch(t){wu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mi(n){const e=n.name;if(gp.has(e))return wu.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,n);for(const t of pl.values())u0(t,n);return!0}function gl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ms=new Eo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class l0{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}const Pa="9.22.1";function Gy(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:pp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ms.create("bad-app-name",{appName:String(i)});if(t||(t=Ty()),!t)throw Ms.create("no-options");const u=pl.get(i);if(u){if(op(t,u.options)&&op(r,u.config))return u;throw Ms.create("duplicate-app",{appName:i})}const l=new tA(i);for(const p of gp.values())l.addComponent(p);const h=new l0(t,r,l);return pl.set(i,h),h}function qy(n=pp){const e=pl.get(n);if(!e&&n===pp&&Ty())return Gy();if(!e)throw Ms.create("no-app",{appName:n});return e}function yA(){return Array.from(pl.values())}function Rn(n,e,t){var r;let i=null!==(r=mA[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const u=i.match(/\s|\//),l=e.match(/\s|\//);if(u||l){const h=[`Unable to register library "${i}" with version "${e}":`];return u&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),u&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void wu.warn(h.join(" "))}Mi(new Zr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const c0="firebase-heartbeat-database",_A=1,ih="firebase-heartbeat-store";let Wy=null;function d0(){return Wy||(Wy=function dp(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),h=xa(l);return r&&l.addEventListener("upgradeneeded",p=>{r(xa(l.result),p.oldVersion,p.newVersion,xa(l.transaction),p)}),t&&l.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),i&&p.addEventListener("versionchange",_=>i(_.oldVersion,_.newVersion,_))}).catch(()=>{}),h}(c0,_A,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ih)}}).catch(n=>{throw Ms.create("idb-open",{originalErrorMessage:n.message})})),Wy}function _c(){return(_c=G(function*(n){try{return yield(yield d0()).transaction(ih).objectStore(ih).get(f0(n))}catch(e){if(e instanceof Jr)wu.warn(e.message);else{const t=Ms.create("idb-get",{originalErrorMessage:e?.message});wu.warn(t.message)}}})).apply(this,arguments)}function Ky(n,e){return sh.apply(this,arguments)}function sh(){return(sh=G(function*(n,e){try{const r=(yield d0()).transaction(ih,"readwrite");yield r.objectStore(ih).put(e,f0(n)),yield r.done}catch(t){if(t instanceof Jr)wu.warn(t.message);else{const r=Ms.create("idb-set",{originalErrorMessage:t?.message});wu.warn(r.message)}}})).apply(this,arguments)}function f0(n){return`${n.name}!${n.options.appId}`}class vA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return G(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mp();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(u=>u.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(u=>{const l=new Date(u.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return G(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=mp(),{heartbeatsToSend:r,unsentEntries:i}=function g0(n,e=1024){const t=[];let r=n.slice();for(const i of n){const u=t.find(l=>l.agent===i.agent);if(u){if(u.dates.push(i.date),m0(t)>e){u.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),m0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),u=Cy(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),u})()}}function mp(){return(new Date).toISOString().substring(0,10)}class wA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return G(function*(){return!!Aa()&&pc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return G(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function h0(n){return _c.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return G(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return Ky(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return G(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return Ky(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}})()}}function m0(n){return Cy(JSON.stringify({version:2,heartbeats:n})).length}!function EA(n){Mi(new Zr("platform-logger",e=>new rA(e),"PRIVATE")),Mi(new Zr("heartbeat",e=>new vA(e),"PRIVATE")),Rn(By,"0.9.11",n),Rn(By,"0.9.11","esm2017"),Rn("fire-js","")}(""),Rn("firebase","9.22.1","app");const jk=(n,e)=>e.some(t=>n instanceof t);let IA,vc;const Yy=new WeakMap,yp=new WeakMap,Qy=new WeakMap,ah=new WeakMap,Xy=new WeakMap;let uh={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return yp.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Qy.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ra(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function CA(n){return"function"==typeof n?function Jy(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oh(){return vc||(vc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(_p(this),e),ra(Yy.get(this))}:function(...e){return ra(n.apply(_p(this),e))}:function(e,...t){const r=n.call(_p(this),e,...t);return Qy.set(r,e.sort?e.sort():[e]),ra(r)}}(n):(n instanceof IDBTransaction&&function v0(n){if(yp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});yp.set(n,e)}(n),jk(n,function vn(){return IA||(IA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,uh):n)}function ra(n){if(n instanceof IDBRequest)return function _0(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(ra(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Yy.set(t,n)}).catch(()=>{}),Xy.set(e,n),e}(n);if(ah.has(n))return ah.get(n);const e=CA(n);return e!==n&&(ah.set(n,e),Xy.set(e,n)),e}const _p=n=>Xy.get(n),DA=["get","getKey","getAll","getAllKeys","count"],Zy=["put","add","delete","clear"],Ec=new Map;function E0(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ec.get(e))return Ec.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Zy.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!DA.includes(t))return;const u=function(){var l=G(function*(h,...p){const _=this.transaction(h,i?"readwrite":"readonly");let A=_.store;return r&&(A=A.index(p.shift())),(yield Promise.all([A[t](...p),i&&_.done]))[0]});return function(p){return l.apply(this,arguments)}}();return Ec.set(e,u),u}!function Hk(n){uh=n(uh)}(n=>({...n,get:(e,t,r)=>E0(e,t)||n.get(e,t,r),has:(e,t)=>!!E0(e,t)||n.has(e,t)}));const vp="@firebase/installations",bc="0.6.4",Eu=1e4,wp=`w:${bc}`,Ep="FIS_v2",TA="https://firebaseinstallations.googleapis.com/v1",SA=36e5,ka=new Eo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function I0(n){return n instanceof Jr&&n.code.includes("request-failed")}function lh({projectId:n}){return`${TA}/projects/${n}/installations`}function e_(n){return{token:n.token,requestStatus:2,expiresIn:xA(n.expiresIn),creationTime:Date.now()}}function t_(n,e){return bp.apply(this,arguments)}function bp(){return(bp=G(function*(n,e){const r=(yield e.json()).error;return ka.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Ip({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function n_(n){return r_.apply(this,arguments)}function r_(){return(r_=G(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function xA(n){return Number(n.replace("s","000"))}function Cc(){return(Cc=G(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=lh(n),i=Ip(n),u=e.getImmediate({optional:!0});if(u){const _=yield u.getHeartbeatsHeader();_&&i.append("x-firebase-client",_)}const h={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:Ep,appId:n.appId,sdkVersion:wp})},p=yield n_(()=>fetch(r,h));if(p.ok){const _=yield p.json();return{fid:_.fid||t,registrationStatus:2,refreshToken:_.refreshToken,authToken:e_(_.authToken)}}throw yield t_("Create Installation",p)})).apply(this,arguments)}function C0(n){return new Promise(e=>{setTimeout(e,n)})}const s_=/^[cdef][\w-]{21}$/,ml="";function o_(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function a_(n){return function i_(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return s_.test(t)?t:ml}catch{return ml}}function ia(n){return`${n.appName}!${n.appId}`}const Oa=new Map;function Dc(n,e){const t=ia(n);ch(t,e),function qk(n,e){const t=function Cp(){return!Fa&&"BroadcastChannel"in self&&(Fa=new BroadcastChannel("[Firebase] FID Change"),Fa.onmessage=n=>{ch(n.data.key,n.data.fid)}),Fa}();t&&t.postMessage({key:n,fid:e}),function l_(){0===Oa.size&&Fa&&(Fa.close(),Fa=null)}()}(t,e)}function ch(n,e){const t=Oa.get(n);if(t)for(const r of t)r(e)}let Fa=null;const NA="firebase-installations-database",RA=1,bu="firebase-installations-store";let Dp=null;function c_(){return Dp||(Dp=function w0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),h=ra(l);return r&&l.addEventListener("upgradeneeded",p=>{r(ra(l.result),p.oldVersion,p.newVersion,ra(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),h.then(p=>{u&&p.addEventListener("close",()=>u()),i&&p.addEventListener("versionchange",()=>i())}).catch(()=>{}),h}(NA,RA,{upgrade:(n,e)=>{0===e&&n.createObjectStore(bu)}})),Dp}function Tp(n,e){return T0.apply(this,arguments)}function T0(){return(T0=G(function*(n,e){const t=ia(n),i=(yield c_()).transaction(bu,"readwrite"),u=i.objectStore(bu),l=yield u.get(t);return yield u.put(e,t),yield i.done,(!l||l.fid!==e.fid)&&Dc(n,e.fid),e})).apply(this,arguments)}function d_(n){return dh.apply(this,arguments)}function dh(){return(dh=G(function*(n){const e=ia(n),r=(yield c_()).transaction(bu,"readwrite");yield r.objectStore(bu).delete(e),yield r.done})).apply(this,arguments)}function yl(n,e){return h_.apply(this,arguments)}function h_(){return(h_=G(function*(n,e){const t=ia(n),i=(yield c_()).transaction(bu,"readwrite"),u=i.objectStore(bu),l=yield u.get(t),h=e(l);return void 0===h?yield u.delete(t):yield u.put(h,t),yield i.done,h&&(!l||l.fid!==h.fid)&&Dc(n,h.fid),h})).apply(this,arguments)}function Sp(n){return hh.apply(this,arguments)}function hh(){return hh=G(function*(n){let e;const t=yield yl(n.appConfig,r=>{const i=function Ap(n){return fh(n||{fid:o_(),registrationStatus:0})}(r),u=function PA(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ka.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function S0(n,e){return f_.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:A0(n)}:{installationEntry:e}}(n,i);return e=u.registrationPromise,u.installationEntry});return t.fid===ml?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),hh.apply(this,arguments)}function f_(){return f_=G(function*(n,e){try{const t=yield function Gk(n,e){return Cc.apply(this,arguments)}(n,e);return Tp(n.appConfig,t)}catch(t){throw I0(t)&&409===t.customData.serverCode?yield d_(n.appConfig):yield Tp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),f_.apply(this,arguments)}function A0(n){return M0.apply(this,arguments)}function M0(){return(M0=G(function*(n){let e=yield x0(n.appConfig);for(;1===e.registrationStatus;)yield C0(100),e=yield x0(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Sp(n);return r||t}return e})).apply(this,arguments)}function x0(n){return yl(n,e=>{if(!e)throw ka.create("installation-not-found");return fh(e)})}function fh(n){return function kA(n){return 1===n.registrationStatus&&n.registrationTime+Eu<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function _l(){return(_l=G(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function OA(n,{fid:e}){return`${lh(n)}/${e}/authTokens:generate`}(n,t),i=function MA(n,{refreshToken:e}){const t=Ip(n);return t.append("Authorization",function zk(n){return`${Ep} ${n}`}(e)),t}(n,t),u=e.getImmediate({optional:!0});if(u){const _=yield u.getHeartbeatsHeader();_&&i.append("x-firebase-client",_)}const h={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:wp,appId:n.appId}})},p=yield n_(()=>fetch(r,h));if(p.ok)return e_(yield p.json());throw yield t_("Generate Auth Token",p)})).apply(this,arguments)}function Mp(n){return p_.apply(this,arguments)}function p_(){return p_=G(function*(n,e=!1){let t;const r=yield yl(n.appConfig,u=>{if(!Sc(u))throw ka.create("not-registered");const l=u.authToken;if(!e&&function R0(n){return 2===n.requestStatus&&!function Wk(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+SA}(n)}(l))return u;if(1===l.requestStatus)return t=function FA(n,e){return g_.apply(this,arguments)}(n,e),u;{if(!navigator.onLine)throw ka.create("app-offline");const h=function y_(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(u);return t=function N0(n,e){return ph.apply(this,arguments)}(n,h),h}});return t?yield t:r.authToken}),p_.apply(this,arguments)}function g_(){return(g_=G(function*(n,e){let t=yield m_(n.appConfig);for(;1===t.authToken.requestStatus;)yield C0(100),t=yield m_(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Mp(n,e):r})).apply(this,arguments)}function m_(n){return yl(n,e=>{if(!Sc(e))throw ka.create("not-registered");return function Ac(n){return 1===n.requestStatus&&n.requestTime+Eu<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ph(){return ph=G(function*(n,e){try{const t=yield function Tc(n,e){return _l.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Tp(n.appConfig,r),t}catch(t){if(!I0(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Tp(n.appConfig,r)}else yield d_(n.appConfig);throw t}}),ph.apply(this,arguments)}function Sc(n){return void 0!==n&&2===n.registrationStatus}function Np(){return(Np=G(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Sp(e);return r?r.catch(console.error):Mp(e).catch(console.error),t.fid})).apply(this,arguments)}function __(){return __=G(function*(n,e=!1){const t=n;return yield function LA(n){return v_.apply(this,arguments)}(t),(yield Mp(t,e)).token}),__.apply(this,arguments)}function v_(){return(v_=G(function*(n){const{registrationPromise:e}=yield Sp(n);e&&(yield e)})).apply(this,arguments)}function E_(n){return ka.create("missing-app-config-values",{valueName:n})}const jA="installations",k0=n=>{const e=n.getProvider("app").getImmediate(),t=function Kk(n){if(!n||!n.options)throw E_("App Configuration");if(!n.name)throw E_("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw E_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:gl(e,"heartbeat"),_delete:()=>Promise.resolve()}},O0=n=>{const t=gl(n.getProvider("app").getImmediate(),jA).getImmediate();return{getId:()=>function xp(n){return Np.apply(this,arguments)}(t),getToken:i=>function P0(n){return __.apply(this,arguments)}(t,i)}};(function Qk(){Mi(new Zr(jA,k0,"PUBLIC")),Mi(new Zr("installations-internal",O0,"PRIVATE"))})(),Rn(vp,bc),Rn(vp,bc,"esm2017");const Rp="@firebase/remote-config",mt=new Eo("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pp{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return G(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const u=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&l.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(l),u})()}}function Mc(n=navigator){return n.languages&&n.languages[0]||n.language}class T_{constructor(e,t,r,i,u,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=u,this.appId=l}fetch(e){var t=this;return G(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},p={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Mc()},_={method:"POST",headers:h,body:JSON.stringify(p)},A=fetch(l,_),R=new Promise((Oe,Qe)=>{e.signal.addEventListener(()=>{const Fe=new Error("The operation was aborted.");Fe.name="AbortError",Qe(Fe)})});let j;try{yield Promise.race([A,R]),j=yield A}catch(Oe){let Qe="fetch-client-network";throw"AbortError"===Oe?.name&&(Qe="fetch-timeout"),mt.create(Qe,{originalErrorMessage:Oe?.message})}let W=j.status;const ee=j.headers.get("ETag")||void 0;let ne,de;if(200===j.status){let Oe;try{Oe=yield j.json()}catch(Qe){throw mt.create("fetch-client-parse",{originalErrorMessage:Qe?.message})}ne=Oe.entries,de=Oe.state}if("INSTANCE_STATE_UNSPECIFIED"===de?W=500:"NO_CHANGE"===de?W=304:("NO_TEMPLATE"===de||"EMPTY_CONFIG"===de)&&(ne={}),304!==W&&200!==W)throw mt.create("fetch-status",{httpStatus:W});return{status:W,eTag:ee,config:ne}})()}}class S_{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return G(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return G(function*(){yield function mh(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(mt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),u}catch(u){if(!function z0(n){if(!(n instanceof Jr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const l={throttleEndTimeMillis:Date.now()+Qd(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class G0{constructor(e,t,r,i,u){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xc(n,e){const t=n.target.error||void 0;return mt.create(e,{originalErrorMessage:t&&t?.message})}const wl="app_namespace_store";class QA{constructor(e,t,r,i=function q0(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(xc(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(wl,{keyPath:"compositeKey"})}}catch(t){e(mt.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return G(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const h=r.transaction([wl],"readonly").objectStore(wl),p=t.createCompositeKey(e);try{const _=h.get(p);_.onerror=A=>{u(xc(A,"storage-get"))},_.onsuccess=A=>{const R=A.target.result;i(R?R.value:void 0)}}catch(_){u(mt.create("storage-get",{originalErrorMessage:_?.message}))}})})()}set(e,t){var r=this;return G(function*(){const i=yield r.openDbPromise;return new Promise((u,l)=>{const p=i.transaction([wl],"readwrite").objectStore(wl),_=r.createCompositeKey(e);try{const A=p.put({compositeKey:_,value:t});A.onerror=R=>{l(xc(R,"storage-set"))},A.onsuccess=()=>{u()}}catch(A){l(mt.create("storage-set",{originalErrorMessage:A?.message}))}})})()}delete(e){var t=this;return G(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const h=r.transaction([wl],"readwrite").objectStore(wl),p=t.createCompositeKey(e);try{const _=h.delete(p);_.onerror=A=>{u(xc(A,"storage-delete"))},_.onsuccess=()=>{i()}}catch(_){u(mt.create("storage-delete",{originalErrorMessage:_?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class XA{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return G(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const h=yield i;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function W0(){return x_.apply(this,arguments)}function x_(){return(x_=G(function*(){if(!Aa())return!1;try{return yield pc()}catch{return!1}})).apply(this,arguments)}!function JA(){Mi(new Zr("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mt.create("registration-window");if(!Aa())throw mt.create("indexed-db-unavailable");const{projectId:u,apiKey:l,appId:h}=r.options;if(!u)throw mt.create("registration-project-id");if(!l)throw mt.create("registration-api-key");if(!h)throw mt.create("registration-app-id");const p=new QA(h,r.name,t=t||"firebase"),_=new XA(p),A=new _u(Rp);A.logLevel=Pt.ERROR;const R=new T_(i,Pa,t,u,l,h),j=new S_(R,p),W=new Pp(j,p,_,A),ee=new G0(r,W,_,p,A);return function H0(n){const e=Or(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(ee),ee},"PUBLIC").setMultipleInstances(!0)),Rn(Rp,"0.4.4"),Rn(Rp,"0.4.4","esm2017")}();const ZA=(n,e)=>e.some(t=>n instanceof t);let ls,K0;const Op=new WeakMap,Fp=new WeakMap,Y0=new WeakMap,N_=new WeakMap,R_=new WeakMap;let P_={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Fp.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Y0.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Va(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function rM(n){return"function"==typeof n?function nM(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function eO(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(O_(this),e),Va(Op.get(this))}:function(...e){return Va(n.apply(O_(this),e))}:function(e,...t){const r=n.call(O_(this),e,...t);return Y0.set(r,e.sort?e.sort():[e]),Va(r)}}(n):(n instanceof IDBTransaction&&function tM(n){if(Fp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});Fp.set(n,e)}(n),ZA(n,function eM(){return ls||(ls=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,P_):n)}function Va(n){if(n instanceof IDBRequest)return function Q0(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(Va(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Op.set(t,n)}).catch(()=>{}),R_.set(e,n),e}(n);if(N_.has(n))return N_.get(n);const e=rM(n);return e!==n&&(N_.set(n,e),R_.set(e,n)),e}const O_=n=>R_.get(n);function X0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),h=Va(l);return r&&l.addEventListener("upgradeneeded",p=>{r(Va(l.result),p.oldVersion,p.newVersion,Va(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),h.then(p=>{u&&p.addEventListener("close",()=>u()),i&&p.addEventListener("versionchange",()=>i())}).catch(()=>{}),h}function Ks(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Va(t).then(()=>{})}const F_=["get","getKey","getAll","getAllKeys","count"],iM=["put","add","delete","clear"],Lp=new Map;function J0(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Lp.get(e))return Lp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=iM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!F_.includes(t))return;const u=function(){var l=G(function*(h,...p){const _=this.transaction(h,i?"readwrite":"readonly");let A=_.store;return r&&(A=A.index(p.shift())),(yield Promise.all([A[t](...p),i&&_.done]))[0]});return function(p){return l.apply(this,arguments)}}();return Lp.set(e,u),u}!function k_(n){P_=n(P_)}(n=>({...n,get:(e,t,r)=>J0(e,t)||n.get(e,t,r),has:(e,t)=>!!J0(e,t)||n.has(e,t)}));const Z0="/firebase-messaging-sw.js",eI="/firebase-cloud-messaging-push-scope",yh="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",L_="https://fcmregistrations.googleapis.com/v1",sM="google.c.a.c_id",tI="google.c.a.c_l",nI="google.c.a.ts";var sa=(()=>((sa=sa||{}).PUSH_RECEIVED="push-received",sa.NOTIFICATION_CLICKED="notification-clicked",sa))();function ci(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function aM(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let u=0;u<r.length;++u)i[u]=r.charCodeAt(u);return i}const V_="fcm_token_details_db",B_=5,iI="fcm_token_object_Store";function U_(){return U_=G(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(V_))return null;let e=null;return(yield X0(V_,B_,{upgrade:(r=G(function*(i,u,l,h){var p;if(u<2||!i.objectStoreNames.contains(iI))return;const _=h.objectStore(iI),A=yield _.index("fcmSenderId").get(n);if(yield _.clear(),A)if(2===u){const R=A;if(!R.auth||!R.p256dh||!R.endpoint)return;e={token:R.fcmToken,createTime:null!==(p=R.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:R.auth,p256dh:R.p256dh,endpoint:R.endpoint,swScope:R.swScope,vapidKey:"string"==typeof R.vapidKey?R.vapidKey:ci(R.vapidKey)}}}else if(3===u){const R=A;e={token:R.fcmToken,createTime:R.createTime,subscriptionOptions:{auth:ci(R.auth),p256dh:ci(R.p256dh),endpoint:R.endpoint,swScope:R.swScope,vapidKey:ci(R.vapidKey)}}}else if(4===u){const R=A;e={token:R.fcmToken,createTime:R.createTime,subscriptionOptions:{auth:ci(R.auth),p256dh:ci(R.p256dh),endpoint:R.endpoint,swScope:R.swScope,vapidKey:ci(R.vapidKey)}}}}),function(u,l,h,p){return r.apply(this,arguments)})})).close(),yield Ks(V_),yield Ks("fcm_vapid_details_db"),yield Ks("undefined"),function tO(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),U_.apply(this,arguments)}const sI="firebase-messaging-database",lM=1,oa="firebase-messaging-store";let El=null;function Nc(){return El||(El=X0(sI,lM,{upgrade:(n,e)=>{0===e&&n.createObjectStore(oa)}})),El}function cM(n){return $_.apply(this,arguments)}function $_(){return $_=G(function*(n){const e=_h(n),r=yield(yield Nc()).transaction(oa).objectStore(oa).get(e);if(r)return r;{const i=yield function uM(n){return U_.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield Rc(n,i),i}}),$_.apply(this,arguments)}function Rc(n,e){return j_.apply(this,arguments)}function j_(){return(j_=G(function*(n,e){const t=_h(n),i=(yield Nc()).transaction(oa,"readwrite");return yield i.objectStore(oa).put(e,t),yield i.done,e})).apply(this,arguments)}function H_(){return(H_=G(function*(n){const e=_h(n),r=(yield Nc()).transaction(oa,"readwrite");yield r.objectStore(oa).delete(e),yield r.done})).apply(this,arguments)}function _h({appConfig:n}){return n.appId}const Er=new Eo("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fM(n,e){return Vp.apply(this,arguments)}function Vp(){return(Vp=G(function*(n,e){const t=yield uI(n),r=lI(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(G_(n.appConfig),i)).json()}catch(l){throw Er.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(u.error)throw Er.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw Er.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function z_(){return(z_=G(function*(n,e){const t=yield uI(n),r=lI(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${G_(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw Er.create("token-update-failed",{errorInfo:l?.toString()})}if(u.error)throw Er.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw Er.create("token-update-no-token");return u.token})).apply(this,arguments)}function aI(n,e){return bl.apply(this,arguments)}function bl(){return(bl=G(function*(n,e){const r={method:"DELETE",headers:yield uI(n)};try{const u=yield(yield fetch(`${G_(n.appConfig)}/${e}`,r)).json();if(u.error)throw Er.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(i){throw Er.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function G_({projectId:n}){return`${L_}/projects/${n}/registrations`}function uI(n){return q_.apply(this,arguments)}function q_(){return(q_=G(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function lI({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==yh&&(i.web.applicationPubKey=r),i}const pM=6048e5;function W_(){return W_=G(function*(n){const e=yield function mM(n,e){return Y_.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ci(e.getKey("auth")),p256dh:ci(e.getKey("p256dh"))},r=yield cM(n.firebaseDependencies);if(r){if(function yM(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+pM?function dI(n,e){return vh.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield aI(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return hI(n.firebaseDependencies,t)}return hI(n.firebaseDependencies,t)}),W_.apply(this,arguments)}function K_(){return K_=G(function*(n){const e=yield cM(n.firebaseDependencies);e&&(yield aI(n.firebaseDependencies,e.token),yield function dM(n){return H_.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),K_.apply(this,arguments)}function vh(){return vh=G(function*(n,e){try{const t=yield function oI(n,e){return z_.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Rc(n.firebaseDependencies,r),t}catch(t){throw yield function cI(n){return K_.apply(this,arguments)}(n),t}}),vh.apply(this,arguments)}function hI(n,e){return wh.apply(this,arguments)}function wh(){return(wh=G(function*(n,e){const r={token:yield fM(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Rc(n,r),r.token})).apply(this,arguments)}function Y_(){return(Y_=G(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:aM(e)})})).apply(this,arguments)}function fI(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function _M(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function vM(n,e){e.data&&(n.data=e.data)}(e,n),function wM(n,e){var t,r,i,u,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const h=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(u=e.notification)||void 0===u?void 0:u.click_action;h&&(n.fcmOptions.link=h);const p=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;p&&(n.fcmOptions.analyticsLabel=p)}(e,n),e}function Q_(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function gI(n){return Er.create("missing-app-config-values",{valueName:n})}Q_("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Q_("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mI{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function EM(n){if(!n||!n.options)throw gI("App Configuration Object");if(!n.name)throw gI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw gI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Pc(){return(Pc=G(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Z0,{scope:eI}),n.swRegistration.update().catch(()=>{})}catch(e){throw Er.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function X_(){return(X_=G(function*(n,e){if(!e&&!n.swRegistration&&(yield function bM(n){return Pc.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Er.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Z_(){return(Z_=G(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=yh)})).apply(this,arguments)}function Il(){return Il=G(function*(n,e){if(!navigator)throw Er.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Er.create("permission-blocked");return yield function J_(n,e){return Z_.apply(this,arguments)}(n,e?.vapidKey),yield function IM(n,e){return X_.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function gM(n){return W_.apply(this,arguments)}(n)}),Il.apply(this,arguments)}function Ba(){return(Ba=G(function*(n,e,t){const r=function Bp(n){switch(n){case sa.NOTIFICATION_CLICKED:return"notification_open";case sa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[sM],message_name:t[tI],message_time:t[nI],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Eh(){return Eh=G(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===sa.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(fI(t)):n.onMessageHandler.next(fI(t)));const r=t.data;(function pI(n){return"object"==typeof n&&!!n&&sM in n})(r)&&"1"===r["google.c.a.e"]&&(yield function xi(n,e,t){return Ba.apply(this,arguments)}(n,t.messageType,r))}),Eh.apply(this,arguments)}const Cl="@firebase/messaging",kc=n=>{const e=new mI(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Ys(n,e){return Eh.apply(this,arguments)}(e,t)),e},Oc=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Io(n,e){return Il.apply(this,arguments)}(e,r)}};function Tl(){return Du.apply(this,arguments)}function Du(){return(Du=G(function*(){try{yield pc()}catch{return!1}return typeof window<"u"&&Aa()&&np()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fc(){Mi(new Zr("messaging",kc,"PUBLIC")),Mi(new Zr("messaging-internal",Oc,"PRIVATE")),Rn(Cl,"0.12.4"),Rn(Cl,"0.12.4","esm2017")}();const bh="analytics",_I="firebase_id",vI="origin",ev=6e4,AM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wI="https://www.googletagmanager.com/gtag/js",di=new _u("@firebase/analytics"),Hi=new Eo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nO(n){if(!n.startsWith(wI)){const e=Hi.create("invalid-gtag-resource",{gtagURL:n});return di.warn(e.message),""}return n}function EI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Ih(){return(Ih=G(function*(n,e,t,r,i,u){const l=r[i];try{if(l)yield e[l];else{const p=(yield EI(t)).find(_=>_.measurementId===i);p&&(yield e[p.appId])}}catch(h){di.error(h)}n("config",i,u)})).apply(this,arguments)}function Dh(){return(Dh=G(function*(n,e,t,r,i){try{let u=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const h=yield EI(t);for(const p of l){const _=h.find(R=>R.measurementId===p),A=_&&e[_.appId];if(!A){u=[];break}u.push(A)}}0===u.length&&(u=Object.values(e)),yield Promise.all(u),n("event",r,i||{})}catch(u){di.error(u)}})).apply(this,arguments)}const II=30,CI=new class Sh{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function kM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function tv(){return(tv=G(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:kM(r)},u=AM.replace("{app-id}",t),l=yield fetch(u,i);if(200!==l.status&&304!==l.status){let h="";try{const p=yield l.json();null!==(e=p.error)&&void 0!==e&&e.message&&(h=p.error.message)}catch{}throw Hi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()})).apply(this,arguments)}function Vc(){return(Vc=G(function*(n,e=CI,t){const{appId:r,apiKey:i,measurementId:u}=n.options;if(!r)throw Hi.create("no-app-id");if(!i){if(u)return{measurementId:u,appId:r};throw Hi.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new rv;return setTimeout(G(function*(){h.abort()}),void 0!==t?t:ev),Ah({appId:r,apiKey:i,measurementId:u},l,h,e)})).apply(this,arguments)}function Ah(n,e,t){return DI.apply(this,arguments)}function DI(){return DI=G(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=CI){var u;const{appId:l,measurementId:h}=n;try{yield function FM(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(Hi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(p){if(h)return di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{const p=yield function OM(n){return tv.apply(this,arguments)}(n);return i.deleteThrottleMetadata(l),p}catch(p){const _=p;if(!function LM(n){if(!(n instanceof Jr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(_)){if(i.deleteThrottleMetadata(l),h)return di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:l,measurementId:h};throw p}const A=503===Number(null===(u=_?.customData)||void 0===u?void 0:u.httpStatus)?Qd(t,i.intervalMillis,II):Qd(t,i.intervalMillis),R={throttleEndTimeMillis:Date.now()+A,backoffCount:t+1};return i.setThrottleMetadata(l,R),di.debug(`Calling attemptFetch again in ${A} millis`),Ah(n,R,r,i)}}),DI.apply(this,arguments)}class rv{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let iv,uv;function sv(){return(sv=G(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const u=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:u}))}})).apply(this,arguments)}function Gp(){return(Gp=G(function*(){if(!Aa())return di.warn(Hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield pc()}catch(n){return di.warn(Hi.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function cv(){return cv=G(function*(n,e,t,r,i,u,l){var h;const p=function nv(n){return Vc.apply(this,arguments)}(n);p.then(W=>{t[W.measurementId]=W.appId,n.options.measurementId&&W.measurementId!==n.options.measurementId&&di.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${W.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(W=>di.error(W)),e.push(p);const _=function lv(){return Gp.apply(this,arguments)}().then(W=>{if(W)return r.getId()}),[A,R]=yield Promise.all([p,_]);(function Th(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(wI)&&t.src.includes(n))return t;return null})(u)||function xM(n,e){const t=function rO(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:nO}),r=document.createElement("script"),i=`${wI}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(u,A.measurementId),uv&&(i("consent","default",uv),function xh(n){uv=n}(void 0)),i("js",new Date);const j=null!==(h=l?.config)&&void 0!==h?h:{};return j[vI]="firebase",j.update=!0,null!=R&&(j[_I]=R),i("config",A.measurementId,j),iv&&(i("set",iv),function Nh(n){iv=n}(void 0)),A.measurementId}),cv.apply(this,arguments)}class jM{constructor(e){this.app=e}_delete(){return delete Qs[this.app.options.appId],Promise.resolve()}}let Qs={},qp=[];const dv={};let MI,Co,Rh="dataLayer",Ph=!1;function xI(n,e,t){!function hv(){const n=[];if(Vb()&&n.push("This is a browser extension environment."),np()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Hi.create("invalid-analytics-context",{errorInfo:e});di.warn(t.message)}}();const r=n.options.appId;if(!r)throw Hi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Hi.create("no-api-key");di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qs[r])throw Hi.create("already-exists",{id:r});if(!Ph){!function NM(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Rh);const{wrappedGtag:u,gtagCore:l}=function bI(n,e,t,r,i){let u=function(...l){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(u=window[i]),window[i]=function $p(n,e,t,r){function u(){return u=G(function*(l,...h){try{if("event"===l){const[p,_]=h;yield function Ch(n,e,t,r,i){return Dh.apply(this,arguments)}(n,e,t,p,_)}else if("config"===l){const[p,_]=h;yield function RM(n,e,t,r,i,u){return Ih.apply(this,arguments)}(n,e,t,r,p,_)}else if("consent"===l){const[p]=h;n("consent","update",p)}else if("get"===l){const[p,_,A]=h;n("get",p,_,A)}else if("set"===l){const[p]=h;n("set",p)}else n(l,...h)}catch(p){di.error(p)}}),u.apply(this,arguments)}return function i(l){return u.apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[i]}}(Qs,qp,dv,Rh,"gtag");Co=u,MI=l,Ph=!0}return Qs[r]=function $M(n,e,t,r,i,u,l){return cv.apply(this,arguments)}(n,qp,dv,e,MI,Rh,t),new jM(n)}function RI(){return Wp.apply(this,arguments)}function Wp(){return(Wp=G(function*(){if(Vb()||!np()||!Aa())return!1;try{return yield pc()}catch{return!1}})).apply(this,arguments)}const fv="@firebase/analytics";!function FI(){Mi(new Zr(bh,(e,{options:t})=>xI(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Mi(new Zr("analytics-internal",function n(e){try{const t=e.getProvider(bh).getImmediate();return{logEvent:(r,i,u)=>function OI(n,e,t,r){n=Or(n),function TI(n,e,t,r,i){return sv.apply(this,arguments)}(Co,Qs[n.app.options.appId],e,t,r).catch(i=>di.error(i))}(t,r,i,u)}}catch(t){throw Hi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Rn(fv,"0.10.0"),Rn(fv,"0.10.0","esm2017")}();var LI=B(727);class VI extends LI.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Sl={setInterval(n,e,...t){const{delegate:r}=Sl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Sl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Su=B(8737);class BI extends VI{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,u=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return Sl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Sl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(u){r=!0,i=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Su.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Yp={now:()=>(Yp.delegate||Date).now(),delegate:void 0};class Do{constructor(e,t=Do.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Do.now=Yp.now;class Qp extends Do{constructor(e,t=Do.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const gv=new class YM extends Qp{}(class KM extends BI{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),oO=new Qp(BI);var QM=B(8505),mv=B(9468),UI=B(5363);const Xn=new v.GfV("7.6.1"),Xp="__angularfire_symbol__analyticsIsSupportedValue",yv="__angularfire_symbol__analyticsIsSupported",_v="__angularfire_symbol__remoteConfigIsSupportedValue",Jp="__angularfire_symbol__remoteConfigIsSupported",vv="__angularfire_symbol__messagingIsSupportedValue",Zp="__angularfire_symbol__messagingIsSupported";function Oh(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(l=>l.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[yv]||(globalThis[yv]=RI().then(n=>globalThis[Xp]=n).catch(()=>globalThis[Xp]=!1)),globalThis[Zp]||(globalThis[Zp]=Tl().then(n=>globalThis[vv]=n).catch(()=>globalThis[vv]=!1)),globalThis[Jp]||(globalThis[Jp]=W0().then(n=>globalThis[_v]=n).catch(()=>globalThis[_v]=!1));const tg=(n,e)=>{const t=e?[e]:yA(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function Al(){}class XM{constructor(e,t=gv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class wv{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Al,{},Al,Al)),t.pipe((0,QM.b)({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bc=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new XM(Zone.current)),this.insideAngular=t.run(()=>new XM(Zone.current,oO)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.R0b))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ni(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Au(n){return Ni().ngZone.run(()=>n())}function To(n){return Ni(),function $I(n){return function(t){return(t=t.lift(new wv(n.ngZone))).pipe((0,mv.R)(n.outsideAngular),(0,UI.Q)(n.insideAngular))}}(Ni())(n)}const jI=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Au(()=>n.apply(void 0,r))},Xs=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=Au(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Al,{},Al,Al)))),r[u]=jI(r[u],t));const i=function JM(n){return Ni().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof fe.y){const u=Ni();return i.pipe((0,mv.R)(u.outsideAngular),(0,UI.Q)(u.insideAngular))}return Au(()=>i)}return i instanceof fe.y?i.pipe(To):i instanceof Promise?Au(()=>new Promise((u,l)=>i.then(h=>Au(()=>u(h)),h=>Au(()=>l(h))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Au(()=>i)};class Ml{constructor(e){return e}}class ng{constructor(){return yA()}}const xl=new v.OlP("angularfire2._apps"),ZM={provide:Ml,useFactory:function Ev(n){return n&&1===n.length?n[0]:new Ml(qy())},deps:[[new v.FiY,xl]]},HI={provide:ng,deps:[[new v.FiY,xl]]};function ex(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ml(r)}}let tx=(()=>{class n{constructor(t){Rn("angularfire",Xn.full,"core"),Rn("angularfire",Xn.full,"app"),Rn("angular",v.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.Lbi))},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[ZM,HI]}),n})();function zI(n,...e){return{ngModule:tx,providers:[{provide:xl,useFactory:ex(n),multi:!0,deps:[v.R0b,v.zs3,Bc,...e]}]}}const GI=Xs(Gy,!0),Iv=new Map,rg={activated:!1,tokenObservers:[]},ig={initialized:!1,enabled:!1};function Jn(n){return Iv.get(n)||Object.assign({},rg)}function Fh(){return ig}const sg="https://content-firebaseappcheck.googleapis.com/v1",YI="exchangeDebugToken",Cv={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ox{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return G(function*(){t.stop();try{t.pending=new tp,yield function ax(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new tp,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const hi=new Eo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Dv(n){if(!Jn(n).activated)throw hi.create("use-before-activation",{appName:n.name})}function ug(n,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=G(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const R=yield i.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,h;try{l=yield fetch(n,u)}catch(R){throw hi.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==l.status)throw hi.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(R){throw hi.create("fetch-parse-error",{originalErrorMessage:R?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw hi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(p[1]),A=Date.now();return{token:h.token,expireTimeMillis:A+_,issuedAtTimeMillis:A}})).apply(this,arguments)}function QI(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${sg}/projects/${t}/apps/${r}:${YI}?key=${i}`,body:{debug_token:e}}}const dx="firebase-app-check-database",hx=1,Lh="firebase-app-check-store";let Vh=null;function lg(){return(lg=G(function*(n,e){const r=(yield function Av(){return Vh||(Vh=new Promise((n,e)=>{try{const t=indexedDB.open(dx,hx);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(hi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Lh,{keyPath:"compositeKey"})}}catch(t){e(hi.create("storage-open",{originalErrorMessage:t?.message}))}}),Vh)}()).transaction(Lh,"readwrite"),u=r.objectStore(Lh).put({compositeKey:n,value:e});return new Promise((l,h)=>{u.onsuccess=p=>{l()},r.onerror=p=>{var _;h(hi.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const So=new _u("@firebase/app-check");function Mu(n,e){return Aa()?function ZI(n,e){return function Mv(n,e){return lg.apply(this,arguments)}(function Nv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{So.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function nC(){return Fh().enabled}function dg(){return hg.apply(this,arguments)}function hg(){return(hg=G(function*(){const n=Fh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dt={error:"UNKNOWN_ERROR"};function px(n){return yu.encodeString(JSON.stringify(n),!1)}function fg(n){return Pv.apply(this,arguments)}function Pv(){return(Pv=G(function*(n,e=!1){const t=n.app;Dv(t);const r=Jn(t);let u,i=r.token;if(i&&!Rl(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(Rl(p)?i=p:yield Mu(t,void 0))}if(!e&&i&&Rl(i))return{token:i.token};let h,l=!1;if(nC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ug(QI(t,yield dg()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const p=yield r.exchangeTokenPromise;return yield Mu(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Jn(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?So.warn(p.message):So.error(p),u=p}return i?u?h=Rl(i)?{token:i.token,internalError:u}:rC(u):(h={token:i.token},r.token=i,yield Mu(t,i)):h=rC(u),l&&function Ov(n,e){const t=Jn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function Nl(n){return kv.apply(this,arguments)}function kv(){return(kv=G(function*(n){const e=n.app;Dv(e);const{provider:t}=Jn(e);if(nC()){const r=yield dg(),{token:i}=yield ug(QI(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function $c(n,e){const t=Jn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Zn(n){const{app:e}=n,t=Jn(e);let r=t.tokenRefresher;r||(r=function gO(n){const{app:e}=n;return new ox(G(function*(){let r;if(r=Jn(e).token?yield fg(n,!0):yield fg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Jn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Cv.RETRIAL_MIN_WAIT,Cv.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Rl(n){return n.expireTimeMillis-Date.now()>0}function rC(n){return{token:px(Dt),error:n}}class iC{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Jn(this.app);for(const t of e)$c(this.app,t.next);return Promise.resolve()}}const bx="app-check-internal";!function wO(){Mi(new Zr("app-check",n=>function sC(n,e){return new iC(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bx).initialize()})),Mi(new Zr(bx,n=>function oC(n){return{getToken:e=>fg(n,e),getLimitedUseToken:()=>Nl(n),addTokenListener:e=>function Uc(n,e,t,r){const{app:i}=n,u=Jn(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Rl(u.token)){const h=u.token;Promise.resolve().then(()=>{t({token:h.token}),Zn(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Zn(n))}(n,"INTERNAL",e),removeTokenListener:e=>$c(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Rn("@firebase/app-check","0.8.0")}();class Pl{constructor(){return tg("app-check")}}typeof window<"u"&&window;var Lv=B(655);const yC=function mC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_C=new Eo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vg=new _u("@firebase/auth");function wg(n,...e){vg.logLevel<=Pt.ERROR&&vg.error(`Auth (${Pa}): ${n}`,...e)}function zi(n,...e){throw Bv(n,...e)}function ua(n,...e){return Bv(n,...e)}function Bv(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _C.create(n,...e)}function ze(n,e,...t){if(!n)throw Bv(e,...t)}function la(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wg(e),new Error(e)}function xu(n,e){n||la(e)}function Hh(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Uv(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Gc{constructor(e,t){this.shortDelay=e,this.longDelay=t,xu(t>e,"Short delay should be less than long delay!"),this.isMobile=function bk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}()||function Ck(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Rx(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Eg(){return"http:"===Uv()||"https:"===Uv()}()||Vb()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $v(n,e){xu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class wC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jv=new Gc(3e4,6e4);function jn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function er(n,e,t,r){return zh.apply(this,arguments)}function zh(){return(zh=G(function*(n,e,t,r,i={}){return EC(n,i,G(function*(){let u={},l={};r&&("GET"===e?l=r:u={body:JSON.stringify(r)});const h=Kd(Object.assign({key:n.config.apiKey},l)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),wC.fetch()(Gv(n,n.config.apiHost,t,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},u))}))})).apply(this,arguments)}function EC(n,e,t){return Hv.apply(this,arguments)}function Hv(){return(Hv=G(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},kx),e);try{const i=new qc(n),u=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield u.json();if("needConfirmation"in l)throw Wc(n,"account-exists-with-different-credential",l);if(u.ok&&!("errorMessage"in l))return l;{const h=u.ok?l.errorMessage:l.error.message,[p,_]=h.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===p)throw Wc(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===p)throw Wc(n,"email-already-in-use",l);if("USER_DISABLED"===p)throw Wc(n,"user-disabled",l);const A=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw function vC(n,e,t){const r=Object.assign(Object.assign({},yC()),{[e]:t});return new Eo("auth","Firebase",r).create(e,{appName:n.name})}(n,A,_);zi(n,A)}}catch(i){if(i instanceof Jr)throw i;zi(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ao(n,e,t,r){return zv.apply(this,arguments)}function zv(){return(zv=G(function*(n,e,t,r,i={}){const u=yield er(n,e,t,r,i);return"mfaPendingCredential"in u&&zi(n,"multi-factor-auth-required",{_serverResponse:u}),u})).apply(this,arguments)}function Gv(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?$v(n.config,i):`${n.config.apiScheme}://${i}`}class qc{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ua(this.auth,"network-request-failed")),jv.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ua(n,e,r);return i.customData._tokenResponse=t,i}function bC(){return(bC=G(function*(n,e){return er(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function bg(){return(bg=G(function*(n,e){return er(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Kc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function qh(){return(qh=G(function*(n,e=!1){const t=Or(n),r=yield t.getIdToken(e),i=Wh(r);ze(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const u="object"==typeof i.firebase?i.firebase:void 0,l=u?.sign_in_provider;return{claims:i,token:r,authTime:Kc(Ig(i.auth_time)),issuedAtTime:Kc(Ig(i.iat)),expirationTime:Kc(Ig(i.exp)),signInProvider:l||null,signInSecondFactor:u?.sign_in_second_factor||null}})).apply(this,arguments)}function Ig(n){return 1e3*Number(n)}function Wh(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return wg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Wd(t);return i?JSON.parse(i):(wg("Failed to decode base64 JWT payload"),null)}catch(i){return wg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ca(n,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=G(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Jr&&function Lx({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Vx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(G(function*(){yield t.iteration()}),r)}iteration(){var e=this;return G(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class DC{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yc(n){return TC.apply(this,arguments)}function TC(){return TC=G(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ca(n,function Fx(n,e){return bg.apply(this,arguments)}(t,{idToken:r}));ze(i?.users.length,t,"internal-error");const u=i.users[0];n._notifyReloadListener(u);const l=null!==(e=u.providerUserInfo)&&void 0!==e&&e.length?function RO(n){return n.map(e=>{var{providerId:t}=e,r=(0,Lv._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(u.providerUserInfo):[],h=function Bx(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),A=!!n.isAnonymous&&!(n.email&&u.passwordHash||h?.length),R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new DC(u.createdAt,u.lastLoginAt),isAnonymous:A};Object.assign(n,R)}),TC.apply(this,arguments)}function Kv(){return(Kv=G(function*(n){const e=Or(n);yield Yc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Yv(){return(Yv=G(function*(n,e){const t=yield EC(n,{},G(function*(){const r=Kd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:u}=n.config,l=Gv(n,i,"/v1/token",`key=${u}`),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",wC.fetch()(l,{method:"POST",headers:h,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Kh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function CC(n){const e=Wh(n);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return G(function*(){return ze(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return G(function*(){const{accessToken:i,refreshToken:u,expiresIn:l}=yield function Ux(n,e){return Yv.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,u,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:u}=t,l=new Kh;return r&&(ze("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(ze("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),u&&(ze("number"==typeof u,"internal-error",{appName:e}),l.expirationTime=u),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kh,this.toJSON())}_performRefresh(){return la("not implemented")}}function Nu(n,e){ze("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class kl{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,u=(0,Lv._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new DC(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){var t=this;return G(function*(){const r=yield ca(t,t.stsTokenManager.getToken(t.auth,e));return ze(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function IC(n){return qh.apply(this,arguments)}(this,e)}reload(){return function SC(n){return Kv.apply(this,arguments)}(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return G(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Yc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return G(function*(){const t=yield e.getIdToken();return yield ca(e,function Ox(n,e){return bC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,u,l,h,p,_,A;const R=null!==(r=t.displayName)&&void 0!==r?r:void 0,j=null!==(i=t.email)&&void 0!==i?i:void 0,W=null!==(u=t.phoneNumber)&&void 0!==u?u:void 0,ee=null!==(l=t.photoURL)&&void 0!==l?l:void 0,ne=null!==(h=t.tenantId)&&void 0!==h?h:void 0,de=null!==(p=t._redirectEventId)&&void 0!==p?p:void 0,Oe=null!==(_=t.createdAt)&&void 0!==_?_:void 0,Qe=null!==(A=t.lastLoginAt)&&void 0!==A?A:void 0,{uid:Fe,emailVerified:dt,isAnonymous:tn,providerData:kt,stsTokenManager:un}=t;ze(Fe&&un,e,"internal-error");const sr=Kh.fromJSON(this.name,un);ze("string"==typeof Fe,e,"internal-error"),Nu(R,e.name),Nu(j,e.name),ze("boolean"==typeof dt,e,"internal-error"),ze("boolean"==typeof tn,e,"internal-error"),Nu(W,e.name),Nu(ee,e.name),Nu(ne,e.name),Nu(de,e.name),Nu(Oe,e.name),Nu(Qe,e.name);const ii=new kl({uid:Fe,auth:e,email:j,emailVerified:dt,displayName:R,isAnonymous:tn,photoURL:ee,phoneNumber:W,tenantId:ne,stsTokenManager:sr,createdAt:Oe,lastLoginAt:Qe});return kt&&Array.isArray(kt)&&(ii.providerData=kt.map(Qa=>Object.assign({},Qa))),de&&(ii._redirectEventId=de),ii}static _fromIdTokenResponse(e,t,r=!1){return G(function*(){const i=new Kh;i.updateFromServerResponse(t);const u=new kl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Yc(u),u})()}}const AC=new Map;function $a(n){xu(n instanceof Function,"Expected a class definition");let e=AC.get(n);return e?(xu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AC.set(n,e),e)}const MC=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return G(function*(){return!0})()}_set(t,r){var i=this;return G(function*(){i.storage[t]=r})()}_get(t){var r=this;return G(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return G(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Cg(n,e,t){return`firebase:${n}:${e}:${t}`}class Qc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:u}=this.auth;this.fullUserKey=Cg(this.userKey,i.apiKey,u),this.fullPersistenceKey=Cg("persistence",i.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return G(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?kl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return G(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return G(function*(){if(!t.length)return new Qc($a(MC),e,r);const i=(yield Promise.all(t.map(function(){var _=G(function*(A){if(yield A._isAvailable())return A});return function(A){return _.apply(this,arguments)}}()))).filter(_=>_);let u=i[0]||$a(MC);const l=Cg(r,e.config.apiKey,e.name);let h=null;for(const _ of t)try{const A=yield _._get(l);if(A){const R=kl._fromJSON(e,A);_!==u&&(h=R),u=_;break}}catch{}const p=i.filter(_=>_._shouldAllowMigration);return u._shouldAllowMigration&&p.length?(u=p[0],h&&(yield u._set(l,h.toJSON())),yield Promise.all(t.map(function(){var _=G(function*(A){if(A!==u)try{yield A._remove(l)}catch{}});return function(A){return _.apply(this,arguments)}}())),new Qc(u,e,r)):new Qc(u,e,r)})()}}function xC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xc(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(ew(e))return"Webos";if(Dg(e))return"Safari";if((e.includes("chrome/")||Qv(e))&&!e.includes("edge/"))return"Chrome";if(Jv(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Xc(n=Tr()){return/firefox\//i.test(n)}function Dg(n=Tr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qv(n=Tr()){return/crios\//i.test(n)}function Xv(n=Tr()){return/iemobile/i.test(n)}function Jv(n=Tr()){return/android/i.test(n)}function Zv(n=Tr()){return/blackberry/i.test(n)}function ew(n=Tr()){return/webos/i.test(n)}function Tg(n=Tr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PC(n=Tr()){return Tg(n)||Jv(n)||ew(n)||Zv(n)||/windows phone/i.test(n)||Xv(n)}function kC(n,e=[]){let t;switch(n){case"Browser":t=xC(Tr());break;case"Worker":t=`${xC(Tr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pa}/${r}`}function Sg(n,e){return Js.apply(this,arguments)}function Js(){return(Js=G(function*(n,e){return er(n,"GET","/v2/recaptchaConfig",jn(n,e))})).apply(this,arguments)}function Ag(n){return void 0!==n&&void 0!==n.enterprise}class Jc{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function nw(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const u=ua("internal-error");u.customData=i,t(u)},r.type="text/javascript",r.charset="UTF-8",function jx(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function FC(n){return`__${n}${Math.floor(1e6*Math.random())}`}class VC{constructor(e){this.type="recaptcha-enterprise",this.auth=ei(e)}verify(e="verify",t=!1){var r=this;return G(function*(){function u(){return u=G(function*(h){if(!t){if(null==h.tenantId&&null!=h._agentRecaptchaConfig)return h._agentRecaptchaConfig.siteKey;if(null!=h.tenantId&&void 0!==h._tenantRecaptchaConfigs[h.tenantId])return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(function(){var p=G(function*(_,A){Sg(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(R=>{if(void 0!==R.recaptchaKey){const j=new Jc(R);return null==h.tenantId?h._agentRecaptchaConfig=j:h._tenantRecaptchaConfigs[h.tenantId]=j,_(j.siteKey)}A(new Error("recaptcha Enterprise site key undefined"))}).catch(R=>{A(R)})});return function(_,A){return p.apply(this,arguments)}}())}),u.apply(this,arguments)}function l(h,p,_){const A=window.grecaptcha;Ag(A)?A.enterprise.ready(()=>{A.enterprise.execute(h,{action:e}).then(R=>{p(R)}).catch(()=>{p("NO_RECAPTCHA")})}):_(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((h,p)=>{(function i(h){return u.apply(this,arguments)})(r.auth).then(_=>{if(!t&&Ag(window.grecaptcha))l(_,h,p);else{if(typeof window>"u")return void p(new Error("RecaptchaVerifier is only supported in browser"));nw("https://www.google.com/recaptcha/enterprise.js?render="+_).then(()=>{l(_,h,p)}).catch(A=>{p(A)})}}).catch(_=>{p(_)})})})()}}function da(n,e,t){return rw.apply(this,arguments)}function rw(){return(rw=G(function*(n,e,t,r=!1){const i=new VC(n);let u;try{u=yield i.verify(t)}catch{u=yield i.verify(t,!0)}const l=Object.assign({},e);return Object.assign(l,r?{captchaResp:u}:{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l})).apply(this,arguments)}class zx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((l,h)=>{try{l(e(u))}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return G(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const u of r)try{u()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class BC{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UC(this),this.idTokenSubscription=new UC(this),this.beforeStateQueue=new zx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_C,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=$a(t)),this._initializationPromise=this.queue(G(function*(){var i,u;if(!r._deleted&&(r.persistenceManager=yield Qc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return G(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return G(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let u=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const h=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,p=u?._redirectEventId,_=yield t.tryRedirectSignIn(e);(!h||h===p)&&_?.user&&(u=_.user,l=!0)}if(!u)return t.directlySetCurrentUser(null);if(!u._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(u)}catch(h){u=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(h))}return u?t.reloadAndSetCurrentUserOrClear(u):t.directlySetCurrentUser(null)}return ze(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===u._redirectEventId?t.directlySetCurrentUser(u):t.reloadAndSetCurrentUserOrClear(u)})()}tryRedirectSignIn(e){var t=this;return G(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return G(function*(){try{yield Yc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Px(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return G(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return G(function*(){const r=e?Or(e):null;return r&&ze(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return G(function*(){if(!r._deleted)return e&&ze(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(G(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return G(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(G(function*(){yield t.assertedPersistence.setPersistence($a(e))}))}initializeRecaptchaConfig(){var e=this;return G(function*(){const t=yield Sg(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Jc(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new VC(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Eo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return G(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return G(function*(){if(!t.redirectPersistenceManager){const r=e&&$a(e)||t._popupRedirectResolver;ze(r,t,"argument-error"),t.redirectPersistenceManager=yield Qc.create(t,[$a(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return G(function*(){var r,i;return t._isInitialized&&(yield t.queue(G(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return G(function*(){if(e===t.currentUser)return t.queue(G(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const u="function"==typeof t?t:t.next.bind(t),l=this._isInitialized?Promise.resolve():this._initializationPromise;return ze(l,this,"internal-error"),l.then(()=>u(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return G(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return G(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const u=yield e._getAppCheckToken();return u&&(r["X-Firebase-AppCheck"]=u),r})()}_getAppCheckToken(){var e=this;return G(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Vv(n,...e){vg.logLevel<=Pt.WARN&&vg.warn(`Auth (${Pa}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function ei(n){return Or(n)}class UC{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Hb(n,e){const t=new zb(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function iw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class ow{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return la("not implemented")}_getIdTokenResponse(e){return la("not implemented")}_linkToIdToken(e,t){return la("not implemented")}_getReauthenticationResolver(e){return la("not implemented")}}function aw(n,e){return uw.apply(this,arguments)}function uw(){return(uw=G(function*(n,e){return er(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Xh(n,e){return Rg.apply(this,arguments)}function Rg(){return(Rg=G(function*(n,e){return Ao(n,"POST","/v1/accounts:signInWithPassword",jn(n,e))})).apply(this,arguments)}function Og(){return(Og=G(function*(n,e){return Ao(n,"POST","/v1/accounts:signInWithEmailLink",jn(n,e))})).apply(this,arguments)}function Fg(){return(Fg=G(function*(n,e){return Ao(n,"POST","/v1/accounts:signInWithEmailLink",jn(n,e))})).apply(this,arguments)}class ed extends ow{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ed(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ed(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return G(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const u=yield da(e,i,"signInWithPassword");return Xh(e,u)}return Xh(e,i).catch(function(){var u=G(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const h=yield da(e,i,"signInWithPassword");return Xh(e,h)}return Promise.reject(l)});return function(l){return u.apply(this,arguments)}}());case"emailLink":return function qC(n,e){return Og.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:zi(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return G(function*(){switch(r.signInMethod){case"password":return aw(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Kx(n,e){return Fg.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:zi(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ja(n,e){return Lg.apply(this,arguments)}function Lg(){return(Lg=G(function*(n,e){return Ao(n,"POST","/v1/accounts:signInWithIdp",jn(n,e))})).apply(this,arguments)}class tf{constructor(e){var t,r,i,u,l,h;const p=hl(Sr(e)),_=null!==(t=p.apiKey)&&void 0!==t?t:null,A=null!==(r=p.oobCode)&&void 0!==r?r:null,R=function Qx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=p.mode)&&void 0!==i?i:null);ze(_&&A&&R,"argument-error"),this.apiKey=_,this.operation=R,this.code=A,this.continueUrl=null!==(u=p.continueUrl)&&void 0!==u?u:null,this.languageCode=null!==(l=p.languageCode)&&void 0!==l?l:null,this.tenantId=null!==(h=p.tenantId)&&void 0!==h?h:null}static parseLink(e){const t=function YC(n){const e=hl(Sr(n)).link,t=e?hl(Sr(e)).deep_link_id:null,r=hl(Sr(n)).deep_link_id;return(r?hl(Sr(r)).link:null)||r||t||e||n}(e);try{return new tf(t)}catch{return null}}}let QC=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ed._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=tf.parseLink(r);return ze(i,"argument-error"),ed._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ha{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class XC extends ha{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function rf(n,e){return sf.apply(this,arguments)}function sf(){return(sf=G(function*(n,e){return Ao(n,"POST","/v1/accounts:signUp",jn(n,e))})).apply(this,arguments)}class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return G(function*(){const u=yield kl._fromIdTokenResponse(e,r,i),l=tD(r);return new Mo({user:u,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return G(function*(){yield e._updateTokensIfNecessary(r,!0);const i=tD(r);return new Mo({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function tD(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ug extends Jr{constructor(e,t,r,i){var u;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ug.prototype),this.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ug(e,t,r,i)}}function nD(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw"auth/multi-factor-auth-required"===u.code?Ug._fromErrorAndOperation(n,u,e,r):u})}function jg(){return(jg=G(function*(n,e,t=!1){const r=yield ca(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Mo._forOperation(n,"link",r)})).apply(this,arguments)}function Ew(){return(Ew=G(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const u=yield ca(n,nD(r,i,e,n),t);ze(u.idToken,r,"internal-error");const l=Wh(u.idToken);ze(l,r,"internal-error");const{sub:h}=l;return ze(n.uid===h,r,"user-mismatch"),Mo._forOperation(n,i,u)}catch(u){throw"auth/user-not-found"===u?.code&&zi(r,"user-mismatch"),u}})).apply(this,arguments)}function bw(n,e){return zg.apply(this,arguments)}function zg(){return(zg=G(function*(n,e,t=!1){const r="signIn",i=yield nD(n,r,e),u=yield Mo._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(u.user)),u})).apply(this,arguments)}function qg(){return(qg=G(function*(n,e){return bw(ei(n),e)})).apply(this,arguments)}function dD(n,e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=G(function*(n,e,t){var r;const i=ei(n),u={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let l;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const _=yield da(i,u,"signUpPassword");l=rf(i,_)}else l=rf(i,u).catch(function(){var _=G(function*(A){if("auth/missing-recaptcha-token"===A.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const R=yield da(i,u,"signUpPassword");return rf(i,R)}return Promise.reject(A)});return function(A){return _.apply(this,arguments)}}());const h=yield l.catch(_=>Promise.reject(_)),p=yield Mo._fromIdTokenResponse(i,"signIn",h);return yield i._updateCurrentUser(p.user),p}),Cw.apply(this,arguments)}function eN(n,e,t){return function Gg(n,e){return qg.apply(this,arguments)}(Or(n),QC.credential(e,t))}function cN(n){return Or(n).signOut()}const cf="__sak";class Pw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pN=(()=>{class n extends Pw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rd(){const n=Tr();return Dg(n)||Tg(n)}()&&function $x(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=PC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),u=this.localCache[r];i!==u&&t(r,u,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((h,p,_)=>{this.notifyListeners(h,_)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(i);if(t.newValue!==h)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const u=()=>{const h=this.storage.getItem(i);!r&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);!function RC(){return function Dk(){const n=Tr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?u():setTimeout(u,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,u=this;return G(function*(){yield i().call(u,t,r),u.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return G(function*(){const u=yield r().call(i,t);return i.localCache[t]=JSON.stringify(u),u})()}_remove(t){var r=()=>super._remove,i=this;return G(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),gN=(()=>{class n extends Pw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let mN=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return G(function*(){const i=t,{eventId:u,eventType:l,data:h}=i.data,p=r.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:u,eventType:l});const _=Array.from(p).map(function(){var R=G(function*(j){return j(i.origin,h)});return function(j){return R.apply(this,arguments)}}()),A=yield function wD(n){return Promise.all(n.map(function(){var e=G(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(_);i.ports[0].postMessage({status:"done",eventId:u,eventType:l,response:A})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function ED(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class QO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return G(function*(){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let l,h;return new Promise((p,_)=>{const A=ED("",20);u.port1.start();const R=setTimeout(()=>{_(new Error("unsupported_event"))},r);h={messageChannel:u,onMessage(j){const W=j;if(W.data.eventId===A)switch(W.data.status){case"ack":clearTimeout(R),l=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(W.data.response);break;default:clearTimeout(R),clearTimeout(l),_(new Error("invalid_response"))}}},i.handlers.add(h),u.port1.addEventListener("message",h.onMessage),i.target.postMessage({eventType:e,eventId:A,data:t},[u.port2])}).finally(()=>{h&&i.removeMessageHandler(h)})})()}}function Lr(){return window}function nm(){return typeof Lr().WorkerGlobalScope<"u"&&"function"==typeof Lr().importScripts}function kw(){return(kw=G(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vN="firebaseLocalStorageDb",Ow="firebaseLocalStorage",wN="fbase_key";class df{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vl(n,e){return n.transaction([Ow],e?"readwrite":"readonly").objectStore(Ow)}function Fw(){const n=indexedDB.open(vN,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ow,{keyPath:wN})}catch(i){t(i)}}),n.addEventListener("success",G(function*(){const r=n.result;r.objectStoreNames.contains(Ow)?e(r):(r.close(),yield function EN(){const n=indexedDB.deleteDatabase(vN);return new df(n).toPromise()}(),e(yield Fw()))}))})}function Lw(n,e,t){return Ha.apply(this,arguments)}function Ha(){return(Ha=G(function*(n,e,t){const r=Vl(n,!0).put({[wN]:e,value:t});return new df(r).toPromise()})).apply(this,arguments)}function hf(){return(hf=G(function*(n,e){const t=Vl(n,!1).get(e),r=yield new df(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function rm(n,e){const t=Vl(n,!0).delete(e);return new df(t).toPromise()}const im=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return G(function*(){return t.db||(t.db=yield Fw()),t.db})()}_withRetries(t){var r=this;return G(function*(){let i=0;for(;;)try{const u=yield r._openDb();return yield t(u)}catch(u){if(i++>3)throw u;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return G(function*(){return nm()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return G(function*(){t.receiver=mN._getInstance(function JO(){return nm()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=G(function*(i,u){return{keyProcessed:(yield t._poll()).includes(u.key)}});return function(i,u){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=G(function*(i,u){return["keyChanged"]});return function(i,u){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return G(function*(){var r,i;if(t.activeServiceWorker=yield function yN(){return kw.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new QO(t.activeServiceWorker);const u=yield t.sender._send("ping",{},800);u&&null!==(r=u[0])&&void 0!==r&&r.fulfilled&&null!==(i=u[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return G(function*(){if(r.sender&&r.activeServiceWorker&&function _N(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return G(function*(){try{if(!indexedDB)return!1;const t=yield Fw();return yield Lw(t,cf,"1"),yield rm(t,cf),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return G(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return G(function*(){return i._withPendingWrite(G(function*(){return yield i._withRetries(u=>Lw(u,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return G(function*(){const i=yield r._withRetries(u=>function bD(n,e){return hf.apply(this,arguments)}(u,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return G(function*(){return r._withPendingWrite(G(function*(){return yield r._withRetries(i=>rm(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return G(function*(){const r=yield t._withRetries(l=>{const h=Vl(l,!1).getAll();return new df(h).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],u=new Set;for(const{fbase_key:l,value:h}of r)u.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(h)&&(t.notifyListeners(l,h),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!u.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(G(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();FC("rcb"),new Gc(3e4,6e4);class lm extends ow{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ja(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xN(n){return bw(n.auth,new lm(n),n.bypassAuthState)}function zw(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),function ww(n,e){return Ew.apply(this,arguments)}(t,new lm(n),n.bypassAuthState)}function NN(n){return Gw.apply(this,arguments)}function Gw(){return(Gw=G(function*(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),function $g(n,e){return jg.apply(this,arguments)}(t,new lm(n),n.bypassAuthState)})).apply(this,arguments)}class RD{constructor(e,t,r,i,u=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=G(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(u){e.reject(u)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return G(function*(){const{urlResponse:r,sessionId:i,postBody:u,tenantId:l,error:h,type:p}=e;if(h)return void t.reject(h);const _={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:u||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(p)(_))}catch(A){t.reject(A)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xN;case"linkViaPopup":case"linkViaRedirect":return NN;case"reauthViaPopup":case"reauthViaRedirect":return zw;default:zi(this.auth,"internal-error")}}resolve(e){xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Gc(2e3,1e4);const PN="pendingRedirect",cm=new Map;class oF extends RD{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return G(function*(){let r=cm.get(t.auth._key());if(!r){try{const u=(yield function aF(n,e){return FD.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(u)}catch(i){r=()=>Promise.reject(i)}cm.set(t.auth._key(),r)}return t.bypassAuthState||cm.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return G(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return G(function*(){})()}cleanUp(){}}function FD(){return(FD=G(function*(n,e){const t=function ON(n){return Cg(PN,n.config.apiKey,n.name)}(e),r=function kN(n){return $a(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function uF(n,e){cm.set(n._key(),e)}function x(n,e){return O.apply(this,arguments)}function O(){return(O=G(function*(n,e,t=!1){const r=ei(n),i=function Pu(n,e){return e?$a(e):(ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new oF(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l})).apply(this,arguments)}class ge{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ut(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ue(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ue(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ua(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(be(e))}saveEventToCache(e){this.cachedEventUids.add(be(e)),this.lastProcessedEventTime=Date.now()}}function be(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ue({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Et(){return(Et=G(function*(n,e={}){return er(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Jt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,In=/^https?/;function dm(){return dm=G(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function _e(n){return Et.apply(this,arguments)}(n);for(const t of e)try{if(I$(t))return}catch{}zi(n,"unauthorized-domain")}),dm.apply(this,arguments)}function I$(n){const e=Hh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!In.test(t))return!1;if(Jt.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const C$=new Gc(3e4,6e4);function dF(){const n=Lr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let VD=null;const S$=new Gc(5e3,15e3),A$="__/auth/iframe",M$="emulator/auth/iframe",x$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R$(n){const e=n.config;ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$v(e,M$):`https://${n.config.authDomain}/${A$}`,r={apiKey:e.apiKey,appName:n.name,v:Pa},i=N$.get(n.config.apiHost);i&&(r.eid=i);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${Kd(r).slice(1)}`}function FN(){return FN=G(function*(n){const e=yield function T$(n){return VD=VD||function D$(n){return new Promise((e,t)=>{var r,i,u;function l(){dF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dF(),t(ua(n,"network-request-failed"))},timeout:C$.get()})}if(null!==(i=null===(r=Lr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(u=Lr().gapi)||void 0===u||!u.load){const h=FC("iframefcb");return Lr()[h]=()=>{gapi.load?l():t(ua(n,"network-request-failed"))},nw(`https://apis.google.com/js/api.js?onload=${h}`).catch(p=>t(p))}l()}}).catch(e=>{throw VD=null,e})}(n),VD}(n),t=Lr().gapi;return ze(t,n,"internal-error"),e.open({where:document.body,url:R$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x$,dontclear:!0},r=>new Promise(function(){var i=G(function*(u,l){yield r.restyle({setHideOnLeave:!1});const h=ua(n,"network-request-failed"),p=Lr().setTimeout(()=>{l(h)},S$.get());function _(){Lr().clearTimeout(p),u(r)}r.ping(_).then(_,()=>{l(h)})});return function(u,l){return i.apply(this,arguments)}}()))}),FN.apply(this,arguments)}const k$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $$="__/auth/handler",j$="emulator/auth/handler",H$=encodeURIComponent("fac");function fF(n,e,t,r,i,u){return LN.apply(this,arguments)}function LN(){return(LN=G(function*(n,e,t,r,i,u){ze(n.config.authDomain,n,"auth-domain-config-required"),ze(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pa,eventId:i};if(e instanceof ha){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",function $b(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,R]of Object.entries(u||{}))l[A]=R}if(e instanceof XC){const A=e.getScopes().filter(R=>""!==R);A.length>0&&(l.scopes=A.join(","))}n.tenantId&&(l.tid=n.tenantId);const h=l;for(const A of Object.keys(h))void 0===h[A]&&delete h[A];const p=yield n._getAppCheckToken(),_=p?`#${H$}=${encodeURIComponent(p)}`:"";return`${function z$({config:n}){return n.emulator?$v(n,j$):`https://${n.authDomain}/${$$}`}(n)}?${Kd(h).slice(1)}${_}`})).apply(this,arguments)}const VN="webStorageSupport",q$=class G${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gN,this._completeRedirectFn=x,this._overrideRedirectResult=uF}_openPopup(e,t,r,i){var u=this;return G(function*(){var l;xu(null===(l=u.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const h=yield fF(e,t,r,Hh(),i);return function B$(n,e,t,r=500,i=600){const u=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},k$),{width:r.toString(),height:i.toString(),top:u,left:l}),_=Tr().toLowerCase();t&&(h=Qv(_)?"_blank":t),Xc(_)&&(e=e||"http://localhost",p.scrollbars="yes");const A=Object.entries(p).reduce((j,[W,ee])=>`${j}${W}=${ee},`,"");if(function NC(n=Tr()){var e;return Tg(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(_)&&"_self"!==h)return function U$(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",h),new hF(null);const R=window.open(e||"",h,A);ze(R,n,"popup-blocked");try{R.focus()}catch{}return new hF(R)}(e,h,ED())})()}_openRedirect(e,t,r,i){var u=this;return G(function*(){return yield u._originValidation(e),function XO(n){Lr().location.href=n}(yield fF(e,t,r,Hh(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:u}=this.eventManagers[t];return i?Promise.resolve(i):(xu(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return G(function*(){const r=yield function P$(n){return FN.apply(this,arguments)}(e),i=new ge(e);return r.register("authEvent",u=>(ze(u?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(VN,{type:VN},i=>{var u;const l=null===(u=i?.[0])||void 0===u?void 0:u[VN];void 0!==l&&t(!!l),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function xo(n){return dm.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PC()||Dg()||Tg()}};var mF="@firebase/auth";class W${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return G(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const X$=qS("authIdTokenMaxAge")||300;let _F=null;const J$=n=>function(){var e=G(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>X$)return;const u=r?.token;_F!==u&&(_F=u,yield fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Z$(n=qy()){const e=gl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function $C(n,e){const t=gl(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(op(t.getOptions(),e??{}))return i;zi(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:q$,persistence:[im,pN,gN]}),r=qS("authTokenSyncURL");if(r){const u=J$(r);(function xw(n,e,t){Or(n).beforeAuthStateChanged(e,t)})(t,u,()=>u(t.currentUser)),function Mw(n,e,t,r){Or(n).onIdTokenChanged(e,t,r)}(t,l=>u(l))}const i=Dy("auth");return i&&function Gx(n,e,t){const r=ei(n);ze(r._canInitEmulator,r,"emulator-config-failed"),ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,u=jC(e),{host:l,port:h}=function HC(n){const e=jC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const u=i[1];return{host:u,port:iw(r.substr(u.length+1))}}{const[u,l]=r.split(":");return{host:u,port:iw(l)}}}(e);r.config.emulator={url:`${u}//${l}${null===h?"":`:${h}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function sw(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function Y$(n){Mi(new Zr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:l,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kC(n)},_=new BC(r,i,u,p);return function xg(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map($a);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mi(new Zr("auth-internal",e=>{const t=ei(e.getProvider("auth").getImmediate());return new W$(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(mF,"0.23.2",function K$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Rn(mF,"0.23.2","esm2017")}("Browser");class UD{constructor(e){return e}}class UN{constructor(){return tg("auth")}}const $N=new v.OlP("angularfire2.auth-instances");function tj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new UD(r)}}const nj={provide:UN,deps:[[new v.FiY,$N]]},rj={provide:UD,useFactory:function ej(n,e){const t=Oh("auth",n,e);return t&&new UD(t)},deps:[[new v.FiY,$N],Ml]};let ij=(()=>{class n{constructor(){Rn("angularfire",Xn.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[rj,nj]}),n})();function sj(n,...e){return{ngModule:ij,providers:[{provide:$N,useFactory:tj(n),multi:!0,deps:[v.R0b,v.zs3,Bc,ng,[new v.FiY,Pl],...e]}]}}const oj=Xs(dD,!0),aj=Xs(Z$,!0),uj=Xs(eN,!0),lj=Xs(cN,!0);var tt,cj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},za={},jN=jN||{},Ut=cj||self;function $D(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yw(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var HN="closure_uid_"+(1e9*Math.random()>>>0),hj=0;function fj(n,e,t){return n.call.apply(n.bind,arguments)}function pj(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function cs(n,e,t){return(cs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fj:pj).apply(null,arguments)}function jD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ri(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function id(){this.s=this.s,this.o=this.o}id.prototype.s=!1,id.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function dj(n){Object.prototype.hasOwnProperty.call(n,HN)&&n[HN]||(n[HN]=++hj)}(this)},id.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function zN(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function EF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if($D(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let l=0;l<u;l++)n[i+l]=r[l]}else n.push(r)}}function ds(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ds.prototype.h=function(){this.defaultPrevented=!0};var mj=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",()=>{},e),Ut.removeEventListener("test",()=>{},e)}catch{}return n}();function Qw(n){return/^[\s\xa0]*$/.test(n)}function HD(){var n=Ut.navigator;return n&&(n=n.userAgent)?n:""}function ku(n){return-1!=HD().indexOf(n)}function GN(n){return GN[" "](n),n}GN[" "]=function(){};var WN,n,_j=ku("Opera"),hm=ku("Trident")||ku("MSIE"),bF=ku("Edge"),qN=bF||hm,IF=ku("Gecko")&&!(-1!=HD().toLowerCase().indexOf("webkit")&&!ku("Edge"))&&!(ku("Trident")||ku("MSIE"))&&!ku("Edge"),vj=-1!=HD().toLowerCase().indexOf("webkit")&&!ku("Edge");function CF(){var n=Ut.document;return n?n.documentMode:void 0}e:{var KN="",YN=(n=HD(),IF?/rv:([^\);]+)(\)|;)/.exec(n):bF?/Edge\/([\d\.]+)/.exec(n):hm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vj?/WebKit\/(\S+)/.exec(n):_j?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(YN&&(KN=YN?YN[1]:""),hm){var QN=CF();if(null!=QN&&QN>parseFloat(KN)){WN=String(QN);break e}}WN=KN}var wj=Ut.document&&hm&&(CF()||parseInt(WN,10))||void 0;function Xw(n,e){if(ds.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(IF){e:{try{GN(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ej[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Xw.$.h.call(this)}}Ri(Xw,ds);var Ej={2:"touch",3:"pen",4:"mouse"};Xw.prototype.h=function(){Xw.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jw="closure_listenable_"+(1e6*Math.random()|0),bj=0;function Ij(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++bj,this.fa=this.ia=!1}function zD(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function JN(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function TF(n){const e={};for(const t in n)e[t]=n[t];return e}const SF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<SF.length;u++)t=SF[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function GD(n){this.src=n,this.g={},this.h=0}function ZN(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=wF(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(zD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function eR(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}GD.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=eR(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new Ij(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var tR="closure_lm_"+(1e6*Math.random()|0),nR={};function MF(n,e,t,r,i){if(r&&r.once)return NF(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)MF(n,e[u],t,r,i);return null}return t=oR(t),n&&n[Jw]?n.O(e,t,Yw(r)?!!r.capture:!!r,i):xF(n,e,t,!1,r,i)}function xF(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var l=Yw(i)?!!i.capture:!!i,h=iR(n);if(h||(n[tR]=h=new GD(n)),(t=h.add(e,t,r,l,u)).proxy)return t;if(r=function Dj(){const e=Tj;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)mj||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(PF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function NF(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)NF(n,e[u],t,r,i);return null}return t=oR(t),n&&n[Jw]?n.P(e,t,Yw(r)?!!r.capture:!!r,i):xF(n,e,t,!0,r,i)}function RF(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)RF(n,e[u],t,r,i);else r=Yw(r)?!!r.capture:!!r,t=oR(t),n&&n[Jw]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=eR(u=n.g[e],t,r,i))&&(zD(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=iR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=eR(e,t,r,i)),(t=-1<n?e[n]:null)&&rR(t))}function rR(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Jw])ZN(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(PF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=iR(e))?(ZN(t,n),0==t.h&&(t.src=null,e[tR]=null)):zD(n)}}}function PF(n){return n in nR?nR[n]:nR[n]="on"+n}function Tj(n,e){if(n.fa)n=!0;else{e=new Xw(e,this);var t=n.listener,r=n.la||n.src;n.ia&&rR(n),n=t.call(r,e)}return n}function iR(n){return(n=n[tR])instanceof GD?n:null}var sR="__closure_events_fn_"+(1e9*Math.random()>>>0);function oR(n){return"function"==typeof n?n:(n[sR]||(n[sR]=function(e){return n.handleEvent(e)}),n[sR])}function Pi(){id.call(this),this.i=new GD(this),this.S=this,this.J=null}function Gi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ds(e,n);else if(e instanceof ds)e.target=e.target||n;else{var i=e;AF(e=new ds(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];i=qD(l,r,!0,e)&&i}if(i=qD(l=e.g=n,r,!0,e)&&i,i=qD(l,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=qD(l=e.g=t[u],r,!1,e)&&i}function qD(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var h=l.listener,p=l.la||l.src;l.ia&&ZN(n.i,l),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}Ri(Pi,id),Pi.prototype[Jw]=!0,Pi.prototype.removeEventListener=function(n,e,t,r){RF(this,n,e,t,r)},Pi.prototype.N=function(){if(Pi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)zD(t[r]);delete n.g[e],n.h--}}this.J=null},Pi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var aR=Ut.JSON.stringify;function Aj(){var n=uR;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kF=new class Sj{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new xj,n=>n.reset());class xj{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Nj(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Rj(n){Ut.setTimeout(()=>{throw n},0)}let Zw,eE=!1,uR=new class Mj{constructor(){this.h=this.g=null}add(e,t){const r=kF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},OF=()=>{const n=Ut.Promise.resolve(void 0);Zw=()=>{n.then(Pj)}};var Pj=()=>{for(var n;n=Aj();){try{n.h.call(n.g)}catch(t){Rj(t)}var e=kF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}eE=!1};function WD(n,e){Pi.call(this),this.h=n||1,this.g=e||Ut,this.j=cs(this.qb,this),this.l=Date.now()}function lR(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function cR(n,e,t){if("function"==typeof n)t&&(n=cs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=cs(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ut.setTimeout(n,e||0)}function FF(n){n.g=cR(()=>{n.g=null,n.i&&(n.i=!1,FF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ri(WD,Pi),(tt=WD.prototype).ga=!1,tt.T=null,tt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gi(this,"tick"),this.ga&&(lR(this),this.start()))}},tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.N=function(){WD.$.N.call(this),lR(this),delete this.g};class kj extends id{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:FF(this)}N(){super.N(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tE(n){id.call(this),this.h=n,this.g={}}Ri(tE,id);var LF=[];function VF(n,e,t,r){Array.isArray(t)||(t&&(LF[0]=t.toString()),t=LF);for(var i=0;i<t.length;i++){var u=MF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function BF(n){JN(n.g,function(e,t){this.g.hasOwnProperty(t)&&rR(e)},n),n.g={}}function KD(){this.g=!0}function fm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Vj(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<i.length;l++)i[l]=""}}}return aR(t)}catch{return e}}(n,t)+(r?" "+r:"")})}tE.prototype.N=function(){tE.$.N.call(this),BF(this)},tE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},KD.prototype.Ea=function(){this.g=!1},KD.prototype.info=function(){};var ff={},UF=null;function YD(){return UF=UF||new Pi}function $F(n){ds.call(this,ff.Ta,n)}function nE(n){const e=YD();Gi(e,new $F(e))}function jF(n,e){ds.call(this,ff.STAT_EVENT,n),this.stat=e}function Ns(n){const e=YD();Gi(e,new jF(e,n))}function HF(n,e){ds.call(this,ff.Ua,n),this.size=e}function rE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},e)}ff.Ta="serverreachability",Ri($F,ds),ff.STAT_EVENT="statevent",Ri(jF,ds),ff.Ua="timingevent",Ri(HF,ds);var QD={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dR(){}function qF(){}dR.prototype.h=null;var pR,iE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hR(){ds.call(this,"d")}function fR(){ds.call(this,"c")}function XD(){}function sE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new tE(this),this.P=Bj,this.V=new WD(n=qN?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WF}function WF(){this.i=null,this.g="",this.h=!1}Ri(hR,ds),Ri(fR,ds),Ri(XD,dR),XD.prototype.g=function(){return new XMLHttpRequest},XD.prototype.i=function(){return{}},pR=new XD;var Bj=45e3,gR={},JD={};function mR(n,e,t){n.L=1,n.v=nT(Bl(e)),n.s=t,n.S=!0,KF(n,null)}function KF(n,e){n.G=Date.now(),oE(n),n.A=Bl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),iL(t.i,"t",r),n.C=0,t=n.l.J,n.h=new WF,n.g=AL(n.l,t?e:null,!n.s),0<n.O&&(n.M=new kj(cs(n.Pa,n,n.g),n.O)),VF(n.U,n.g,"readystatechange",n.nb),e=n.I?TF(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),nE(),function Oj(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var l="",h=u.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var A=_[0];_=_[1];var R=A.split("_");l=2<=R.length&&"type"==R[1]?l+(A+"=")+_+"&":l+(A+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function YF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function QF(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Uj(n,t),i==JD){4==e&&(n.o=4,Ns(14),r=!1),fm(n.j,n.m,null,"[Incomplete Response]");break}if(i==gR){n.o=4,Ns(15),fm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}fm(n.j,n.m,i,null),yR(n,i)}YF(n)&&i!=JD&&i!=gR&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ns(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),CR(e),e.M=!0,Ns(11))):(fm(n.j,n.m,t,"[Invalid Chunked Response]"),pf(n),aE(n))}function Uj(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?JD:(t=Number(e.substring(t,r)),isNaN(t)?gR:(r+=1)+t>e.length?JD:(e=e.slice(r,r+t),n.C=r+t,e))}function oE(n){n.Y=Date.now()+n.P,XF(n,n.P)}function XF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rE(cs(n.lb,n),e)}function ZD(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function aE(n){0==n.l.H||n.J||CL(n.l,n)}function pf(n){ZD(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,lR(n.V),BF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function yR(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||_R(t.i,n)))if(!n.K&&_R(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;uT(t),oT(t)}IR(t),Ns(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=rE(cs(t.ib,t),6e3));if(1>=aL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else mf(t,11)}else if((n.K||t.g==n)&&uT(t),!Qw(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.V=_[0],_=_[1],2==t.H)if("c"==_[0]){t.K=_[1],t.pa=_[2];const A=_[3];null!=A&&(t.ra=A,t.l.info("VER="+t.ra));const R=_[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const j=_[5];null!=j&&"number"==typeof j&&0<j&&(t.L=r=1.5*j,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const W=n.g;if(W){const ee=W.g?W.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var u=r.i;u.g||-1==ee.indexOf("spdy")&&-1==ee.indexOf("quic")&&-1==ee.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(vR(u,u.h),u.h=null))}if(r.F){const ne=W.g?W.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.Da=ne,tr(r.I,r.F,ne))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=SL(r,r.J?r.pa:null,r.Y),l.K){uL(r.i,l);var h=l,p=r.L;p&&h.setTimeout(p),h.B&&(ZD(h),oE(h)),r.g=l}else bL(r);0<t.j.length&&aT(t)}else"stop"!=_[0]&&"close"!=_[0]||mf(t,7);else 3==t.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?mf(t,7):bR(t):"noop"!=_[0]&&t.h&&t.h.Aa(_),t.A=0)}nE()}catch{}}function JF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($D(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function jj(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($D(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function $j(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($D(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(tt=sE.prototype).setTimeout=function(n){this.P=n},tt.nb=function(n){n=n.target;const e=this.M;e&&3==Ou(n)?e.l():this.Pa(n)},tt.Pa=function(n){try{if(n==this.g)e:{const A=Ou(this.g);var e=this.g.Ia();if(this.g.da(),!(3>A)&&(3!=A||qN||this.g&&(this.h.h||this.g.ja()||mL(this.g)))){this.J||4!=A||7==e||nE(),ZD(this);var t=this.g.da();this.ca=t;t:if(YF(this)){var r=mL(this.g);n="";var i=r.length,u=4==Ou(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pf(this),aE(this);var l="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Fj(n,e,t,r,i,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,A,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qw(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,Ns(12),pf(this),aE(this);break e}fm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yR(this,t)}this.S?(QF(this,A,l),qN&&this.i&&3==A&&(VF(this.U,this.V,"tick",this.mb),this.V.start())):(fm(this.j,this.m,l,null),yR(this,l)),4==A&&pf(this),this.i&&!this.J&&(4==A?CL(this.l,this):(this.i=!1,oE(this)))}else(function oH(n){const e={};n=(n.g&&2<=Ou(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Qw(n[r]))continue;var t=Nj(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[i]||[];e[i]=u,u.push(t)}!function Cj(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ns(12)):(this.o=0,Ns(13)),pf(this),aE(this)}}}catch{}},tt.mb=function(){if(this.g){var n=Ou(this.g),e=this.g.ja();this.C<e.length&&(ZD(this),QF(this,n,e),this.i&&4!=n&&oE(this))}},tt.cancel=function(){this.J=!0,pf(this)},tt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Lj(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(nE(),Ns(17)),pf(this),this.o=2,aE(this)):XF(this,this.Y-n)};var ZF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof gf){this.h=n.h,eT(this,n.j),this.s=n.s,this.g=n.g,tT(this,n.m),this.l=n.l;var e=n.i,t=new cE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),eL(this,t),this.o=n.o}else n&&(e=String(n).match(ZF))?(this.h=!1,eT(this,e[1]||"",!0),this.s=uE(e[2]||""),this.g=uE(e[3]||"",!0),tT(this,e[4]),this.l=uE(e[5]||"",!0),eL(this,e[6]||"",!0),this.o=uE(e[7]||"")):(this.h=!1,this.i=new cE(null,this.h))}function Bl(n){return new gf(n)}function eT(n,e,t){n.j=t?uE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function tT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function eL(n,e,t){e instanceof cE?(n.i=e,function Yj(n,e){e&&!n.j&&(sd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(nL(this,r),iL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=lE(e,Wj)),n.i=new cE(e,n.h))}function tr(n,e,t){n.i.set(e,t)}function nT(n){return tr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function uE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zj),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zj(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(lE(e,tL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(lE(e,tL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(lE(t,"/"==t.charAt(0)?qj:Gj,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",lE(t,Kj)),n.join("")};var tL=/[#\/\?@]/g,Gj=/[#\?:]/g,qj=/[#\?]/g,Wj=/[#\?@]/g,Kj=/#/g;function cE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function sd(n){n.g||(n.g=new Map,n.h=0,n.i&&function Hj(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nL(n,e){sd(n),e=pm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function rL(n,e){return sd(n),e=pm(n,e),n.g.has(e)}function iL(n,e,t){nL(n,e),0<t.length&&(n.i=null,n.g.set(pm(n,e),zN(t)),n.h+=t.length)}function pm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function sL(n){this.l=n||Xj,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ka&&Ut.g.Ka()&&Ut.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=cE.prototype).add=function(n,e){sd(this),this.i=null,n=pm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){sd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},tt.ta=function(){sd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},tt.Z=function(n){sd(this);let e=[];if("string"==typeof n)rL(this,n)&&(e=e.concat(this.g.get(pm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},tt.set=function(n,e){return sd(this),this.i=null,rL(this,n=pm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=u;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var Xj=10;function oL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aL(n){return n.h?1:n.g?n.g.size:0}function _R(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function vR(n,e){n.g?n.g.add(e):n.h=e}function uL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function lL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return zN(n.i)}sL.prototype.cancel=function(){if(this.i=lL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Jj=class{stringify(n){return Ut.JSON.stringify(n,void 0)}parse(n){return Ut.JSON.parse(n,void 0)}};function Zj(){this.g=new Jj}function eH(n,e,t){const r=t||"";try{JF(n,function(i,u){let l=i;Yw(i)&&(l=aR(i)),e.push(r+u+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rT(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function dE(n){this.l=n.fc||null,this.j=n.ob||!1}function iT(n,e){Pi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=wR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ri(dE,dR),dE.prototype.g=function(){return new iT(this.l,this.j)},dE.prototype.i=function(n){return function(){return n}}({}),Ri(iT,Pi);var wR=0;function cL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function hE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fE(n)}function fE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=iT.prototype).open=function(n,e){if(this.readyState!=wR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fE(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ut).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hE(this)),this.readyState=wR},tt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fE(this)),this.g&&(this.readyState=3,fE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ut.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},tt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hE(this):fE(this),3==this.readyState&&cL(this)}},tt.Za=function(n){this.g&&(this.response=this.responseText=n,hE(this))},tt.Ya=function(n){this.g&&(this.response=n,hE(this))},tt.ka=function(){this.g&&hE(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(iT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var nH=Ut.JSON.parse;function Ar(n){Pi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dL,this.L=this.M=!1}Ri(Ar,Pi);var dL="",rH=/^https?$/i,iH=["POST","PUT"];function hL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fL(n),sT(n)}function fL(n){n.F||(n.F=!0,Gi(n,"complete"),Gi(n,"error"))}function pL(n){if(n.h&&typeof jN<"u"&&(!n.C[1]||4!=Ou(n)||2!=n.da()))if(n.v&&4==Ou(n))cR(n.La,0,n);else if(Gi(n,"readystatechange"),4==Ou(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(ZF)[1]||null;!i&&Ut.self&&Ut.self.location&&(i=Ut.self.location.protocol.slice(0,-1)),r=!rH.test(i?i.toLowerCase():"")}t=r}if(t)Gi(n,"complete"),Gi(n,"success");else{n.m=6;try{var u=2<Ou(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",fL(n)}}finally{sT(n)}}}function sT(n,e){if(n.g){gL(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Gi(n,"ready");try{t.onreadystatechange=r}catch{}}}function gL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function Ou(n){return n.g?n.g.readyState:0}function mL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case dL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yL(n){let e="";return JN(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ER(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=yL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):tr(n,e,t))}function pE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _L(n){this.Ga=0,this.j=[],this.l=new KD,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pE("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pE("baseRetryDelayMs",5e3,n),this.hb=pE("retryDelaySeedMs",1e4,n),this.eb=pE("forwardChannelMaxRetries",2,n),this.xa=pE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new sL(n&&n.concurrentRequestLimit),this.Ja=new Zj,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bR(n){if(vL(n),3==n.H){var e=n.W++,t=Bl(n.I);if(tr(t,"SID",n.K),tr(t,"RID",e),tr(t,"TYPE","terminate"),gE(n,t),(e=new sE(n,n.l,e)).L=2,e.v=nT(Bl(t)),t=!1,Ut.navigator&&Ut.navigator.sendBeacon)try{t=Ut.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=AL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),oE(e)}TL(n)}function oT(n){n.g&&(CR(n),n.g.cancel(),n.g=null)}function vL(n){oT(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),uT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function aT(n){if(!oL(n.i)&&!n.m){n.m=!0;var e=n.Na;Zw||OF(),eE||(Zw(),eE=!0),uR.add(e,n),n.C=0}}function wL(n,e){var t;t=e?e.m:n.W++;const r=Bl(n.I);tr(r,"SID",n.K),tr(r,"RID",t),tr(r,"AID",n.V),gE(n,r),n.o&&n.s&&ER(r,n.o,n.s),t=new sE(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=EL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),vR(n.i,t),mR(t,r,e)}function gE(n,e){n.na&&JN(n.na,function(t,r){tr(e,r,t)}),n.h&&JF({},function(t,r){tr(e,r,t)})}function EL(n,e,t){t=Math.min(n.j.length,t);var r=n.h?cs(n.h.Va,n.h,n):null;e:{var i=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=i[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let h=!0;for(let p=0;p<t;p++){let _=i[p].g;const A=i[p].map;if(_-=u,0>_)u=Math.max(0,i[p].g-100),h=!1;else try{eH(A,l,"req"+_+"_")}catch{r&&r(A)}}if(h){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function bL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Zw||OF(),eE||(Zw(),eE=!0),uR.add(e,n),n.A=0}}function IR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=rE(cs(n.Ma,n),DL(n,n.A)),n.A++,0))}function CR(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function IL(n){n.g=new sE(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Bl(n.wa);tr(e,"RID","rpc"),tr(e,"SID",n.K),tr(e,"AID",n.V),tr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&tr(e,"TO",n.qa),tr(e,"TYPE","xmlhttp"),gE(n,e),n.o&&n.s&&ER(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=nT(Bl(e)),t.s=null,t.S=!0,KF(t,n)}function uT(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function CL(n,e){var t=null;if(n.g==e){uT(n),CR(n),n.g=null;var r=2}else{if(!_R(n.i,e))return;t=e.F,uL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Gi(r=YD(),new HF(r,t)),aT(n)}else bL(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function aH(n,e){return!(aL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=rE(cs(n.Na,n,e),DL(n,n.C)),n.C++,0)))}(n,e)||2==r&&IR(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:mf(n,5);break;case 4:mf(n,10);break;case 3:mf(n,6);break;default:mf(n,2)}}function DL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function mf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=cs(n.pb,n);t||(t=new gf("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||eT(t,"https"),nT(t)),function tH(n,e){const t=new KD;if(Ut.Image){const r=new Image;r.onload=jD(rT,t,r,"TestLoadImage: loaded",!0,e),r.onerror=jD(rT,t,r,"TestLoadImage: error",!1,e),r.onabort=jD(rT,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=jD(rT,t,r,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ns(2);n.H=0,n.h&&n.h.za(e),TL(n),vL(n)}function TL(n){if(n.H=0,n.ma=[],n.h){const e=lL(n.i);(0!=e.length||0!=n.j.length)&&(EF(n.ma,e),EF(n.ma,n.j),n.i.i.length=0,zN(n.j),n.j.length=0),n.h.ya()}}function SL(n,e,t){var r=t instanceof gf?Bl(t):new gf(t);if(""!=r.g)e&&(r.g=e+"."+r.g),tT(r,r.m);else{var i=Ut.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new gf(null);r&&eT(u,r),e&&(u.g=e),i&&tT(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&tr(r,t,e),tr(r,"VER",n.ra),gE(n,r),r}function AL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ar(t&&n.Ha&&!n.va?new dE({ob:!0}):n.va)).Oa(n.J),e}function ML(){}function lT(){if(hm&&!(10<=Number(wj)))throw Error("Environmental error: no available transport.")}function No(n,e){Pi.call(this),this.g=new _L(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Qw(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qw(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new gm(this)}function xL(n){hR.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function NL(){fR.call(this),this.status=1}function gm(n){this.g=n}function Ga(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function DR(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=u+((l=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function Pn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(tt=Ar.prototype).Oa=function(n){this.M=n},tt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pR.g(),this.C=function GF(n){return n.h||(n.h=n.i())}(this.u?this.u:pR),this.g.onreadystatechange=cs(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void hL(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Ut.FormData&&n instanceof Ut.FormData,!(0<=wF(iH,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gL(this),0<this.B&&((this.L=function sH(n){return hm&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cs(this.ua,this)):this.A=cR(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){hL(this,u)}},tt.ua=function(){typeof jN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gi(this,"complete"),Gi(this,"abort"),sT(this))},tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sT(this,!0)),Ar.$.N.call(this)},tt.La=function(){this.s||(this.G||this.v||this.l?pL(this):this.kb())},tt.kb=function(){pL(this)},tt.isActive=function(){return!!this.g},tt.da=function(){try{return 2<Ou(this)?this.g.status:-1}catch{return-1}},tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),nH(e)}},tt.Ia=function(){return this.m},tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=_L.prototype).ra=8,tt.H=1,tt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new sE(this,this.l,n);let u=this.s;if(this.U&&(u?(u=TF(u),AF(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=EL(this,i,e),tr(t=Bl(this.I),"RID",n),tr(t,"CVER",22),this.F&&tr(t,"X-HTTP-Session-Id",this.F),gE(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(yL(u)))+"&"+e:this.o&&ER(t,this.o,u)),vR(this.i,i),this.bb&&tr(t,"TYPE","init"),this.P?(tr(t,"$req",e),tr(t,"SID","null"),i.aa=!0,mR(i,t,null)):mR(i,t,e),this.H=2}}else 3==this.H&&(n?wL(this,n):0==this.j.length||oL(this.i)||wL(this))},tt.Ma=function(){if(this.u=null,IL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=rE(cs(this.jb,this),n)}},tt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ns(10),oT(this),IL(this))},tt.ib=function(){null!=this.v&&(this.v=null,oT(this),IR(this),Ns(19))},tt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ns(2)):(this.l.info("Failed to ping google.com"),Ns(1))},tt.isActive=function(){return!!this.h&&this.h.isActive(this)},(tt=ML.prototype).Ba=function(){},tt.Aa=function(){},tt.za=function(){},tt.ya=function(){},tt.isActive=function(){return!0},tt.Va=function(){},lT.prototype.g=function(n,e){return new No(n,e)},Ri(No,Pi),No.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ns(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=SL(n,null,n.Y),aT(n)},No.prototype.close=function(){bR(this.g)},No.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=aR(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&aT(e)},No.prototype.N=function(){this.g.h=null,delete this.j,bR(this.g),delete this.g,No.$.N.call(this)},Ri(xL,hR),Ri(NL,fR),Ri(gm,ML),gm.prototype.Ba=function(){Gi(this.g,"a")},gm.prototype.Aa=function(n){Gi(this.g,new xL(n))},gm.prototype.za=function(n){Gi(this.g,new NL)},gm.prototype.ya=function(){Gi(this.g,"b")},Ri(Ga,function uH(){this.blockSize=-1}),Ga.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ga.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)DR(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){DR(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){DR(this,r),i=0;break}}this.h=i,this.i+=e},Ga.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var lH={};function TR(n){return-128<=n&&128>n?function yj(n,e){var t=lH;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Pn([0|e],0>e?-1:0)}):new Pn([0|n],0>n?-1:0)}function Fu(n){if(isNaN(n)||!isFinite(n))return mm;if(0>n)return qi(Fu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=SR;return new Pn(e,0)}var SR=4294967296,mm=TR(0),AR=TR(1),PL=TR(16777216);function Ul(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function fa(n){return-1==n.h}function qi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Pn(t,~n.h).add(AR)}function cT(n,e){return n.add(qi(e))}function dT(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function mE(n,e){this.g=n,this.h=e}function hT(n,e){if(Ul(e))throw Error("division by zero");if(Ul(n))return new mE(mm,mm);if(fa(n))return e=hT(qi(n),e),new mE(qi(e.g),qi(e.h));if(fa(e))return e=hT(n,qi(e)),new mE(qi(e.g),e.h);if(30<n.g.length){if(fa(n)||fa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=AR,r=e;0>=r.X(n);)t=kL(t),r=kL(r);var i=ym(t,1),u=ym(r,1);for(r=ym(r,2),t=ym(t,2);!Ul(r);){var l=u.add(r);0>=l.X(n)&&(i=i.add(t),u=l),r=ym(r,1),t=ym(t,1)}return e=cT(n,i.R(e)),new mE(i,e)}for(i=mm;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Fu(t)).R(e);fa(l)||0<l.X(n);)l=(u=Fu(t-=r)).R(e);Ul(u)&&(u=AR),i=i.add(u),n=cT(n,l)}return new mE(i,n)}function kL(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Pn(t,n.h)}function ym(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Pn(i,n.h)}(tt=Pn.prototype).ea=function(){if(fa(this))return-qi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:SR+r)*e,e*=SR}return n},tt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ul(this))return"0";if(fa(this))return"-"+qi(this).toString(n);for(var e=Fu(Math.pow(n,6)),t=this,r="";;){var i=hT(t,e).g,u=((0<(t=cT(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ul(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},tt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},tt.X=function(n){return fa(n=cT(this,n))?-1:Ul(n)?0:1},tt.abs=function(){return fa(this)?qi(this):this},tt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),l=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(u&=65535)}return new Pn(t,-2147483648&t[t.length-1]?-1:0)},tt.R=function(n){if(Ul(this)||Ul(n))return mm;if(fa(this))return fa(n)?qi(this).R(qi(n)):qi(qi(this).R(n));if(fa(n))return qi(this.R(qi(n)));if(0>this.X(PL)&&0>n.X(PL))return Fu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,l=65535&this.D(r),h=n.D(i)>>>16,p=65535&n.D(i);t[2*r+2*i]+=l*p,dT(t,2*r+2*i),t[2*r+2*i+1]+=u*p,dT(t,2*r+2*i+1),t[2*r+2*i+1]+=l*h,dT(t,2*r+2*i+1),t[2*r+2*i+2]+=u*h,dT(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Pn(t,0)},tt.gb=function(n){return hT(this,n).h},tt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Pn(t,this.h&n.h)},tt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Pn(t,this.h|n.h)},tt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Pn(t,this.h^n.h)},lT.prototype.createWebChannel=lT.prototype.g,No.prototype.send=No.prototype.u,No.prototype.open=No.prototype.m,No.prototype.close=No.prototype.close,QD.NO_ERROR=0,QD.TIMEOUT=8,QD.HTTP_ERROR=6,zF.COMPLETE="complete",qF.EventType=iE,iE.OPEN="a",iE.CLOSE="b",iE.ERROR="c",iE.MESSAGE="d",Pi.prototype.listen=Pi.prototype.O,Ar.prototype.listenOnce=Ar.prototype.P,Ar.prototype.getLastError=Ar.prototype.Sa,Ar.prototype.getLastErrorCode=Ar.prototype.Ia,Ar.prototype.getStatus=Ar.prototype.da,Ar.prototype.getResponseJson=Ar.prototype.Wa,Ar.prototype.getResponseText=Ar.prototype.ja,Ar.prototype.send=Ar.prototype.ha,Ar.prototype.setWithCredentials=Ar.prototype.Oa,Ga.prototype.digest=Ga.prototype.l,Ga.prototype.reset=Ga.prototype.reset,Ga.prototype.update=Ga.prototype.j,Pn.prototype.add=Pn.prototype.add,Pn.prototype.multiply=Pn.prototype.R,Pn.prototype.modulo=Pn.prototype.gb,Pn.prototype.compare=Pn.prototype.X,Pn.prototype.toNumber=Pn.prototype.ea,Pn.prototype.toString=Pn.prototype.toString,Pn.prototype.getBits=Pn.prototype.D,Pn.fromNumber=Fu,Pn.fromString=function RL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return qi(RL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Fu(Math.pow(e,8)),r=mm,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+u),e);8>u?(u=Fu(Math.pow(e,u)),r=r.R(u).add(Fu(l))):r=(r=r.R(t)).add(Fu(l))}return r};var cH=za.createWebChannelTransport=function(){return new lT},dH=za.getStatEventTarget=function(){return YD()},MR=za.ErrorCode=QD,hH=za.EventType=zF,fH=za.Event=ff,OL=za.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pH=za.FetchXmlHttpFactory=dE,fT=za.WebChannel=qF,gH=za.XhrIo=Ar,mH=za.Md5=Ga,_m=za.Integer=Pn;const FL="@firebase/firestore";class ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");let vm="9.22.1";const od=new _u("@firebase/firestore");function xR(){return od.logLevel}function Re(n,...e){if(od.logLevel<=Pt.DEBUG){const t=e.map(NR);od.debug(`Firestore (${vm}): ${n}`,...t)}}function Vr(n,...e){if(od.logLevel<=Pt.ERROR){const t=e.map(NR);od.error(`Firestore (${vm}): ${n}`,...t)}}function qa(n,...e){if(od.logLevel<=Pt.WARN){const t=e.map(NR);od.warn(`Firestore (${vm}): ${n}`,...t)}}function NR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${vm}) INTERNAL ASSERTION FAILED: `+n;throw Vr(e),new Error(e)}function pt(n,e){n||lt()}function Je(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class LL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ki.UNAUTHENTICATED))}shutdown(){}}class _H{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vH{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let l=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new pi,e.enqueueRetryable(()=>u(this.currentUser))};const h=()=>{const _=l;e.enqueueRetryable(G(function*(){yield _.promise,yield u(r.currentUser)}))},p=_=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new pi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt("string"==typeof r.accessToken),new LL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(null===e||"string"==typeof e),new ki(e)}}class wH{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class EH{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new wH(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bH{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,Re("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt("string"==typeof t.token),this.T=t.token,new VL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function IH(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class BL{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=IH(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[u]%62))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function wm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class br{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new br(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new br(0,0))}static max(){return new yt(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yE{constructor(e,t,r){void 0===t?t=0:t>e.length&&lt(),void 0===r?r=e.length-t:r>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yE?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),l=t.get(i);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends yE{construct(e,t,r){return new pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const CH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends yE{construct(e,t,r){return new Br(e,t,r)}static isValidIdentifier(e){return CH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Te(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Te(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Te(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===h?(l=!l,i++):"."!==h||l?(r+=h,i++):(u(),i++)}if(u(),l)throw new Te(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(t)}static emptyPath(){return new Br([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(pn.fromString(e))}static fromName(e){return new Ye(pn.fromString(e).popFirst(5))}static empty(){return new Ye(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new pn(e.slice()))}}function jL(n){return new Ro(n.readTime,n.key,-1)}class Ro{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ro(yt.min(),Ye.empty(),-1)}static max(){return new Ro(yt.max(),Ye.empty(),-1)}}function PR(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}const HL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ad(n){return kR.apply(this,arguments)}function kR(){return kR=G(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==HL)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),kR.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let i=0,u=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++u,l&&u===i&&t()},p=>r(p))}),l=!0,u===i&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(i=>i?re.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new re((r,i)=>{const u=e.length,l=new Array(u);let h=0;for(let p=0;p<u;p++){const _=p;t(e[_]).next(A=>{l[_]=A,++h,h===u&&r(l)},A=>i(A))}})}static doWhile(e,t){return new re((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function ud(n){return"IndexedDbTransactionError"===n.name}let Po=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function wE(n){return null==n}function EE(n){return 0===n&&1/n==-1/0}function JL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ld(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Gn{constructor(e,t){this.comparator=e,this.root=t||Wi.EMPTY}insert(e,t){return new Gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _T(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _T(this.root,e,this.comparator,!1)}getReverseIterator(){return new _T(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _T(this.root,e,this.comparator,!0)}}class _T{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Wi.RED,this.left=i??Wi.EMPTY,this.right=u??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Wi(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1,Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Wi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nr{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new e2(this.data.getIterator())}getIteratorFrom(e){return new e2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nr(this.comparator);return t.data=e,t}}class e2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zs{constructor(e){this.fields=e,e.sort(Br.comparator)}static empty(){return new Zs([])}unionWith(e){let t=new nr(Br.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class t2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new t2("Invalid base64 string: "+i):i}}(e);return new gi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const QH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cd(n){if(pt(!!n),"string"==typeof n){let e=0;const t=QH.exec(n);if(pt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mr(n.seconds),nanos:Mr(n.nanos)}}function Mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $l(n){return"string"==typeof n?gi.fromBase64String(n):gi.fromUint8Array(n)}function vT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function wT(n){const e=n.mapValue.fields.__previous_value__;return vT(e)?wT(e):e}function bE(n){const e=cd(n.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}class XH{constructor(e,t,r,i,u,l,h,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=_}}class vf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vf&&e.projectId===this.projectId&&e.database===this.database}}const dd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vT(n)?4:s2(n)?9007199254740991:10:lt()}function Vu(n,e){if(n===e)return!0;const t=hd(n);if(t!==hd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bE(n).isEqual(bE(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=cd(r.timestampValue),l=cd(i.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,$l(n.bytesValue).isEqual($l(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Mr(r.geoPointValue.latitude)===Mr(i.geoPointValue.latitude)&&Mr(r.geoPointValue.longitude)===Mr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Mr(r.integerValue)===Mr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Mr(r.doubleValue),l=Mr(i.doubleValue);return u===l?EE(u)===EE(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return wm(n.arrayValue.values||[],e.arrayValue.values||[],Vu);case 10:return function(r,i){const u=r.mapValue.fields||{},l=i.mapValue.fields||{};if(JL(u)!==JL(l))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(void 0===l[h]||!Vu(u[h],l[h])))return!1;return!0}(n,e);default:return lt()}var i}function IE(n,e){return void 0!==(n.values||[]).find(t=>Vu(t,e))}function fd(n,e){if(n===e)return 0;const t=hd(n),r=hd(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const l=Mr(i.integerValue||i.doubleValue),h=Mr(u.integerValue||u.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return n2(n.timestampValue,e.timestampValue);case 4:return n2(bE(n),bE(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(i,u){const l=$l(i),h=$l(u);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const l=i.split("/"),h=u.split("/");for(let p=0;p<l.length&&p<h.length;p++){const _=Lt(l[p],h[p]);if(0!==_)return _}return Lt(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const l=Lt(Mr(i.latitude),Mr(u.latitude));return 0!==l?l:Lt(Mr(i.longitude),Mr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const l=i.values||[],h=u.values||[];for(let p=0;p<l.length&&p<h.length;++p){const _=fd(l[p],h[p]);if(_)return _}return Lt(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===dd.mapValue&&u===dd.mapValue)return 0;if(i===dd.mapValue)return 1;if(u===dd.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),p=u.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let A=0;A<h.length&&A<_.length;++A){const R=Lt(h[A],_[A]);if(0!==R)return R;const j=fd(l[h[A]],p[_[A]]);if(0!==j)return j}return Lt(h.length,_.length)}(n.mapValue,e.mapValue);default:throw lt()}}function n2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=cd(n),r=cd(e),i=Lt(t.seconds,r.seconds);return 0!==i?i:Lt(t.nanos,r.nanos)}function bm(n){return LR(n)}function LR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=cd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$l(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const l of r.values||[])u?u=!1:i+=",",i+=LR(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const h of i)l?l=!1:u+=",",u+=`${h}:${LR(r.fields[h])}`;return u+"}"}(n.mapValue):lt();var e}function VR(n){return!!n&&"integerValue"in n}function CE(n){return!!n&&"arrayValue"in n}function r2(n){return!!n&&"nullValue"in n}function i2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function IT(n){return!!n&&"mapValue"in n}function DE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ld(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=DE(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=DE(n.arrayValue.values[t]);return e}return Object.assign({},n)}function s2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ki{constructor(e){this.value=e}static empty(){return new Ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!IT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=DE(t)}setAll(e){let t=Br.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}l?r[h.lastSegment()]=DE(l):i.push(h.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());IT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];IT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ld(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Ki(DE(this.value))}}function u2(n){const e=[];return ld(n.fields,(t,r)=>{const i=new Br([t]);if(IT(r)){const u=u2(r.mapValue).fields;if(0===u.length)e.push(i);else for(const l of u)e.push(i.child(l))}else e.push(i)}),new Zs(e)}class rr{constructor(e,t,r,i,u,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=l,this.documentState=h}static newInvalidDocument(e){return new rr(e,0,yt.min(),yt.min(),yt.min(),Ki.empty(),0)}static newFoundDocument(e,t,r,i){return new rr(e,1,t,yt.min(),r,i,0)}static newNoDocument(e,t){return new rr(e,2,t,yt.min(),yt.min(),Ki.empty(),0)}static newUnknownDocument(e,t){return new rr(e,3,t,yt.min(),yt.min(),Ki.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pd{constructor(e,t){this.position=e,this.inclusive=t}}function l2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],l=n.position[i];if(r=u.field.isKeyField()?Ye.comparator(Ye.fromName(l.referenceValue),t.key):fd(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function c2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vu(n.position[t],e.position[t]))return!1;return!0}class Im{constructor(e,t="asc"){this.field=e,this.dir=t}}function ez(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class d2{}class ln extends d2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new tz(e,t,r):"array-contains"===t?new iz(e,r):"in"===t?new y2(e,r):"not-in"===t?new sz(e,r):"array-contains-any"===t?new oz(e,r):new ln(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new nz(e,r):new rz(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fd(t,this.value)):null!==t&&hd(this.value)===hd(t)&&this.matchesComparison(fd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class kn extends d2{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new kn(e,t)}matches(e){return Cm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Cm(n){return"and"===n.op}function UR(n){return function h2(n){for(const e of n.filters)if(e instanceof kn)return!1;return!0}(n)&&Cm(n)}function $R(n){if(n instanceof ln)return n.field.canonicalString()+n.op.toString()+bm(n.value);if(UR(n))return n.filters.map(e=>$R(e)).join(",");{const e=n.filters.map(t=>$R(t)).join(",");return`${n.op}(${e})`}}function f2(n,e){return n instanceof ln?(t=n,(r=e)instanceof ln&&t.op===r.op&&t.field.isEqual(r.field)&&Vu(t.value,r.value)):n instanceof kn?function(t,r){return r instanceof kn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,l)=>i&&f2(u,r.filters[l]),!0)}(n,e):void lt();var t,r}function g2(n){return n instanceof ln?`${(e=n).field.canonicalString()} ${e.op} ${bm(e.value)}`:n instanceof kn?function(e){return e.op.toString()+" {"+e.getFilters().map(g2).join(" ,")+"}"}(n):"Filter";var e}class tz extends ln{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class nz extends ln{constructor(e,t){super(e,"in",t),this.keys=m2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rz extends ln{constructor(e,t){super(e,"not-in",t),this.keys=m2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function m2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class iz extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return CE(t)&&IE(t.arrayValue,this.value)}}class y2 extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&IE(this.value.arrayValue,t)}}class sz extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(IE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!IE(this.value.arrayValue,t)}}class oz extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!CE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>IE(this.value.arrayValue,r))}}class az{constructor(e,t=null,r=[],i=[],u=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=l,this.endAt=h,this.dt=null}}function jR(n,e=null,t=[],r=[],i=null,u=null,l=null){return new az(n,e,t,r,i,u,l)}function Ef(n){const e=Je(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>$R(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),wE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bm(r)).join(",")),e.dt=t}return e.dt}function TE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ez(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!f2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!c2(n.startAt,e.startAt)&&c2(n.endAt,e.endAt)}function CT(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class jl{constructor(e,t=null,r=[],i=[],u=null,l="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=l,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function Dm(n){return new jl(n)}function E2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function bf(n){const e=Je(n);if(null===e.wt){e.wt=[];const t=function TT(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function HR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Im(t)),e.wt.push(new Im(Br.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Im(Br.keyField(),u))}}}return e.wt}function Rs(n){const e=Je(n);if(!e._t)if("F"===e.limitType)e._t=jR(e.path,e.collectionGroup,bf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of bf(e))t.push(new Im(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new pd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pd(e.startAt.position,e.startAt.inclusive):null;e._t=jR(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function ST(n,e,t){return new jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function SE(n,e){return TE(Rs(n),Rs(e))&&n.limitType===e.limitType}function b2(n){return`${Ef(Rs(n))}|lt:${n.limitType}`}function qR(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>g2(r)).join(", ")}]`),wE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bm(r)).join(",")),`Target(${t})`}(Rs(n))}; limitType=${n.limitType})`}function AE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ye.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of bf(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,l){const h=l2(i,u,l);return i.inclusive?h<=0:h<0}(t.startAt,bf(t),r)||t.endAt&&!function(i,u,l){const h=l2(i,u,l);return i.inclusive?h>=0:h>0}(t.endAt,bf(t),r)));var t,r}function C2(n){return(e,t)=>{let r=!1;for(const i of bf(n)){const u=uz(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function uz(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(i,u,l){const h=u.data.field(i),p=l.data.field(i);return null!==h&&null!==p?fd(h,p):lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}class Hl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ld(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return ZL(this.inner)}size(){return this.innerSize}}const lz=new Gn(Ye.comparator);function eo(){return lz}const D2=new Gn(Ye.comparator);function ME(...n){let e=D2;for(const t of n)e=e.insert(t.key,t);return e}function T2(n){let e=D2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bu(){return xE()}function S2(){return xE()}function xE(){return new Hl(n=>n.toString(),(n,e)=>n.isEqual(e))}const cz=new Gn(Ye.comparator),dz=new nr(Ye.comparator);function Kt(...n){let e=dz;for(const t of n)e=e.add(t);return e}const hz=new nr(Lt);function A2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:EE(e)?"-0":e}}function M2(n){return{integerValue:""+n}}function x2(n,e){return function GL(n){return"number"==typeof n&&Number.isInteger(n)&&!EE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?M2(e):A2(n,e)}class AT{constructor(){this._=void 0}}function fz(n,e,t){return n instanceof Tm?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&vT(i)&&(i=wT(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof If?R2(n,e):n instanceof Cf?P2(n,e):function(r,i){const u=N2(r,i),l=k2(u)+k2(r.gt);return VR(u)&&VR(r.gt)?M2(l):A2(r.serializer,l)}(n,e)}function pz(n,e,t){return n instanceof If?R2(n,e):n instanceof Cf?P2(n,e):t}function N2(n,e){return n instanceof Sm?VR(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Tm extends AT{}class If extends AT{constructor(e){super(),this.elements=e}}function R2(n,e){const t=O2(e);for(const r of n.elements)t.some(i=>Vu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Cf extends AT{constructor(e){super(),this.elements=e}}function P2(n,e){let t=O2(e);for(const r of n.elements)t=t.filter(i=>!Vu(i,r));return{arrayValue:{values:t}}}class Sm extends AT{constructor(e,t){super(),this.serializer=e,this.gt=t}}function k2(n){return Mr(n.integerValue||n.doubleValue)}function O2(n){return CE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mz{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function MT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xT{}function F2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Mm(n.key,dr.none()):new Am(n.key,n.data,dr.none());{const t=n.data,r=Ki.empty();let i=new nr(Br.comparator);for(let u of e.fields)if(!i.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),i=i.add(u)}return new zl(n.key,r,new Zs(i.toArray()),dr.none())}}function yz(n,e,t){n instanceof Am?function(r,i,u){const l=r.value.clone(),h=B2(r.fieldTransforms,i,u.transformResults);l.setAll(h),i.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof zl?function(r,i,u){if(!MT(r.precondition,i))return void i.convertToUnknownDocument(u.version);const l=B2(r.fieldTransforms,i,u.transformResults),h=i.data;h.setAll(V2(r)),h.setAll(l),i.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function RE(n,e,t,r){return n instanceof Am?function(i,u,l,h){if(!MT(i.precondition,u))return l;const p=i.value.clone(),_=U2(i.fieldTransforms,h,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof zl?function(i,u,l,h){if(!MT(i.precondition,u))return l;const p=U2(i.fieldTransforms,h,u),_=u.data;return _.setAll(V2(i)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(A=>A.field))}(n,e,t,r):(l=t,MT(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function _z(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=N2(r.transform,i||null);null!=u&&(null===t&&(t=Ki.empty()),t.set(r.field,u))}return t||null}function L2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&wm(t,r,(i,u)=>function gz(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof If&&r instanceof If||t instanceof Cf&&r instanceof Cf?wm(t.elements,r.elements,Vu):t instanceof Sm&&r instanceof Sm?Vu(t.gt,r.gt):t instanceof Tm&&r instanceof Tm);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Am extends xT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zl extends xT{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function V2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function B2(n,e,t){const r=new Map;pt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],l=u.transform,h=e.data.field(u.field);r.set(u.field,pz(l,h,t[i]))}return r}function U2(n,e,t){const r=new Map;for(const i of n){const u=i.transform,l=t.data.field(i.field);r.set(i.field,fz(u,l,e))}return r}class Mm extends xT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KR extends xT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YR{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&yz(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=RE(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=RE(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=S2();return this.mutations.forEach(i=>{const u=e.get(i.key),l=u.overlayedDocument;let h=this.applyToLocalView(l,u.mutatedFields);h=t.has(i.key)?null:h;const p=F2(l,h);null!==p&&r.set(i.key,p),l.isValidDocument()||l.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kt())}isEqual(e){return this.batchId===e.batchId&&wm(this.mutations,e.mutations,(t,r)=>L2(t,r))&&wm(this.baseMutations,e.baseMutations,(t,r)=>L2(t,r))}}class QR{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pt(e.mutations.length===r.length);let i=cz;const u=e.mutations;for(let l=0;l<u.length;l++)i=i.insert(u[l].key,r[l].version);return new QR(e,t,r,i)}}class XR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wz{constructor(e,t){this.count=e,this.unchangedNames=t}}var ti,gn;function j2(n){if(void 0===n)return Vr("GRPC error has no .code"),he.UNKNOWN;switch(n){case ti.OK:return he.OK;case ti.CANCELLED:return he.CANCELLED;case ti.UNKNOWN:return he.UNKNOWN;case ti.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case ti.INTERNAL:return he.INTERNAL;case ti.UNAVAILABLE:return he.UNAVAILABLE;case ti.UNAUTHENTICATED:return he.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case ti.NOT_FOUND:return he.NOT_FOUND;case ti.ALREADY_EXISTS:return he.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return he.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case ti.ABORTED:return he.ABORTED;case ti.OUT_OF_RANGE:return he.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return he.UNIMPLEMENTED;case ti.DATA_LOSS:return he.DATA_LOSS;default:return lt()}}(gn=ti||(ti={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class JR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return NT}static getOrCreateInstance(){return null===NT&&(NT=new JR),NT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let NT=null;const Ez=new _m([4294967295,4294967295],0);function z2(n){const e=function H2(){return new TextEncoder}().encode(n),t=new mH;return t.update(e),new Uint8Array(t.digest())}function G2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _m([t,r],0),new _m([i,u],0)]}class ZR{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new PE(`Invalid padding: ${t}`);if(r<0)throw new PE(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new PE(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new PE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=_m.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(_m.fromNumber(r)));return 1===i.compare(Ez)&&(i=new _m([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=z2(e),[r,i]=G2(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new ZR(u,i,t);return r.forEach(h=>l.insert(h)),l}insert(e){if(0===this.It)return;const t=z2(e),[r,i]=G2(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class PE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kE{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,OE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kE(yt.min(),i,new Gn(Lt),eo(),Kt())}}class OE{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new OE(r,t,Kt(),Kt(),Kt())}}class RT{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class q2{constructor(e,t){this.targetId=e,this.Vt=t}}class W2{constructor(e,t,r=gi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class K2{constructor(){this.St=0,this.Dt=Q2(),this.Ct=gi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Kt(),t=Kt(),r=Kt();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:lt()}}),new OE(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=Q2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class bz{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=eo(),this.zt=Y2(),this.Wt=new Gn(Lt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(CT(l))if(0===i){const h=new Ye(l.path);this.Yt(r,h,rr.newNoDocument(h,yt.min()))}else pt(1===i);else{const h=this.ie(r);if(h!==i){const p=this.re(e,h);0!==p&&(this.ee(r),this.Wt=this.Wt.insert(r,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=JR.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(_,A,R){var j,W,ee,ne,de,Oe;const Qe={localCacheCount:A,existenceFilterCount:R.count},Fe=R.unchangedNames;return Fe&&(Qe.bloomFilter={applied:0===_,hashCount:null!==(j=Fe?.hashCount)&&void 0!==j?j:0,bitmapLength:null!==(ne=null===(ee=null===(W=Fe?.bits)||void 0===W?void 0:W.bitmap)||void 0===ee?void 0:ee.length)&&void 0!==ne?ne:0,padding:null!==(Oe=null===(de=Fe?.bits)||void 0===de?void 0:de.padding)&&void 0!==Oe?Oe:0}),Qe}(p,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:h=0}=r;let p,_;try{p=$l(u).toUint8Array()}catch(A){if(A instanceof t2)return qa("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{_=new ZR(p,l,h)}catch(A){return qa(A instanceof PE?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return 0===_.It?1:i!==t-this.oe(e.targetId,_)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(h)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const h=this.se(l);if(h){if(u.current&&CT(h.target)){const p=new Ye(h.target.path);null!==this.jt.get(p)||this.ae(l,p)||this.Yt(l,p,rr.newNoDocument(p,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Kt();this.zt.forEach((u,l)=>{let h=!0;l.forEachWhile(p=>{const _=this.se(p);return!_||"TargetPurposeLimboResolution"===_.purpose||(h=!1,!1)}),h&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const i=new kE(e,t,this.Wt,this.jt,r);return this.jt=eo(),this.zt=Y2(),this.Wt=new Gn(Lt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new K2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new nr(Lt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new K2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Y2(){return new Gn(Ye.comparator)}function Q2(){return new Gn(Ye.comparator)}const Iz={asc:"ASCENDING",desc:"DESCENDING"},Cz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dz={and:"AND",or:"OR"};class Tz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function e1(n,e){return n.useProto3Json||wE(e)?e:{value:e}}function xm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Sz(n,e){return xm(n,e.toTimestamp())}function Ur(n){return pt(!!n),yt.fromTimestamp(function(e){const t=cd(e);return new br(t.seconds,t.nanos)}(n))}function t1(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function J2(n){const e=pn.fromString(n);return pt(aV(e)),e}function FE(n,e){return t1(n.databaseId,e.path)}function Uu(n,e){const t=J2(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(eV(t))}function n1(n,e){return t1(n.databaseId,e)}function LE(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eV(n){return pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tV(n,e,t){return{name:FE(n,e),fields:t.value.mapValue.fields}}function rV(n,e){return{documents:[n1(n,e.path)]}}function i1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=n1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=n1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0!==p.length)return oV(kn.create(p,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(p){if(0!==p.length)return p.map(_=>{return{field:gd((A=_).field),direction:Rz(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=e1(n,e.limit);var h,p;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function iV(n){let e=function Z2(n){const e=J2(n);return 4===e.length?pn.emptyPath():eV(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=function(A){const R=sV(A);return R instanceof kn&&UR(R)?R.getFilters():[R]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(A=>{return new Im(Nm((R=A).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let h=null;t.limit&&(h=function(A){let R;return R="object"==typeof A?A.value:A,wE(R)?null:R}(t.limit));let p=null;var A;t.startAt&&(p=new pd((A=t.startAt).values||[],!!A.before));let _=null;return t.endAt&&(_=function(A){return new pd(A.values||[],!A.before)}(t.endAt)),function w2(n,e,t,r,i,u,l,h){return new jl(n,e,t,r,i,u,l,h)}(e,i,l,u,h,"F",p,_)}function sV(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Nm(e.unaryFilter.field);return ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Nm(e.unaryFilter.field);return ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Nm(e.unaryFilter.field);return ln.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Nm(e.unaryFilter.field);return ln.create(u,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(n):void 0!==n.fieldFilter?ln.create(Nm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return kn.create(e.compositeFilter.filters.map(t=>sV(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return lt()}}(e.compositeFilter.op))}(n):lt();var e}function Rz(n){return Iz[n]}function Pz(n){return Cz[n]}function kz(n){return Dz[n]}function gd(n){return{fieldPath:n.canonicalString()}}function Nm(n){return Br.fromServerFormat(n.fieldPath)}function oV(n){return n instanceof ln?function(e){if("=="===e.op){if(i2(e.value))return{unaryFilter:{field:gd(e.field),op:"IS_NAN"}};if(r2(e.value))return{unaryFilter:{field:gd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(i2(e.value))return{unaryFilter:{field:gd(e.field),op:"IS_NOT_NAN"}};if(r2(e.value))return{unaryFilter:{field:gd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gd(e.field),op:Pz(e.op),value:e.value}}}(n):n instanceof kn?function(e){const t=e.getFilters().map(r=>oV(r));return 1===t.length?t[0]:{compositeFilter:{op:kz(e.op),filters:t}}}(n):lt()}function Oz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Gl{constructor(e,t,r,i,u=yt.min(),l=yt.min(),h=gi.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uV{constructor(e){this.fe=e}}function s1(n){const e=iV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ST(e,e.limit,"L"):e}class Af{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Mr(e.integerValue));else if("doubleValue"in e){const r=Mr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),EE(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae($l(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?s2(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):lt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Ye.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Af.Ve=new Af;class zz{constructor(){this.rn=new d1}addToCollectionParentIndex(e,t){return this.rn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Ro.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class d1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new nr(pn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nr(pn.comparator)).toArray()}}new Uint8Array(0);class fs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class xf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new xf(0)}static Mn(){return new xf(-1)}}class Qz{constructor(){this.changes=new Hl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&RE(r.mutation,i,Zs.empty(),br.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Kt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Kt()){const i=Bu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let l=ME();return u.forEach((h,p)=>{l=l.insert(h,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Bu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Kt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,r,i){let u=eo();const l=xE(),h=xE();return t.forEach((p,_)=>{const A=r.get(_.key);i.has(_.key)&&(void 0===A||A.mutation instanceof zl)?u=u.insert(_.key,_):void 0!==A?(l.set(_.key,A.mutation.getFieldMask()),RE(A.mutation,_,A.mutation.getFieldMask(),br.now())):l.set(_.key,Zs.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,A)=>l.set(_,A)),t.forEach((_,A)=>{var R;return h.set(_,new Zz(A,null!==(R=l.get(_))&&void 0!==R?R:null))}),h))}recalculateAndSaveOverlays(e,t){const r=xE();let i=new Gn((l,h)=>l-h),u=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(p=>{const _=t.get(p);if(null===_)return;let A=r.get(p)||Zs.empty();A=h.applyToLocalView(_,A),r.set(p,A);const R=(i.get(h.batchId)||Kt()).add(p);i=i.insert(h.batchId,R)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),_=p.key,A=p.value,R=S2();A.forEach(j=>{if(!u.has(j)){const W=F2(t.get(j),r.get(j));null!==W&&R.set(j,W),u=u.add(j)}}),l.push(this.documentOverlayCache.saveOverlays(e,_,R))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ye.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function zR(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const l=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):re.resolve(Bu());let h=-1,p=u;return l.next(_=>re.forEach(_,(A,R)=>(h<R.largestBatchId&&(h=R.largestBatchId),u.get(A)?re.resolve():this.remoteDocumentCache.getEntry(e,A).next(j=>{p=p.insert(A,j)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Kt())).next(A=>({batchId:h,changes:T2(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(r=>{let i=ME();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=ME();return this.indexManager.getCollectionParents(e,i).next(l=>re.forEach(l,h=>{const p=(_=t,A=h.child(i),new jl(A,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,A;return this.getDocumentsMatchingCollectionQuery(e,p,r).next(_=>{_.forEach((A,R)=>{u=u.insert(A,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((h,p)=>{const _=p.getKey();null===u.get(_)&&(u=u.insert(_,rr.newInvalidDocument(_)))});let l=ME();return u.forEach((h,p)=>{const _=i.get(h);void 0!==_&&RE(_.mutation,p,Zs.empty(),br.now()),AE(t,p)&&(l=l.insert(h,p))}),l})}}class e3{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return re.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Ur(r.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:s1(r.bundledQuery),readTime:Ur(r.readTime)}),re.resolve();var r}}class t3{constructor(){this.overlays=new Gn(Ye.comparator),this.ls=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Bu();return re.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const i=Bu(),u=t.length+1,l=new Ye(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>r&&i.set(p.getKey(),p)}return re.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Gn((_,A)=>_-A);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let A=u.get(_.largestBatchId);null===A&&(A=Bu(),u=u.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const h=Bu(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,A)=>h.set(_,A)),!(h.size()>=i)););return re.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new XR(t,r));let u=this.ls.get(t);void 0===u&&(u=Kt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class h1{constructor(){this.fs=new nr(Fi.ds),this.ws=new nr(Fi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Fi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Fi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ye(new pn([])),r=new Fi(t,e),i=new Fi(t,e+1),u=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ye(new pn([])),r=new Fi(t,e),i=new Fi(t,e+1);let u=Kt();return this.ws.forEachInRange([r,i],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Fi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Fi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ye.comparator(e.key,t.key)||Lt(e.As,t.As)}static _s(e,t){return Lt(e.As,t.As)||Ye.comparator(e.key,t.key)}}class n3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new nr(Fi.ds)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const l=new YR(u,t,r,i);this.mutationQueue.push(l);for(const h of i)this.Rs=this.Rs.add(new Fi(h.key,u)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Fi(t,0),i=new Fi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],l=>{const h=this.Ps(l.As);u.push(h)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nr(Lt);return t.forEach(i=>{const u=new Fi(i,0),l=new Fi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],h=>{r=r.add(h.As)})}),re.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ye.isDocumentKey(u)||(u=u.child(""));const l=new Fi(new Ye(u),0);let h=new nr(Lt);return this.Rs.forEachWhile(p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(h=h.add(p.As)),!0)},l),re.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){pt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return re.forEach(t.mutations,i=>{const u=new Fi(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Fi(t,0),i=this.Rs.firstAfterOrEqual(r);return re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return re.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class r3{constructor(e){this.Ds=e,this.docs=new Gn(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(t))}getEntries(e,t){let r=eo();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():rr.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=eo();const l=t.path,h=new Ye(l.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!l.isPrefixOf(_.path))break;_.path.length>l.length+1||PR(jL(A),r)<=0||(i.has(A.key)||AE(t,A))&&(u=u.insert(A.key,A.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,t,r,i){lt()}Cs(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new i3(this)}getSize(e){return re.resolve(this.size)}}class i3 extends Qz{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class s3{constructor(e){this.persistence=e,this.xs=new Hl(t=>Ef(t),TE),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new h1,this.targetCount=0,this.Ms=xf.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),re.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new xf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Fn(t),re.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),re.waitFor(u).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(l=>{u.push(i.markPotentiallyOrphaned(e,l))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.ks.containsKey(t))}}class f1{constructor(e,t){this.$s={},this.overlays={},this.Os=new Po(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new s3(this),this.indexManager=new zz,this.remoteDocumentCache=new r3(r=>this.referenceDelegate.Ls(r)),this.serializer=new uV(t),this.qs=new e3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new t3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new n3(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const i=new o3(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return re.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class o3 extends SH{constructor(e){super(),this.currentSequenceNumber=e}}class $T{constructor(e){this.persistence=e,this.Qs=new h1,this.js=null}static zs(e){return new $T(e)}get Ws(){if(this.js)return this.js;throw lt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),re.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ws,r=>{const i=Ye.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,yt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return re.or([()=>re.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class y1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Kt(),i=Kt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new y1(e,t.fromCache,r,i)}}class FV{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(E2(t))return re.resolve(null);let r=Rs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ST(t,null,"F"),r=Rs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Kt(...u);return this.Ui.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const _=this.ji(t,h);return this.zi(t,_,l,p.readTime)?this.Ki(e,ST(t,null,"F")):this.Wi(e,_,t,p)}))})))}Gi(e,t,r,i){return E2(t)||i.isEqual(yt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,i)?this.Qi(e,t):(xR()<=Pt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qR(t)),this.Wi(e,l,t,function $L(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(1e9===r?new br(t+1,0):new br(t,r));return new Ro(i,Ye.empty(),e)}(i,-1)))})}ji(e,t){let r=new nr(C2(e));return t.forEach((i,u)=>{AE(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return xR()<=Pt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",qR(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ro.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class u3{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Gn(Lt),this.Yi=new Hl(u=>Ef(u),TE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function VV(n,e){return _1.apply(this,arguments)}function _1(){return _1=G(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],h=[];let p=Kt();for(const _ of i){l.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of u){h.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return t.localDocuments.getDocuments(r,p).next(_=>({er:_,removedBatchIds:l,addedBatchIds:h}))})})}),_1.apply(this,arguments)}function BV(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function d3(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Om(n,e,t){return v1.apply(this,arguments)}function v1(){return v1=G(function*(n,e,t){const r=Je(n),i=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ud(l))throw l;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),v1.apply(this,arguments)}function zT(n,e,t){const r=Je(n);let i=yt.min(),u=Kt();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,p,_){const A=Je(h),R=A.Yi.get(_);return void 0!==R?re.resolve(A.Ji.get(R)):A.Bs.getTargetData(p,_)}(r,l,Rs(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,h.targetId).next(p=>{u=p})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:yt.min(),t?u:Kt())).next(h=>(function HV(n,e,t){let r=n.Xi.get(e)||yt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function I2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),h),{documents:h,ir:u})))}class C1{constructor(){this.activeTargetIds=function WR(){return hz}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qV{constructor(){this.Hr=new C1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new C1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class p3{Yr(e){}shutdown(){}}class WV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let WT=null;function T1(){return null===WT?WT=268435456+Math.round(2147483648*Math.random()):WT++,"0x"+WT.toString(16)}const g3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m3{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ps="WebChannelConnection";class y3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const l=T1(),h=this.To(e,t);Re("RestConnection",`Sending RPC '${e}' ${l}:`,h,r);const p={};return this.Eo(p,i,u),this.Ao(e,h,p,r).then(_=>(Re("RestConnection",`Received RPC '${e}' ${l}: `,_),_),_=>{throw qa("RestConnection",`RPC '${e}' ${l} failed with error: `,_,"url: ",h,"request:",r),_})}vo(e,t,r,i,u,l){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${g3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=T1();return new Promise((l,h)=>{const p=new gH;p.setWithCredentials(!0),p.listenOnce(hH.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case MR.NO_ERROR:const A=p.getResponseJson();Re(ps,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),l(A);break;case MR.TIMEOUT:Re(ps,`RPC '${e}' ${u} timed out`),h(new Te(he.DEADLINE_EXCEEDED,"Request time out"));break;case MR.HTTP_ERROR:const R=p.getStatus();if(Re(ps,`RPC '${e}' ${u} failed with status:`,R,"response text:",p.getResponseText()),R>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const W=j?.error;if(W&&W.status&&W.message){const ee=function(ne){const de=ne.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(de)>=0?de:he.UNKNOWN}(W.status);h(new Te(ee,W.message))}else h(new Te(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Te(he.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Re(ps,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(i);Re(ps,`RPC '${e}' ${u} sending request:`,i),p.send(t,"POST",_,r,15)})}Ro(e,t,r){const i=T1(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=cH(),h=dH(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.xmlHttpFactory=new pH({})),this.Eo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const A=u.join("");Re(ps,`Creating RPC '${e}' stream ${i}: ${A}`,p);const R=l.createWebChannel(A,p);let j=!1,W=!1;const ee=new m3({ro:de=>{W?Re(ps,`Not sending because RPC '${e}' stream ${i} is closed:`,de):(j||(Re(ps,`Opening RPC '${e}' stream ${i} transport.`),R.open(),j=!0),Re(ps,`RPC '${e}' stream ${i} sending:`,de),R.send(de))},oo:()=>R.close()}),ne=(de,Oe,Qe)=>{de.listen(Oe,Fe=>{try{Qe(Fe)}catch(dt){setTimeout(()=>{throw dt},0)}})};return ne(R,fT.EventType.OPEN,()=>{W||Re(ps,`RPC '${e}' stream ${i} transport opened.`)}),ne(R,fT.EventType.CLOSE,()=>{W||(W=!0,Re(ps,`RPC '${e}' stream ${i} transport closed`),ee.wo())}),ne(R,fT.EventType.ERROR,de=>{W||(W=!0,qa(ps,`RPC '${e}' stream ${i} transport errored:`,de),ee.wo(new Te(he.UNAVAILABLE,"The operation could not be completed")))}),ne(R,fT.EventType.MESSAGE,de=>{var Oe;if(!W){const Qe=de.data[0];pt(!!Qe);const dt=Qe.error||(null===(Oe=Qe[0])||void 0===Oe?void 0:Oe.error);if(dt){Re(ps,`RPC '${e}' stream ${i} received error:`,dt);const tn=dt.status;let kt=function(sr){const ii=ti[sr];if(void 0!==ii)return j2(ii)}(tn),un=dt.message;void 0===kt&&(kt=he.INTERNAL,un="Unknown error status: "+tn+" with message "+dt.message),W=!0,ee.wo(new Te(kt,un)),R.close()}else Re(ps,`RPC '${e}' stream ${i} received:`,Qe),ee._o(Qe)}}),ne(h,fH.STAT_EVENT,de=>{de.stat===OL.PROXY?Re(ps,`RPC '${e}' stream ${i} detected buffering proxy`):de.stat===OL.NOPROXY&&Re(ps,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ee.fo()},0),ee}}function KT(){return typeof document<"u"?document:null}function WE(n){return new Tz(n,!0)}class S1{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class YV{constructor(e,t,r,i,u,l,h,p){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new S1(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return G(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return G(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return G(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Te(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(G(function*(){e.state=0,e.start()}))}tu(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _3 extends YV{constructor(e,t,r,i,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Mz(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:lt(),i=e.targetChange.targetIds||[],u=function(p,_){return p.useProto3Json?(pt(void 0===_||"string"==typeof _),gi.fromBase64String(_||"")):(pt(void 0===_||_ instanceof Uint8Array),gi.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const _=void 0===p.code?he.UNKNOWN:j2(p.code);return new Te(_,p.message||"")}(l);t=new W2(r,i,u,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Uu(n,r.document.name),u=Ur(r.document.updateTime),l=r.document.createTime?Ur(r.document.createTime):yt.min(),h=new Ki({mapValue:{fields:r.document.fields}}),p=rr.newFoundDocument(i,u,l,h);t=new RT(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Uu(n,r.document),u=r.readTime?Ur(r.readTime):yt.min(),l=rr.newNoDocument(i,u);t=new RT([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Uu(n,r.document);t=new RT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return lt();{const r=e.filter,{count:i=0,unchangedNames:u}=r,l=new wz(i,u);t=new q2(r.targetId,l)}}var p;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return yt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?yt.min():u.readTime?Ur(u.readTime):yt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=LE(this.serializer),t.addTarget=function(i,u){let l;const h=u.target;if(l=CT(h)?{documents:rV(i,h)}:{query:i1(i,h)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=X2(i,u.resumeToken);const p=e1(i,u.expectedCount);null!==p&&(l.expectedCount=p)}else if(u.snapshotVersion.compareTo(yt.min())>0){l.readTime=xm(i,u.snapshotVersion.toTimestamp());const p=e1(i,u.expectedCount);null!==p&&(l.expectedCount=p)}return l}(this.serializer,e);const r=function Nz(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=LE(this.serializer),t.removeTarget=e,this.Wo(t)}}class v3 extends YV{constructor(e,t,r,i,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function xz(n,e){return n&&n.length>0?(pt(void 0!==e),n.map(t=>function(r,i){let u=Ur(r.updateTime?r.updateTime:i);return u.isEqual(yt.min())&&(u=Ur(i)),new mz(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.cu(r,t)}return pt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=LE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function VE(n,e){let t;if(e instanceof Am)t={update:tV(n,e.key,e.value)};else if(e instanceof Mm)t={delete:FE(n,e.key)};else if(e instanceof zl)t={update:tV(n,e.key,e.data),updateMask:Oz(e.fieldMask)};else{if(!(e instanceof KR))return lt();t={verify:FE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const l=u.transform;if(l instanceof Tm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof If)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Cf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Sm)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Sz(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:lt()),t;var i}(this.serializer,r))};this.Wo(t)}}class w3 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Te(he.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(he.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class b3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vr(t),this.mu=!1):Re("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class I3{constructor(e,t,r,i,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(h=>{r.enqueueAndForget(G(function*(){var p;vd(l)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(p=G(function*(_){const A=Je(_);A.vu.add(4),yield Fm(A),A.bu.set("Unknown"),A.vu.delete(4),yield KE(A)}),function(_){return p.apply(this,arguments)})(l))}))}),this.bu=new b3(r,i)}}function KE(n){return M1.apply(this,arguments)}function M1(){return M1=G(function*(n){if(vd(n))for(const e of n.Ru)yield e(!0)}),M1.apply(this,arguments)}function Fm(n){return x1.apply(this,arguments)}function x1(){return x1=G(function*(n){for(const e of n.Ru)yield e(!1)}),x1.apply(this,arguments)}function YT(n,e){const t=Je(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),P1(t)?R1(t):Vm(t).Ko()&&N1(t,e))}function YE(n,e){const t=Je(n),r=Vm(t);t.Au.delete(e),r.Ko()&&QV(t,e),0===t.Au.size&&(r.Ko()?r.jo():vd(t)&&t.bu.set("Unknown"))}function N1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vm(n).su(e)}function QV(n,e){n.Vu.qt(e),Vm(n).iu(e)}function R1(n){n.Vu=new bz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Vm(n).start(),n.bu.gu()}function P1(n){return vd(n)&&!Vm(n).Uo()&&n.Au.size>0}function vd(n){return 0===Je(n).vu.size}function XV(n){n.Vu=void 0}function C3(n){return k1.apply(this,arguments)}function k1(){return k1=G(function*(n){n.Au.forEach((e,t)=>{N1(n,e)})}),k1.apply(this,arguments)}function D3(n,e){return O1.apply(this,arguments)}function O1(){return O1=G(function*(n,e){XV(n),P1(n)?(n.bu.Iu(e),R1(n)):n.bu.set("Unknown")}),O1.apply(this,arguments)}function T3(n,e,t){return F1.apply(this,arguments)}function F1(){return F1=G(function*(n,e,t){if(n.bu.set("Online"),e instanceof W2&&2===e.state&&e.cause)try{yield(r=G(function*(i,u){const l=u.cause;for(const h of u.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,l),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield QT(n,r)}else if(e instanceof RT?n.Vu.Ht(e):e instanceof q2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(yt.min()))try{const r=yield BV(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const l=i.Vu.ce(u);return l.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=i.Au.get(p);_&&i.Au.set(p,_.withResumeToken(h.resumeToken,u))}}),l.targetMismatches.forEach((h,p)=>{const _=i.Au.get(h);if(!_)return;i.Au.set(h,_.withResumeToken(gi.EMPTY_BYTE_STRING,_.snapshotVersion)),QV(i,h);const A=new Gl(_.target,h,p,_.sequenceNumber);N1(i,A)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield QT(n,r)}var r}),F1.apply(this,arguments)}function QT(n,e,t){return L1.apply(this,arguments)}function L1(){return L1=G(function*(n,e,t){if(!ud(e))throw e;n.vu.add(1),yield Fm(n),n.bu.set("Offline"),t||(t=()=>BV(n.localStore)),n.asyncQueue.enqueueRetryable(G(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield KE(n)}))}),L1.apply(this,arguments)}function JV(n,e){return e().catch(t=>QT(n,t,e))}function Lm(n){return V1.apply(this,arguments)}function V1(){return V1=G(function*(n){const e=Je(n),t=wd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;S3(e);)try{const i=yield d3(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,A3(e,i)}catch(i){yield QT(e,i)}ZV(e)&&eB(e)}),V1.apply(this,arguments)}function S3(n){return vd(n)&&n.Eu.length<10}function A3(n,e){n.Eu.push(e);const t=wd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function ZV(n){return vd(n)&&!wd(n).Uo()&&n.Eu.length>0}function eB(n){wd(n).start()}function M3(n){return B1.apply(this,arguments)}function B1(){return B1=G(function*(n){wd(n).hu()}),B1.apply(this,arguments)}function x3(n){return U1.apply(this,arguments)}function U1(){return U1=G(function*(n){const e=wd(n);for(const t of n.Eu)e.uu(t.mutations)}),U1.apply(this,arguments)}function N3(n,e,t){return $1.apply(this,arguments)}function $1(){return $1=G(function*(n,e,t){const r=n.Eu.shift(),i=QR.from(r,e,t);yield JV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Lm(n)}),$1.apply(this,arguments)}function R3(n,e){return j1.apply(this,arguments)}function j1(){return j1=G(function*(n,e){var t;e&&wd(n).ou&&(yield(t=G(function*(r,i){if(function $2(n){switch(n){default:return lt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}(u=i.code)&&u!==he.ABORTED){const l=r.Eu.shift();wd(r).Qo(),yield JV(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Lm(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),ZV(n)&&eB(n)}),j1.apply(this,arguments)}function tB(n,e){return H1.apply(this,arguments)}function H1(){return H1=G(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=vd(t);t.vu.add(3),yield Fm(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield KE(t)}),H1.apply(this,arguments)}function G1(){return G1=G(function*(n,e){const t=Je(n);e?(t.vu.delete(2),yield KE(t)):e||(t.vu.add(2),yield Fm(t),t.bu.set("Unknown"))}),G1.apply(this,arguments)}function Vm(n){return n.Su||(n.Su=function(e,t,r){const i=Je(e);return i.fu(),new _3(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:C3.bind(null,n),ao:D3.bind(null,n),nu:T3.bind(null,n)}),n.Ru.push(function(){var e=G(function*(t){t?(n.Su.Qo(),P1(n)?R1(n):n.bu.set("Unknown")):(yield n.Su.stop(),XV(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function wd(n){return n.Du||(n.Du=function(e,t,r){const i=Je(e);return i.fu(),new v3(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:M3.bind(null,n),ao:R3.bind(null,n),au:x3.bind(null,n),cu:N3.bind(null,n)}),n.Ru.push(function(){var e=G(function*(t){t?(n.Du.Qo(),yield Lm(n)):(yield n.Du.stop(),n.Eu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class q1{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,u){const l=Date.now()+r,h=new q1(e,t,l,i,u);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),ud(n))return new Te(he.UNAVAILABLE,`${e}: ${n}`);throw n}class Um{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=ME(),this.sortedSet=new Gn(this.comparator)}static emptySet(e){return new Um(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Um)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Um;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class nB{constructor(){this.Cu=new Gn(Ye.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):lt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class $m{constructor(e,t,r,i,u,l,h,p,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,i,u){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new $m(e,t,Um.emptySet(t),l,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&SE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class P3{constructor(){this.Nu=void 0,this.listeners=[]}}class k3{constructor(){this.queries=new Hl(e=>b2(e),SE),this.onlineState="Unknown",this.ku=new Set}}function K1(){return K1=G(function*(n,e){const t=Je(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new P3),i)try{u.Nu=yield t.onListen(r)}catch(l){const h=Bm(l,`Initialization of query '${qR(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&X1(t)}),K1.apply(this,arguments)}function Q1(){return Q1=G(function*(n,e){const t=Je(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Q1.apply(this,arguments)}function O3(n,e){const t=Je(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const h of l.listeners)h.$u(i)&&(r=!0);l.Nu=i}}r&&X1(t)}function F3(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function X1(n){n.ku.forEach(e=>{e.next()})}class J1{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new $m(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=$m.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class sB{constructor(e){this.key=e}}class oB{constructor(e){this.key=e}}class aB{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Kt(),this.mutatedKeys=Kt(),this.tc=C2(e),this.ec=new Um(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new nB,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=i,h=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,_="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,R)=>{const j=i.get(A),W=AE(this.query,R)?R:null,ee=!!j&&this.mutatedKeys.has(j.key),ne=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let de=!1;j&&W?j.data.isEqual(W.data)?ee!==ne&&(r.track({type:3,doc:W}),de=!0):this.rc(j,W)||(r.track({type:2,doc:W}),de=!0,(p&&this.tc(W,p)>0||_&&this.tc(W,_)<0)&&(h=!0)):!j&&W?(r.track({type:0,doc:W}),de=!0):j&&!W&&(r.track({type:1,doc:j}),de=!0,(p||_)&&(h=!0)),de&&(W?(l=l.add(W),u=ne?u.add(A):u.delete(A)):(l=l.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const A="F"===this.query.limitType?l.last():l.first();l=l.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{ec:l,ic:r,zi:h,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((_,A)=>function(R,j){const W=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return W(R)-W(j)}(_.type,A.type)||this.tc(_.doc,A.doc)),this.oc(r);const l=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==u.length||p?{snapshot:new $m(this.query,e.ec,i,u,e.mutatedKeys,0===h,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new nB,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Kt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new oB(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new sB(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Kt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return $m.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class B3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class U3{constructor(e){this.key=e,this.fc=!1}}class $3{constructor(e,t,r,i,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Hl(h=>b2(h),SE),this._c=new Map,this.mc=new Set,this.gc=new Gn(Ye.comparator),this.yc=new Map,this.Ic=new h1,this.Tc={},this.Ec=new Map,this.Ac=xf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function j3(n,e){return Z1.apply(this,arguments)}function Z1(){return Z1=G(function*(n,e){const t=function bP(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G3.bind(null,e),e.dc.nu=O3.bind(null,e.eventManager),e.dc.Pc=F3.bind(null,e.eventManager),e}(n);let r,i;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.lc();else{const l=yield function km(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,re.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Gl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Rs(e)),h=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield function eP(n,e,t,r,i){return tP.apply(this,arguments)}(t,e,r,"current"===h,l.resumeToken),t.isPrimaryClient&&YT(t.remoteStore,l)}return i}),Z1.apply(this,arguments)}function tP(){return tP=G(function*(n,e,t,r,i){n.Rc=(R,j,W)=>{return(ee=G(function*(ne,de,Oe,Qe){let Fe=de.view.sc(Oe);Fe.zi&&(Fe=yield zT(ne.localStore,de.query,!1).then(({documents:kt})=>de.view.sc(kt,Fe)));const dt=Qe&&Qe.targetChanges.get(de.targetId),tn=de.view.applyChanges(Fe,ne.isPrimaryClient,dt);return dP(ne,de.targetId,tn.cc),tn.snapshot}),function(ne,de,Oe,Qe){return ee.apply(this,arguments)})(n,R,j,W);var ee};const u=yield zT(n.localStore,e,!0),l=new aB(e,u.ir),h=l.sc(u.documents),p=OE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),_=l.applyChanges(h,n.isPrimaryClient,p);dP(n,t,_.cc);const A=new B3(e,t,l);return n.wc.set(e,A),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),_.snapshot}),tP.apply(this,arguments)}function H3(n,e){return nP.apply(this,arguments)}function nP(){return nP=G(function*(n,e){const t=Je(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!SE(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Om(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),YE(t.remoteStore,r.targetId),jm(t,r.targetId)}).catch(ad))):(jm(t,r.targetId),yield Om(t.localStore,r.targetId,!0))}),nP.apply(this,arguments)}function rP(){return rP=G(function*(n,e,t){const r=function IP(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W3.bind(null,e),e}(n);try{const i=yield function(u,l){const h=Je(u),p=br.now(),_=l.reduce((j,W)=>j.add(W.key),Kt());let A,R;return h.persistence.runTransaction("Locally write mutations","readwrite",j=>{let W=eo(),ee=Kt();return h.Zi.getEntries(j,_).next(ne=>{W=ne,W.forEach((de,Oe)=>{Oe.isValidDocument()||(ee=ee.add(de))})}).next(()=>h.localDocuments.getOverlayedDocuments(j,W)).next(ne=>{A=ne;const de=[];for(const Oe of l){const Qe=_z(Oe,A.get(Oe.key).overlayedDocument);null!=Qe&&de.push(new zl(Oe.key,Qe,u2(Qe.value.mapValue),dr.exists(!0)))}return h.mutationQueue.addMutationBatch(j,p,de,l)}).next(ne=>{R=ne;const de=ne.applyToLocalDocumentSet(A,ee);return h.documentOverlayCache.saveOverlays(j,ne.batchId,de)})}).then(()=>({batchId:R.batchId,changes:T2(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,h){let p=u.Tc[u.currentUser.toKey()];p||(p=new Gn(Lt)),p=p.insert(l,h),u.Tc[u.currentUser.toKey()]=p}(r,i.batchId,t),yield ql(r,i.changes),yield Lm(r.remoteStore)}catch(i){const u=Bm(i,"Failed to persist write");t.reject(u)}}),rP.apply(this,arguments)}function uB(n,e){return iP.apply(this,arguments)}function iP(){return iP=G(function*(n,e){const t=Je(n);try{const r=yield function c3(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((A,R)=>{const j=i.get(R);if(!j)return;h.push(t.Bs.removeMatchingKeys(u,A.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(u,A.addedDocuments,R)));let W=j.withSequenceNumber(u.currentSequenceNumber);var ee,ne,de;null!==e.targetMismatches.get(R)?W=W.withResumeToken(gi.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(A.resumeToken,r)),i=i.insert(R,W),ne=W,de=A,(0===(ee=j).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(u,W))});let p=eo(),_=Kt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),h.push(function UV(n,e,t){let r=Kt(),i=Kt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=eo();return t.forEach((h,p)=>{const _=u.get(h);p.isFoundDocument()!==_.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(yt.min())?(e.removeEntry(h,p.readTime),l=l.insert(h,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(p),l=l.insert(h,p)):Re("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",p.version)}),{nr:l,sr:i}})}(u,l,e.documentUpdates).next(A=>{p=A.nr,_=A.sr})),!r.isEqual(yt.min())){const A=t.Bs.getLastRemoteSnapshotVersion(u).next(R=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));h.push(A)}return re.waitFor(h).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(t.Ji=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const l=t.yc.get(u);l&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?pt(l.fc):i.removedDocuments.size>0&&(pt(l.fc),l.fc=!1))}),yield ql(t,r,e)}catch(r){yield ad(r)}}),iP.apply(this,arguments)}function lB(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,l)=>{const h=l.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(u,l){const h=Je(u);h.onlineState=l;let p=!1;h.queries.forEach((_,A)=>{for(const R of A.listeners)R.Mu(l)&&(p=!0)}),p&&X1(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function G3(n,e,t){return sP.apply(this,arguments)}function sP(){return sP=G(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),u=i&&i.key;if(u){let l=new Gn(Ye.comparator);l=l.insert(u,rr.newNoDocument(u,yt.min()));const h=Kt().add(u),p=new kE(yt.min(),new Map,new Gn(Lt),l,h);yield uB(r,p),r.gc=r.gc.remove(u),r.yc.delete(e),hP(r)}else yield Om(r.localStore,e,!1).then(()=>jm(r,e,t)).catch(ad)}),sP.apply(this,arguments)}function q3(n,e){return oP.apply(this,arguments)}function oP(){return oP=G(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield function l3(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,p,_){const A=p.batch,R=A.keys();let j=re.resolve();return R.forEach(W=>{j=j.next(()=>_.getEntry(h,W)).next(ee=>{const ne=p.docVersions.get(W);pt(null!==ne),ee.version.compareTo(ne)<0&&(A.applyToRemoteDocument(ee,p),ee.isValidDocument()&&(ee.setReadTime(p.commitVersion),_.addEntry(ee)))})}),j.next(()=>l.mutationQueue.removeMutationBatch(h,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=Kt();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(h=h.add(l.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);cP(t,r,null),lP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ql(t,i)}catch(i){yield ad(i)}}),oP.apply(this,arguments)}function W3(n,e,t){return aP.apply(this,arguments)}function aP(){return aP=G(function*(n,e,t){const r=Je(n);try{const i=yield function(u,l){const h=Je(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.mutationQueue.lookupMutationBatch(p,l).next(A=>(pt(null!==A),_=A.keys(),h.mutationQueue.removeMutationBatch(p,A))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,_,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>h.localDocuments.getDocuments(p,_))})}(r.localStore,e);cP(r,e,t),lP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ql(r,i)}catch(i){yield ad(i)}}),aP.apply(this,arguments)}function lP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function cP(n,e,t){const r=Je(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function jm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||cB(n,r)})}function cB(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(YE(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),hP(n))}function dP(n,e,t){for(const r of t)r instanceof sB?(n.Ic.addReference(r.key,e),Y3(n,r)):r instanceof oB?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||cB(n,r.key)):lt()}function Y3(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.mc.add(r),hP(n))}function hP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ye(pn.fromString(e)),r=n.Ac.next();n.yc.set(r,new U3(t)),n.gc=n.gc.insert(t,r),YT(n.remoteStore,new Gl(Rs(Dm(t.path)),r,"TargetPurposeLimboResolution",Po.ct))}}function ql(n,e,t){return fP.apply(this,arguments)}function fP(){return fP=G(function*(n,e,t){const r=Je(n),i=[],u=[],l=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,p)=>{l.push(r.Rc(p,e,t).then(_=>{if((_||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){i.push(_);const A=y1.Li(p.targetId,_);u.push(A)}}))}),yield Promise.all(l),r.dc.nu(i),yield(h=G(function*(p,_){const A=Je(p);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>re.forEach(_,j=>re.forEach(j.Fi,W=>A.persistence.referenceDelegate.addReference(R,j.targetId,W)).next(()=>re.forEach(j.Bi,W=>A.persistence.referenceDelegate.removeReference(R,j.targetId,W)))))}catch(R){if(!ud(R))throw R;Re("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const j=R.targetId;if(!R.fromCache){const W=A.Ji.get(j),ne=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion);A.Ji=A.Ji.insert(j,ne)}}}),function(p,_){return h.apply(this,arguments)})(r.localStore,u))}),fP.apply(this,arguments)}function Q3(n,e){return pP.apply(this,arguments)}function pP(){return pP=G(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield VV(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(h=>{h.reject(new Te(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ql(t,r.er)}var i}),pP.apply(this,arguments)}function X3(n,e){const t=Je(n),r=t.yc.get(e);if(r&&r.fc)return Kt().add(r.key);{let i=Kt();const u=t._c.get(e);if(!u)return i;for(const l of u){const h=t.wc.get(l);i=i.unionWith(h.view.nc)}return i}}class XT{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return G(function*(){t.serializer=WE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function LV(n,e,t,r){return new u3(n,e,t,r)}(this.persistence,new FV,e.initialUser,this.serializer)}createPersistence(e){return new f1($T.zs,this.serializer)}createSharedClientState(e){return new qV}terminate(){var e=this;return G(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Hm{initialize(e,t){var r=this;return G(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>lB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Q3.bind(null,r.syncEngine),yield function z1(n,e){return G1.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new k3}createDatastore(e){const t=WE(e.databaseInfo.databaseId),r=new y3(e.databaseInfo);return new w3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=h=>lB(this.syncEngine,h,0),l=WV.D()?new WV:new p3,new I3(t,r,i,u,l);var t,r,i,u,l}createSyncEngine(e,t){return function(r,i,u,l,h,p,_){const A=new $3(r,i,u,l,h,p);return _&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=G(function*(t){const r=Je(t);Re("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Fm(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class JT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cG{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ki.UNAUTHENTICATED,this.clientId=BL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=G(function*(h){Re("FirestoreClient","Received user=",h.uid),yield u.authCredentialListener(h),u.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Re("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return G(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(G(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Bm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ZT(n,e){return CP.apply(this,arguments)}function CP(){return CP=G(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=G(function*(u){r.isEqual(u)||(yield VV(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),CP.apply(this,arguments)}function DP(n,e){return TP.apply(this,arguments)}function TP(){return TP=G(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function SP(n){return AP.apply(this,arguments)}(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>tB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>tB(e.remoteStore,u)),n._onlineComponents=e}),TP.apply(this,arguments)}function AP(){return AP=G(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ZT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function mB(n){return"FirebaseError"===n.name?n.code===he.FAILED_PRECONDITION||n.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;qa("Error using user provided cache. Falling back to memory cache: "+t),yield ZT(n,new XT)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),yield ZT(n,new XT);return n._offlineComponents}),AP.apply(this,arguments)}function eS(n){return MP.apply(this,arguments)}function MP(){return MP=G(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),yield DP(n,n._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),yield DP(n,new Hm))),n._onlineComponents}),MP.apply(this,arguments)}function NP(){return NP=G(function*(n){const e=yield eS(n),t=e.eventManager;return t.onListen=j3.bind(null,e.syncEngine),t.onUnlisten=H3.bind(null,e.syncEngine),t}),NP.apply(this,arguments)}function wB(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget(G(function*(){return function(i,u,l,h,p){const _=new JT({next:R=>{u.enqueueAndForget(()=>function Y1(n,e){return Q1.apply(this,arguments)}(i,A));const j=R.docs.has(l);!j&&R.fromCache?p.reject(new Te(he.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&R.fromCache&&h&&"server"===h.source?p.reject(new Te(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(R)},error:R=>p.reject(R)}),A=new J1(Dm(l.path),_,{includeMetadataChanges:!0,Ku:!0});return function W1(n,e){return K1.apply(this,arguments)}(i,A)}(yield function zm(n){return NP.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function bB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const IB=new Map;function RP(n,e,t){if(!t)throw new Te(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CB(n){if(!Ye.isDocumentKey(n))throw new Te(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DB(n){if(Ye.isDocumentKey(n))throw new Te(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nS(n);throw new Te(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class SB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function vG(n,e,t,r){if(!0===e&&!0===r)throw new Te(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=bB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class QE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yH;switch(t.type){case"firstParty":return new EH(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=IB.get(e);t&&(Re("ComponentProvider","Removing Datastore"),IB.delete(e),t.terminate())}(this),Promise.resolve()}}class $r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}}class Yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class $u extends Yi{constructor(e,t,r){super(e,t,Dm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new Ye(e))}withConverter(e){return new $u(this.firestore,e,this._path)}}function EG(n,e,...t){if(n=Or(n),RP("collection","path",e),n instanceof QE){const r=pn.fromString(e,...t);return DB(r),new $u(n,null,r)}{if(!(n instanceof $r||n instanceof $u))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return DB(r),new $u(n.firestore,null,r)}}function AB(n,e,...t){if(n=Or(n),1===arguments.length&&(e=BL.A()),RP("doc","path",e),n instanceof QE){const r=pn.fromString(e,...t);return CB(r),new $r(n,null,new Ye(r))}{if(!(n instanceof $r||n instanceof $u))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return CB(r),new $r(n.firestore,n instanceof $u?n.converter:null,new Ye(r))}}class bG{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new S1(this,"async_queue_retry"),this.Xc=()=>{const t=KT();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=KT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=KT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new pi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return G(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ud(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Vr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=q1.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&lt()}verifyOperationInProgress(){}sa(){var e=this;return G(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class ir extends QE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new bG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xB(this),this._firestoreClient.terminate()}}function CG(n,e){const r="string"==typeof n?n:e||"(default)",i=gl("object"==typeof n?n:qy(),"firestore").getImmediate({identifier:r});if(!i._initialized){const u=GS("firestore");u&&function wG(n,e,t,r={}){var i;const u=(n=dn(n,QE))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&qa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,h;if("string"==typeof r.mockUserToken)l=r.mockUserToken,h=ki.MOCK_USER;else{l=Fb(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Te(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ki(p)}n._authCredentials=new _H(new LL(l,h))}}(i,...u)}return i}function ni(n){return n._firestoreClient||xB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xB(n){var e,t,r;const i=n._freezeSettings(),u=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new XH(n._databaseId,h,n._persistenceKey,(_=i).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,bB(_.experimentalLongPollingOptions),_.useFetchStreams));var h,_;n._firestoreClient=new cG(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Rf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rf(gi.fromBase64String(e))}catch(t){throw new Te(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rf(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class PB{constructor(e){this._methodName=e}}class kP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const TG=/^__.*__$/;class SG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Am(e,this.data,t,this.fieldTransforms)}}function OB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class rS{constructor(e,t,r,i,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new rS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return sS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(OB(this.ca)&&TG.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class AG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||WE(e)}ya(e,t,r,i=!1){return new rS({ca:e,methodName:t,ga:r,path:Br.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qm(n){const e=n._freezeSettings(),t=WE(n._databaseId);return new AG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OP(n,e,t,r,i,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,i);LP("Data must be an object, but it was:",l,r);const h=UB(r,l);let p,_;if(u.merge)p=new Zs(l.fieldMask),_=l.fieldTransforms;else if(u.mergeFields){const A=[];for(const R of u.mergeFields){const j=ZE(e,R,t);if(!l.contains(j))throw new Te(he.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);jB(A,j)||A.push(j)}p=new Zs(A),_=l.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,_=l.fieldTransforms;return new SG(new Ki(h),p,_)}function Pf(n,e){if($B(n=Or(n)))return LP("Unsupported field value:",e,n),UB(n,e);if(n instanceof PB)return function(t,r){if(!OB(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const l of t){let h=Pf(l,r.wa(u));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Or(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return x2(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=br.fromDate(t);return{timestampValue:xm(r.serializer,i)}}if(t instanceof br){const i=new br(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xm(r.serializer,i)}}if(t instanceof kP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rf)return{bytesValue:X2(r.serializer,t._byteString)};if(t instanceof $r){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:t1(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${nS(t)}`)}(n,e)}function UB(n,e){const t={};return ZL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ld(n,(r,i)=>{const u=Pf(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function $B(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof br||n instanceof kP||n instanceof Rf||n instanceof $r||n instanceof PB)}function LP(n,e,t){if(!$B(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=nS(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function ZE(n,e,t){if((e=Or(e))instanceof Gm)return e._internalPath;if("string"==typeof e)return iS(n,e);throw sS("Field path arguments must be of type string or ",n,!1,void 0,t)}const RG=new RegExp("[~\\*/\\[\\]]");function iS(n,e,t){if(e.search(RG)>=0)throw sS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gm(...e.split("."))._internalPath}catch{throw sS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sS(n,e,t,r,i){const u=r&&!r.isEmpty(),l=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(u||l)&&(p+=" (found",u&&(p+=` in field ${r}`),l&&(p+=` in document ${i}`),p+=")"),new Te(he.INVALID_ARGUMENT,h+n+p)}function jB(n,e){return n.some(t=>t.isEqual(e))}class VP{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new PG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class PG extends VP{data(){return super.data()}}function oS(n,e){return"string"==typeof e?iS(n,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}class OG{convertValue(e,t="none"){switch(hd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ld(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new kP(Mr(e.latitude),Mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bE(e));default:return null}}convertTimestamp(e){const t=cd(e);return new br(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pn.fromString(e);pt(aV(r));const i=new vf(r.get(1),r.get(3)),u=new Ye(r.popFirst(5));return i.isEqual(t)||Vr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function UP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class kf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Km extends VP{constructor(e,t,r,i,u,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(oS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class cS extends Km{data(e={}){return super.data(e)}}function VG(n){n=dn(n,$r);const e=dn(n.firestore,ir);return wB(ni(e),n._key).then(t=>function $P(n,e,t){const r=t.docs.get(e._key),i=new Ed(n);return new Km(n,i,e._key,r,new kf(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Ed extends OG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}function BG(n,e,t){n=dn(n,$r);const r=dn(n.firestore,ir),i=UP(n.converter,e,t);return tb(r,[OP(qm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,dr.none())])}function UG(n,e){const t=dn(n.firestore,ir),r=AB(n),i=UP(n.converter,e);return tb(t,[OP(qm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function tb(n,e){return function(t,r){const i=new pi;return t.asyncQueue.enqueueAndForget(G(function*(){return function z3(n,e,t){return rP.apply(this,arguments)}(yield function xP(n){return eS(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(ni(n),e)}!function(n,e=!0){vm=Pa,Mi(new Zr("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),l=new ir(new vH(t.getProvider("auth-internal")),new bH(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Te(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vf(h.options.projectId,p)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Rn(FL,"3.12.1",n),Rn(FL,"3.12.1","esm2017")}();class hS{constructor(e){return e}}const XB="firestore",jP=new v.OlP("angularfire2.firestore-instances");function e4(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new hS(r)}}const t4={provide:class JG{constructor(){return tg(XB)}},deps:[[new v.FiY,jP]]},n4={provide:hS,useFactory:function ZG(n,e){const t=Oh(XB,n,e);return t&&new hS(t)},deps:[[new v.FiY,jP],Ml]};let r4=(()=>{class n{constructor(){Rn("angularfire",Xn.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[n4,t4]}),n})();function i4(n,...e){return{ngModule:r4,providers:[{provide:jP,useFactory:e4(n),multi:!0,deps:[v.R0b,v.zs3,Bc,ng,[new v.FiY,UN],[new v.FiY,Pl],...e]}]}}const s4=Xs(UG,!0),o4=Xs(EG,!0),JB=Xs(AB,!0),a4=Xs(VG,!0),u4=Xs(CG,!0),l4=Xs(BG,!0);let HP=(()=>{class n{constructor(t,r){this.auth=t,this.firestore=r,this.isLogged=!1,this.objUsuarioLogueado=void 0,this.auth.onAuthStateChanged(i=>{null!=i?this.traerUsuarioDeFirestore(i).then(u=>{this.objUsuarioLogueado=u.data(),this.isLogged=!0,this.saveToLocalstorage(u.data()),this.guardarInicioDeSesion(u.data())}):(this.isLogged=!1,console.info("El usuario deslogue\xf3"),this.objUsuarioLogueado=void 0,console.info(this.objUsuarioLogueado))})}registrar({correo:t,password:r}){return oj(this.auth,t,r)}ingresar({correo:t,password:r}){return uj(this.auth,t,r)}salir(){return lj(this.auth).then(()=>this.deleteFromLocalstorage())}guardarUsuarioEnFirestore(t){const r=JB(this.firestore,`users/${t.uid}`);return l4(r,t,{merge:!0})}guardarInicioDeSesion(t){let r={mail:t.mail,uid:t.uid,rol:t.rol,ingreso:(new Date).toLocaleString()};const i=o4(this.firestore,"ingresos");return s4(i,r)}traerUsuarioDeFirestore(t){const r=JB(this.firestore,`users/${t.uid}`);return a4(r)}getUsuarioLocalstorage(){return JSON.parse(localStorage.getItem("usuarioActual"))}saveToLocalstorage(t){localStorage.setItem("usuarioActual",JSON.stringify(t))}deleteFromLocalstorage(){localStorage.removeItem("usuarioActual")}get hayUsuarioLogueado(){return this.isLogged}get usuarioLogueado(){return this.objUsuarioLogueado}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(UD),v.LFG(hS))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var c4=B(1135),d4=B(7579),ZB=B(9300),h4=B(4482),f4=B(5032);const g4=["overlay"];function m4(n,e){1&n&&v._UZ(0,"div")}function y4(n,e){if(1&n&&(v.TgZ(0,"div"),v.YNc(1,m4,1,0,"div",6),v.qZA()),2&n){const t=v.oxw(2);v.Tol(t.spinner.class),v.Udp("color",t.spinner.color),v.xp6(1),v.Q6J("ngForOf",t.spinner.divArray)}}function _4(n,e){if(1&n&&(v._UZ(0,"div",7),v.ALo(1,"safeHtml")),2&n){const t=v.oxw(2);v.Q6J("innerHTML",v.lcZ(1,1,t.template),v.oJD)}}function v4(n,e){if(1&n&&(v.TgZ(0,"div",1,2),v.YNc(2,y4,2,5,"div",3),v.YNc(3,_4,2,3,"div",4),v.TgZ(4,"div",5),v.Hsn(5),v.qZA()()),2&n){const t=v.oxw();v.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),v.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),v.xp6(2),v.Q6J("ngIf",!t.template),v.xp6(1),v.Q6J("ngIf",t.template),v.xp6(1),v.Udp("z-index",t.spinner.zIndex)}}const w4=["*"],E4={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},GP="primary";class Of{constructor(e){Object.assign(this,e)}static create(e){return!e?.template&&!e?.type&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Of(e)}}let qP=(()=>{class n{constructor(){this.spinnerObservable=new c4.X(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe((0,ZB.h)(r=>r&&r.name===t))}show(t=GP,r){return new Promise((i,u)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=t,this.spinnerObservable.next(new Of({...r,show:!0})),i(!0)):(this.spinnerObservable.next(new Of({name:t,show:!0})),i(!0))},10)})}hide(t=GP,r=10){return new Promise((i,u)=>{setTimeout(()=>{this.spinnerObservable.next(new Of({name:t,show:!1})),i(!0)},r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eU=new v.OlP("NGX_SPINNER_CONFIG");let b4=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(M.H7,16))},n.\u0275pipe=v.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),tU=(()=>{class n{constructor(t,r,i,u){this.spinnerService=t,this.changeDetector=r,this.elementRef=i,this.globalConfig=u,this.disableAnimation=!1,this.spinner=new Of,this.ngUnsubscribe=new d4.x,this.setDefaultOptions=()=>{const{type:l}=this.globalConfig??{};this.spinner=Of.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??l,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=GP,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(function p4(n){return(0,h4.e)((e,t)=>{(0,ke.Xf)(n).subscribe((0,Le.x)(t,()=>t.complete(),f4.Z)),!t.closed&&e.subscribe(t)})}(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const r in t)if(r){const i=t[r];if(i.isFirstChange())return;typeof i.currentValue<"u"&&i.currentValue!==i.previousValue&&""!==i.currentValue&&(this.spinner[r]=i.currentValue,"showSpinner"===r&&(i.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===r&&this.initObservable())}}getClass(t,r){this.spinner.divCount=E4[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((u,l)=>l);let i="";switch(r.toLowerCase()){case"small":i="la-sm";break;case"medium":i="la-2x";break;case"large":i="la-3x"}return"la-"+t+" "+i}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(qP),v.Y36(v.sBO),v.Y36(v.SBq),v.Y36(eU,8))},n.\u0275cmp=v.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,r){if(1&t&&v.Gf(g4,5),2&t){let i;v.iGM(i=v.CRH())&&(r.spinnerDOM=i.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[v.TTD],ngContentSelectors:w4,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,r){1&t&&(v.F$t(),v.YNc(0,v4,6,12,"div",0)),2&t&&v.Q6J("ngIf",r.spinner.show)},dependencies:[oe.sg,oe.O5,b4],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[Sd("fadeIn",[Hs("in",Is({opacity:1})),va(":enter",[Is({opacity:0}),iu(300)]),va(":leave",iu(200,Is({opacity:0})))])]},changeDetection:0}),n})(),I4=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:eU,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[oe.ez]}),n})();function C4(n,e){1&n&&(v.TgZ(0,"small",10),v._uU(1," Ingrese una direcci\xf3n de correo "),v.qZA())}function D4(n,e){1&n&&(v.TgZ(0,"small",10),v._uU(1," El formato no es correcto "),v.qZA())}function T4(n,e){1&n&&(v.TgZ(0,"small",10),v._uU(1," Ingrese una contrase\xf1a "),v.qZA())}function S4(n,e){1&n&&(v.TgZ(0,"small",10),v._uU(1," La contrase\xf1a debe tener al menos 6 caracteres "),v.qZA())}let A4=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.spinner=i,this.firebaseErrors={"auth/email-already-in-use":"El correo ingresado ya se encuentra registrado","auth/invalid-email":"El correo ingresado no tiene el formato correcto"},this.Toast=Sa().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:u=>{u.addEventListener("mouseenter",Sa().stopTimer),u.addEventListener("mouseleave",Sa().resumeTimer)}}),this.formulario=new Xt({correo:new Es("",[Xe.required,Xe.email]),password:new Es("",[Xe.required,Xe.minLength(6)])})}registrar(){this.spinner.show(),this.authService.registrar(this.formulario.value).then(t=>{let r={mail:t.user.email,uid:t.user.uid,rol:"usuario"};this.authService.guardarUsuarioEnFirestore(r).then(()=>{this.authService.saveToLocalstorage(r),this.authService.ingresar(this.formulario.value).then(()=>{this.Toast.fire({icon:"success",title:"Cuenta creada exitosamente. Ingresando..."}),this.spinner.hide(),this.router.navigate(["home"])})})}).catch(t=>{this.spinner.hide(),this.Toast.fire({icon:"error",title:this.firebaseErrors[t.code]||t.code}),console.info(t)})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(HP),v.Y36(Ws.F0),v.Y36(qP))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-registro"]],decls:20,vars:6,consts:[[1,"d-flex","justify-content-center","mt-5"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","formControlName","correo","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control"],["class","invalid",4,"ngIf"],["for","exampleInputPassword1",1,"form-label"],["type","password","formControlName","password","id","exampleInputPassword1",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","ball-scale-multiple"],[1,"invalid"]],template:function(t,r){1&t&&(v.TgZ(0,"div",0)(1,"form",1),v.NdJ("ngSubmit",function(){return r.registrar()}),v.TgZ(2,"h3"),v._uU(3,"Registrarse"),v.qZA(),v.TgZ(4,"div",2)(5,"label",3),v._uU(6,"Email"),v.qZA(),v._UZ(7,"input",4),v.YNc(8,C4,2,0,"small",5),v.YNc(9,D4,2,0,"small",5),v.qZA(),v.TgZ(10,"div",2)(11,"label",6),v._uU(12,"Password"),v.qZA(),v._UZ(13,"input",7),v.YNc(14,T4,2,0,"small",5),v.YNc(15,S4,2,0,"small",5),v.qZA(),v.TgZ(16,"div",2)(17,"button",8),v._uU(18,"Registrar"),v.qZA()()()(),v._UZ(19,"ngx-spinner",9)),2&t&&(v.xp6(1),v.Q6J("formGroup",r.formulario),v.xp6(7),v.Q6J("ngIf",(null==r.formulario.controls.correo.errors?null:r.formulario.controls.correo.errors.required)&&r.formulario.controls.correo.touched),v.xp6(1),v.Q6J("ngIf",(null==r.formulario.controls.correo.errors?null:r.formulario.controls.correo.errors.email)&&r.formulario.controls.correo.touched),v.xp6(5),v.Q6J("ngIf",(null==r.formulario.controls.password.errors?null:r.formulario.controls.password.errors.required)&&r.formulario.controls.password.touched),v.xp6(1),v.Q6J("ngIf",(null==r.formulario.controls.password.errors?null:r.formulario.controls.password.errors.minlength)&&r.formulario.controls.password.touched),v.xp6(2),v.Q6J("disabled",r.formulario.invalid))},dependencies:[oe.O5,zo,Ie,gt,Qi,wt,wi,tU],styles:[".invalid[_ngcontent-%COMP%]{color:#dc143c}"]}),n})();function M4(n,e){1&n&&(v.TgZ(0,"small",13),v._uU(1," Ingrese su direcci\xf3n de correo "),v.qZA())}function x4(n,e){1&n&&(v.TgZ(0,"small",13),v._uU(1," El formato no es correcto "),v.qZA())}function N4(n,e){1&n&&(v.TgZ(0,"small",13),v._uU(1," Ingrese una contrase\xf1a "),v.qZA())}function R4(n,e){1&n&&(v.TgZ(0,"small",13),v._uU(1," La contrase\xf1a debe tener al menos 6 caracteres "),v.qZA())}let P4=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.spinner=i,this.usuarios=["usuario1@gmail.com","usuario2@gmail.com","admin@gmail.com"],this.firebaseErrors={"auth/user-not-found":"El correo ingresado no se encuentra registrado","auth/wrong-password":"Contrase\xf1a incorrecta"},this.Toast=Sa().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:u=>{u.addEventListener("mouseenter",Sa().stopTimer),u.addEventListener("mouseleave",Sa().resumeTimer)}}),this.formulario=new Xt({correo:new Es("",[Xe.required,Xe.email]),password:new Es("",[Xe.required,Xe.minLength(6)])})}loguear(){this.spinner.show(),this.authService.ingresar(this.formulario.value).then(t=>{this.Toast.fire({icon:"success",title:"Logueado correctamente!"}),setTimeout(()=>{console.info("despu\xe9s del timeout..."),this.router.navigate(["home"]),this.spinner.hide()},3e3)}).catch(t=>{this.spinner.hide(),this.Toast.fire({icon:"error",title:this.firebaseErrors[t.code]||t.code})})}completarCampos(t){this.formulario.controls.correo.setValue(this.usuarios[t]),this.formulario.controls.password.setValue(111111)}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(HP),v.Y36(Ws.F0),v.Y36(qP))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-login"]],decls:28,vars:6,consts:[[1,"d-flex","justify-content-center","mt-5"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","formControlName","correo","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control"],["class","invalid",4,"ngIf"],["for","exampleInputPassword1",1,"form-label"],["type","password","formControlName","password","id","exampleInputPassword1",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","group","aria-label","Button group name",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-primary",3,"click"],["type","ball-scale-multiple"],[1,"invalid"]],template:function(t,r){1&t&&(v.TgZ(0,"div",0)(1,"div",1)(2,"form",2),v.NdJ("ngSubmit",function(){return r.loguear()}),v.TgZ(3,"h3"),v._uU(4,"Ingresar"),v.qZA(),v.TgZ(5,"div",3)(6,"label",4),v._uU(7,"Email"),v.qZA(),v._UZ(8,"input",5),v.YNc(9,M4,2,0,"small",6),v.YNc(10,x4,2,0,"small",6),v.qZA(),v.TgZ(11,"div",3)(12,"label",7),v._uU(13,"Password"),v.qZA(),v._UZ(14,"input",8),v.YNc(15,N4,2,0,"small",6),v.YNc(16,R4,2,0,"small",6),v.qZA(),v.TgZ(17,"div",3)(18,"button",9),v._uU(19,"Ingresar"),v.qZA()(),v.TgZ(20,"div",10)(21,"button",11),v.NdJ("click",function(){return r.completarCampos(0)}),v._uU(22,"Usuario 1"),v.qZA(),v.TgZ(23,"button",11),v.NdJ("click",function(){return r.completarCampos(1)}),v._uU(24,"Usuario 2"),v.qZA(),v.TgZ(25,"button",11),v.NdJ("click",function(){return r.completarCampos(2)}),v._uU(26,"Administrador"),v.qZA()()()()(),v._UZ(27,"ngx-spinner",12)),2&t&&(v.xp6(2),v.Q6J("formGroup",r.formulario),v.xp6(7),v.Q6J("ngIf",(null==r.formulario.controls.correo.errors?null:r.formulario.controls.correo.errors.required)&&r.formulario.controls.correo.touched),v.xp6(1),v.Q6J("ngIf",(null==r.formulario.controls.correo.errors?null:r.formulario.controls.correo.errors.email)&&r.formulario.controls.correo.touched),v.xp6(5),v.Q6J("ngIf",(null==r.formulario.controls.password.errors?null:r.formulario.controls.password.errors.required)&&r.formulario.controls.password.touched),v.xp6(1),v.Q6J("ngIf",(null==r.formulario.controls.password.errors?null:r.formulario.controls.password.errors.minlength)&&r.formulario.controls.password.touched),v.xp6(2),v.Q6J("disabled",r.formulario.invalid))},dependencies:[oe.O5,zo,Ie,gt,Qi,wt,wi,tU]}),n})(),k4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-bienvenido"]],decls:9,vars:0,consts:[[1,"bg-image"],[1,"d-flex","p-3","mx-auto","flex-column","text-center"],[1,"px-3","color"],[1,"lead"]],template:function(t,r){1&t&&(v.TgZ(0,"div",0)(1,"div",1)(2,"main",2)(3,"h1"),v._uU(4,"TP1: Sala de Juegos"),v.qZA(),v.TgZ(5,"p",3),v._uU(6,"Trabajo pr\xe1ctico de Manuel Gonz\xe1lez: Sala de Juegos que incluye Ahorcado, Mayor o Menor, Preguntados y un chat para interactuar entre los distintos usuarios. "),v.qZA(),v.TgZ(7,"p"),v._uU(8,"Para comenzar, es necesario crear una cuenta o loguearse con una existente"),v.qZA()()()())},styles:[".bg-image[_ngcontent-%COMP%]{background-image:url(https://wallpapercave.com/wp/wp2343900.png);width:100%;height:90vh;background-size:cover}.color[_ngcontent-%COMP%]{color:#fff}"]}),n})(),O4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-error"]],decls:2,vars:0,template:function(t,r){1&t&&(v.TgZ(0,"p"),v._uU(1,"error works!"),v.qZA())}}),n})();var nU=B(9646),F4=B(4351),rU=B(8746),L4=B(3900);class fS{}class WP{}class ju{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(u=>u.toString()),i.length>0){const u=t.toLowerCase();this.headers.set(u,i),this.maybeSetNormalizedName(t,u)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ju?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ju;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ju?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===u.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class V4{encodeKey(e){return iU(e)}encodeValue(e){return iU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const U4=/%(\d[a-f0-9])/gi,$4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iU(n){return encodeURIComponent(n).replace(U4,(e,t)=>$4[t]??e)}function pS(n){return`${n}`}class bd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new V4,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function B4(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[l,h]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],p=t.get(l)||[];p.push(h),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(pS):[pS(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new bd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(pS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(pS(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class j4{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function sU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function oU(n){return typeof Blob<"u"&&n instanceof Blob}function aU(n){return typeof FormData<"u"&&n instanceof FormData}class nb{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function H4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new ju),this.context||(this.context=new j4),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new bd,this.urlWithParams=t}serializeBody(){return null===this.body?null:sU(this.body)||oU(this.body)||aU(this.body)||function z4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||aU(this.body)?null:oU(this.body)?this.body.type||null:sU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,_=e.params||this.params;const A=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((R,j)=>R.set(j,e.setHeaders[j]),p)),e.setParams&&(_=Object.keys(e.setParams).reduce((R,j)=>R.set(j,e.setParams[j]),_)),new nb(t,r,u,{params:_,headers:p,context:A,reportProgress:h,responseType:i,withCredentials:l})}}var ri=(()=>((ri=ri||{})[ri.Sent=0]="Sent",ri[ri.UploadProgress=1]="UploadProgress",ri[ri.ResponseHeader=2]="ResponseHeader",ri[ri.DownloadProgress=3]="DownloadProgress",ri[ri.Response=4]="Response",ri[ri.User=5]="User",ri))();class KP{constructor(e,t=200,r="OK"){this.headers=e.headers||new ju,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class YP extends KP{constructor(e={}){super(e),this.type=ri.ResponseHeader}clone(e={}){return new YP({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Qm extends KP{constructor(e={}){super(e),this.type=ri.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Qm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uU extends KP{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function QP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let lU=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof nb)u=t;else{let p,_;p=i.headers instanceof ju?i.headers:new ju(i.headers),i.params&&(_=i.params instanceof bd?i.params:new bd({fromObject:i.params})),u=new nb(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:_,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,nU.of)(u).pipe((0,F4.b)(p=>this.handler.handle(p)));if(t instanceof nb||"events"===i.observe)return l;const h=l.pipe((0,ZB.h)(p=>p instanceof Qm));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return h.pipe((0,st.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,st.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,st.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,st.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new bd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,QP(i,r))}post(t,r,i={}){return this.request("POST",t,QP(i,r))}put(t,r,i={}){return this.request("PUT",t,QP(i,r))}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(fS))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();function cU(n,e){return e(n)}function G4(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const W4=new v.OlP(""),rb=new v.OlP(""),dU=new v.OlP("");function K4(){let n=null;return(e,t)=>{null===n&&(n=((0,v.f3M)(W4,{optional:!0})??[]).reduceRight(G4,cU));const r=(0,v.f3M)(v.HDt),i=r.add();return n(e,t).pipe((0,rU.x)(()=>r.remove(i)))}}let hU=(()=>{class n extends fS{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,v.f3M)(v.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(rb),...this.injector.get(dU,[])]));this.chain=i.reduceRight((u,l)=>function q4(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(u,l,this.injector),cU)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe((0,rU.x)(()=>this.pendingTasks.remove(r)))}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(WP),v.LFG(v.lqb))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const J4=/^\)\]\}',?\n/;let pU=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new v.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,me.D)(r.\u0275loadImpl()):(0,nU.of)(null)).pipe((0,L4.w)(()=>new fe.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((ne,de)=>l.setRequestHeader(ne,de.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ne=t.detectContentTypeHeader();null!==ne&&l.setRequestHeader("Content-Type",ne)}if(t.responseType){const ne=t.responseType.toLowerCase();l.responseType="json"!==ne?ne:"text"}const h=t.serializeBody();let p=null;const _=()=>{if(null!==p)return p;const ne=l.statusText||"OK",de=new ju(l.getAllResponseHeaders()),Oe=function Z4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return p=new YP({headers:de,status:l.status,statusText:ne,url:Oe}),p},A=()=>{let{headers:ne,status:de,statusText:Oe,url:Qe}=_(),Fe=null;204!==de&&(Fe=typeof l.response>"u"?l.responseText:l.response),0===de&&(de=Fe?200:0);let dt=de>=200&&de<300;if("json"===t.responseType&&"string"==typeof Fe){const tn=Fe;Fe=Fe.replace(J4,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(kt){Fe=tn,dt&&(dt=!1,Fe={error:kt,text:Fe})}}dt?(u.next(new Qm({body:Fe,headers:ne,status:de,statusText:Oe,url:Qe||void 0})),u.complete()):u.error(new uU({error:Fe,headers:ne,status:de,statusText:Oe,url:Qe||void 0}))},R=ne=>{const{url:de}=_(),Oe=new uU({error:ne,status:l.status||0,statusText:l.statusText||"Unknown Error",url:de||void 0});u.error(Oe)};let j=!1;const W=ne=>{j||(u.next(_()),j=!0);let de={type:ri.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(de.total=ne.total),"text"===t.responseType&&l.responseText&&(de.partialText=l.responseText),u.next(de)},ee=ne=>{let de={type:ri.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(de.total=ne.total),u.next(de)};return l.addEventListener("load",A),l.addEventListener("error",R),l.addEventListener("timeout",R),l.addEventListener("abort",R),t.reportProgress&&(l.addEventListener("progress",W),null!==h&&l.upload&&l.upload.addEventListener("progress",ee)),l.send(h),u.next({type:ri.Sent}),()=>{l.removeEventListener("error",R),l.removeEventListener("abort",R),l.removeEventListener("load",A),l.removeEventListener("timeout",R),t.reportProgress&&(l.removeEventListener("progress",W),null!==h&&l.upload&&l.upload.removeEventListener("progress",ee)),l.readyState!==l.DONE&&l.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(oe.JF))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const XP=new v.OlP("XSRF_ENABLED"),gU=new v.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),mU=new v.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yU{}let n6=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,oe.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(oe.K0),v.LFG(v.Lbi),v.LFG(gU))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();function r6(n,e){const t=n.url.toLowerCase();if(!(0,v.f3M)(XP)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,v.f3M)(yU).getToken(),i=(0,v.f3M)(mU);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var jr=(()=>((jr=jr||{})[jr.Interceptors=0]="Interceptors",jr[jr.LegacyInterceptors=1]="LegacyInterceptors",jr[jr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",jr[jr.NoXsrfProtection=3]="NoXsrfProtection",jr[jr.JsonpSupport=4]="JsonpSupport",jr[jr.RequestsMadeViaParent=5]="RequestsMadeViaParent",jr))();function Xm(n,e){return{\u0275kind:n,\u0275providers:e}}function i6(...n){const e=[lU,pU,hU,{provide:fS,useExisting:hU},{provide:WP,useExisting:pU},{provide:rb,useValue:r6,multi:!0},{provide:XP,useValue:!0},{provide:yU,useClass:n6}];for(const t of n)e.push(...t.\u0275providers);return(0,v.MR2)(e)}const _U=new v.OlP("LEGACY_INTERCEPTOR_FN");let o6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[i6(Xm(jr.LegacyInterceptors,[{provide:_U,useFactory:K4},{provide:rb,useExisting:_U,multi:!0}]))]}),n})(),h6=(()=>{class n{constructor(t){this.httpClient=t,this.url="https://api.github.com/users/genma2612"}traerInfoGithub(){return this.httpClient.get(this.url)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(lU))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f6(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),v._UZ(4,"img",6),v.qZA(),v.TgZ(5,"div",7)(6,"div",8)(7,"h5",9),v._uU(8),v.qZA(),v.TgZ(9,"p",10),v._uU(10),v.qZA(),v.TgZ(11,"p",10)(12,"small"),v._uU(13,"juego propio consiste en..."),v.qZA()(),v.TgZ(14,"p",10)(15,"small",11),v._uU(16),v.ALo(17,"date"),v.qZA()(),v.TgZ(18,"a",12),v.NdJ("click",function(){v.CHM(t);const i=v.oxw();return v.KtG(i.irAPagina())}),v._uU(19,"Github"),v.qZA()()()()()()}if(2&n){const t=v.oxw();v.xp6(4),v.s9C("src",t.infoGithub.avatar_url,v.LSH),v.xp6(4),v.Oqu(t.infoGithub.name),v.xp6(2),v.Oqu(t.infoGithub.bio),v.xp6(6),v.hij("Registrado el ",v.xi3(17,4,t.infoGithub.created_at,"dd/MM/YYYY"),"")}}const p6=[{path:"",redirectTo:"/bienvenido",pathMatch:"full"},{path:"registro",component:A4},{path:"login",component:P4},{path:"about",component:(()=>{class n{constructor(t){this.service=t}ngOnInit(){this.service.traerInfoGithub().subscribe(t=>{this.infoGithub=t})}irAPagina(){location.href=this.infoGithub.html_url}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(h6))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-about"]],decls:2,vars:1,consts:[[1,"bg-image"],["class","d-flex t-5 justify-content-center aligns-items-center",4,"ngIf"],[1,"d-flex","t-5","justify-content-center","aligns-items-center"],[1,"card","mb-3",2,"max-width","640px"],[1,"row","g-0"],[1,"col-md-4"],["alt","...",1,"img-fluid","rounded-start",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],["type","button",1,"card-text",3,"click"]],template:function(t,r){1&t&&(v.TgZ(0,"div",0),v.YNc(1,f6,20,7,"div",1),v.qZA()),2&t&&(v.xp6(1),v.Q6J("ngIf",r.infoGithub))},dependencies:[oe.O5,oe.uU],styles:[".bg-image[_ngcontent-%COMP%]{background-image:url(https://wallpapercave.com/wp/wp2343900.png);width:100%;height:90vh;background-size:cover}.color[_ngcontent-%COMP%]{color:#fff}"]}),n})()},{path:"bienvenido",component:k4,canActivate:[(n,e)=>(null!=localStorage.getItem("usuarioActual")&&(0,v.f3M)(Ws.F0).navigate(["/home"]),!0)]},{path:"home",loadChildren:()=>B.e(272).then(B.bind(B,7272)).then(n=>n.JuegosModule),canActivate:[(n,e)=>null!=localStorage.getItem("usuarioActual")]},{path:"**",component:O4}];let g6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[Ws.Bz.forRoot(p6),Ws.Bz]}),n})();function m6(n,e){1&n&&(v.TgZ(0,"li",8)(1,"a",12),v._uU(2,"Home"),v.qZA()())}function y6(n,e){1&n&&(v.TgZ(0,"span",13)(1,"a",14),v._uU(2,"Login"),v.qZA(),v.TgZ(3,"a",15),v._uU(4,"Registro"),v.qZA()())}function _6(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div",17)(1,"a",18)(2,"strong"),v._uU(3),v.qZA()(),v.TgZ(4,"ul",19)(5,"li")(6,"a",20),v.NdJ("click",function(){v.CHM(t);const i=v.oxw(2);return v.KtG(i.salir())}),v._uU(7,"Salir"),v.qZA()()()()}if(2&n){const t=v.oxw(2);v.xp6(3),v.Oqu(t.datosUsuario.mail)}}function v6(n,e){if(1&n&&v.YNc(0,_6,8,1,"div",16),2&n){const t=v.oxw();v.Q6J("ngIf",t.datosUsuario)}}let w6=(()=>{class n{constructor(t,r){this.userAuth=t,this.ruteador=r}ngOnInit(){}salir(){this.userAuth.salir().then(()=>this.ruteador.navigate(["/bienvenido"]))}get hayUsuario(){return this.userAuth.hayUsuarioLogueado}get datosUsuario(){return this.userAuth.usuarioLogueado}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(HP),v.Y36(Ws.F0))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-navbar"]],decls:15,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-dark",2,"background-color","#b41c5c"],[1,"container-fluid"],["routerLink","/bienvenido",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/about","routerLinkActive","active",1,"nav-link"],["class","navbar-text",4,"ngIf","ngIfElse"],["elseBlock",""],["routerLink","/home","routerLinkActive","active",1,"nav-link"],[1,"navbar-text"],["type","button","routerLink","/login",1,"btn","btn-sm","btn-outline-primary"],["type","button","routerLink","/registro",1,"btn","btn-sm","btn-outline-info"],["class","dropdown",4,"ngIf"],[1,"dropdown"],["data-bs-toggle","dropdown","aria-expanded","false",1,"d-flex","align-items-center","text-white","text-decoration-none","dropdown-toggle","btn"],[1,"dropdown-menu","dropdown-menu-dark","text-small","shadow"],[1,"btn","dropdown-item",3,"click"]],template:function(t,r){if(1&t&&(v.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),v._uU(3,"Sala de juegos"),v.qZA(),v.TgZ(4,"button",3),v._UZ(5,"span",4),v.qZA(),v.TgZ(6,"div",5)(7,"ul",6),v.YNc(8,m6,3,0,"li",7),v.TgZ(9,"li",8)(10,"a",9),v._uU(11,"Quien soy"),v.qZA()()(),v.YNc(12,y6,5,0,"span",10),v.YNc(13,v6,1,1,"ng-template",null,11,v.W1O),v.qZA()()()),2&t){const i=v.MAs(14);v.xp6(8),v.Q6J("ngIf",r.hayUsuario),v.xp6(4),v.Q6J("ngIf",!r.hayUsuario)("ngIfElse",i)}},dependencies:[oe.O5,Ws.rH,Ws.Od],styles:[".btn[_ngcontent-%COMP%]{border-radius:0!important}"]}),n})(),E6=(()=>{class n{constructor(){this.title="TP12023"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container-fluid"],[1,"row","g-0"]],template:function(t,r){1&t&&(v.TgZ(0,"div",0)(1,"div",1),v._UZ(2,"app-navbar")(3,"router-outlet"),v.qZA()())},dependencies:[Ws.lC,w6],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0!important}"]}),n})();const b6_firebase={projectId:"tp1-2023-20f7c",appId:"1:767079939093:web:149061016fb5dc9a5da21c",databaseURL:"https://tp1-2023-20f7c-default-rtdb.firebaseio.com",storageBucket:"tp1-2023-20f7c.appspot.com",locationId:"us-central",apiKey:"AIzaSyBEV-BXrnFzrpgOPQ1qG0TmxFjpm8kWJdQ",authDomain:"tp1-2023-20f7c.firebaseapp.com",messagingSenderId:"767079939093"},vU="firebasestorage.googleapis.com";class Ir extends Jr{constructor(e,t,r=0){super(JP(e),`Firebase Storage: ${t} (${JP(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return JP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Mt=(()=>((Mt=Mt||{}).UNKNOWN="unknown",Mt.OBJECT_NOT_FOUND="object-not-found",Mt.BUCKET_NOT_FOUND="bucket-not-found",Mt.PROJECT_NOT_FOUND="project-not-found",Mt.QUOTA_EXCEEDED="quota-exceeded",Mt.UNAUTHENTICATED="unauthenticated",Mt.UNAUTHORIZED="unauthorized",Mt.UNAUTHORIZED_APP="unauthorized-app",Mt.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Mt.INVALID_CHECKSUM="invalid-checksum",Mt.CANCELED="canceled",Mt.INVALID_EVENT_NAME="invalid-event-name",Mt.INVALID_URL="invalid-url",Mt.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Mt.NO_DEFAULT_BUCKET="no-default-bucket",Mt.CANNOT_SLICE_BLOB="cannot-slice-blob",Mt.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Mt.NO_DOWNLOAD_URL="no-download-url",Mt.INVALID_ARGUMENT="invalid-argument",Mt.INVALID_ARGUMENT_COUNT="invalid-argument-count",Mt.APP_DELETED="app-deleted",Mt.INVALID_ROOT_OPERATION="invalid-root-operation",Mt.INVALID_FORMAT="invalid-format",Mt.INTERNAL_ERROR="internal-error",Mt.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Mt))();function JP(n){return"storage/"+n}function ek(n){return new Ir(Mt.INVALID_ARGUMENT,n)}function CU(){return new Ir(Mt.APP_DELETED,"The Firebase app was deleted.")}class Ps{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ps.makeFromUrl(e,t)}catch{return new Ps(e,"")}if(""===r.path)return r;throw function R6(n){return new Ir(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function _(dt){dt.path_=decodeURIComponent(dt.path)}const R=t.replace(/[.]/g,"\\."),Fe=[{regex:h,indices:{bucket:1,path:3},postModify:function u(dt){"/"===dt.path.charAt(dt.path.length-1)&&(dt.path_=dt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===vU?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let dt=0;dt<Fe.length;dt++){const tn=Fe[dt],kt=tn.regex.exec(e);if(kt){let sr=kt[tn.indices.path];sr||(sr=""),r=new Ps(kt[tn.indices.bucket],sr),tn.postModify(r);break}}if(null==r)throw function N6(n){return new Ir(Mt.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class V6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function nk(n,e,t,r){if(r<e)throw ek(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ek(`Invalid value for '${n}'. Expected ${t} or less.`)}var to=(()=>((to=to||{})[to.NO_ERROR=0]="NO_ERROR",to[to.NETWORK_ERROR=1]="NETWORK_ERROR",to[to.ABORT=2]="ABORT",to))();class z6{constructor(e,t,r,i,u,l,h,p,_,A,R,j=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=A,this.connectionFactory_=R,this.retry=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((W,ee)=>{this.resolve_=W,this.reject_=ee,this.start_()})}start_(){const t=(r,i)=>{const u=this.resolve_,l=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function $6(n){return void 0!==n}(p)?u():u(p)}catch(p){l(p)}else if(null!==h){const p=function ZP(){return new Ir(Mt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();p.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,p):p)}else l(i.canceled?this.appDelete_?CU():function bU(){return new Ir(Mt.CANCELED,"User canceled the upload/download.")}():function EU(){return new Ir(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new yS(!1,null,!0)):this.backoffId_=function B6(n,e,t){let r=1,i=null,u=null,l=!1,h=0;function p(){return 2===h}let _=!1;function A(...de){_||(_=!0,e.apply(null,de))}function R(de){i=setTimeout(()=>{i=null,n(W,p())},de)}function j(){u&&clearTimeout(u)}function W(de,...Oe){if(_)return void j();if(de)return j(),void A.call(null,de,...Oe);if(p()||l)return j(),void A.call(null,de,...Oe);let Fe;r<64&&(r*=2),1===h?(h=2,Fe=0):Fe=1e3*(r+Math.random()),R(Fe)}let ee=!1;function ne(de){ee||(ee=!0,j(),!_&&(null!==i?(de||(h=2),clearTimeout(i),R(0)):de||(h=1)))}return R(0),u=setTimeout(()=>{l=!0,ne(!0)},t),ne}((r,i)=>{if(i)return void r(!1,new yS(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(l),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(l),this.pendingConnection_=null;const h=u.getErrorCode()===to.NO_ERROR,p=u.getStatus();if(!h||function SU(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||i||u}(p,this.additionalRetryCodes_)&&this.retry){const A=u.getErrorCode()===to.ABORT;return void r(!1,new yS(!1,null,A))}const _=-1!==this.successCodes_.indexOf(p);r(!0,new yS(_,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function U6(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class yS{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}class Ff{constructor(e,t){this._service=e,this._location=t instanceof Ps?t:Ps.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ff(e,t)}get root(){const e=new Ps(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function RU(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function i5(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ps(this._location.bucket,e);return new Ff(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function L6(n){return new Ir(Mt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function WU(n,e){const t=e?.storageBucket;return null==t?null:Ps.makeFromBucketSpec(t,n)}class lk{constructor(e,t,r,i,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=vU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ps.makeFromBucketSpec(i,this._host):WU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ps.makeFromBucketSpec(this._url,e):WU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return G(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return G(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ff(this,e)}_makeRequest(e,t,r,i,u=!0){if(this._deleted)return new V6(CU());{const l=function Y6(n,e,t,r,i,u,l=!0){const h=function TU(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),p=n.url+h,_=Object.assign({},n.headers);return function W6(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function G6(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function q6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,u),function K6(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new z6(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,u);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return G(function*(){const[i,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,u).getPromise()})()}}const KU="@firebase/storage",QU="storage";function H5(n=qy(),e){const r=gl(n=Or(n),QU).getImmediate({identifier:e}),i=GS("storage");return i&&function z5(n,e,t,r={}){!function j5(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:Fb(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function G5(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new lk(t,r,i,e,Pa)}!function q5(){Mi(new Zr(QU,G5,"PUBLIC").setMultipleInstances(!0)),Rn(KU,"0.11.2",""),Rn(KU,"0.11.2","esm2017")}();class ck{constructor(e){return e}}const XU="storage",dk=new v.OlP("angularfire2.storage-instances");function Y5(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ck(r)}}const Q5={provide:class W5{constructor(){return tg(XU)}},deps:[[new v.FiY,dk]]},X5={provide:ck,useFactory:function K5(n,e){const t=Oh(XU,n,e);return t&&new ck(t)},deps:[[new v.FiY,dk],Ml]};let J5=(()=>{class n{constructor(){Rn("angularfire",Xn.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[X5,Q5]}),n})();function Z5(n,...e){return{ngModule:J5,providers:[{provide:dk,useFactory:Y5(n),multi:!0,deps:[v.R0b,v.zs3,Bc,ng,[new v.FiY,UN],[new v.FiY,Pl],...e]}]}}const eq=Xs(H5,!0);let tq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n,bootstrap:[E6]}),n.\u0275inj=v.cJS({imports:[M.b2,g6,Cd,Dd,zI(()=>GI(b6_firebase)),sj(()=>aj()),i4(()=>u4()),Z5(()=>eq()),LS,I4,o6]}),n})();M.q6().bootstrapModule(tq).catch(n=>console.error(n))},1135:(bt,Ce,B)=>{"use strict";B.d(Ce,{X:()=>v});var M=B(7579);class v extends M.x{constructor(me){super(),this._value=me}get value(){return this.getValue()}_subscribe(me){const fe=super._subscribe(me);return!fe.closed&&me.next(this._value),fe}getValue(){const{hasError:me,thrownError:fe,_value:z}=this;if(me)throw fe;return this._throwIfClosed(),z}next(me){super.next(this._value=me)}}},9751:(bt,Ce,B)=>{"use strict";B.d(Ce,{y:()=>rt});var M=B(930),v=B(727),oe=B(8822),me=B(9635),fe=B(2416),z=B(576),ke=B(2806);let rt=(()=>{class De{constructor(He){He&&(this._subscribe=He)}lift(He){const it=new De;return it.source=this,it.operator=He,it}subscribe(He,it,xt){const Ft=function pe(De){return De&&De instanceof M.Lv||function Me(De){return De&&(0,z.m)(De.next)&&(0,z.m)(De.error)&&(0,z.m)(De.complete)}(De)&&(0,v.Nn)(De)}(He)?He:new M.Hp(He,it,xt);return(0,ke.x)(()=>{const{operator:zt,source:hn}=this;Ft.add(zt?zt.call(Ft,hn):hn?this._subscribe(Ft):this._trySubscribe(Ft))}),Ft}_trySubscribe(He){try{return this._subscribe(He)}catch(it){He.error(it)}}forEach(He,it){return new(it=Le(it))((xt,Ft)=>{const zt=new M.Hp({next:hn=>{try{He(hn)}catch($t){Ft($t),zt.unsubscribe()}},error:Ft,complete:xt});this.subscribe(zt)})}_subscribe(He){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(He)}[oe.L](){return this}pipe(...He){return(0,me.U)(He)(this)}toPromise(He){return new(He=Le(He))((it,xt)=>{let Ft;this.subscribe(zt=>Ft=zt,zt=>xt(zt),()=>it(Ft))})}}return De.create=st=>new De(st),De})();function Le(De){var st;return null!==(st=De??fe.config.Promise)&&void 0!==st?st:Promise}},7579:(bt,Ce,B)=>{"use strict";B.d(Ce,{x:()=>ke});var M=B(9751),v=B(727);const me=(0,B(3888).d)(Le=>function(){Le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=B(8737),z=B(2806);let ke=(()=>{class Le extends M.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const De=new rt(this,this);return De.operator=pe,De}_throwIfClosed(){if(this.closed)throw new me}next(pe){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(pe)}})}error(pe){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:De}=this;for(;De.length;)De.shift().error(pe)}})}complete(){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:De,isStopped:st,observers:He}=this;return De||st?v.Lc:(this.currentObservers=null,He.push(pe),new v.w0(()=>{this.currentObservers=null,(0,fe.P)(He,pe)}))}_checkFinalizedStatuses(pe){const{hasError:De,thrownError:st,isStopped:He}=this;De?pe.error(st):He&&pe.complete()}asObservable(){const pe=new M.y;return pe.source=this,pe}}return Le.create=(Me,pe)=>new rt(Me,pe),Le})();class rt extends ke{constructor(Me,pe){super(),this.destination=Me,this.source=pe}next(Me){var pe,De;null===(De=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===De||De.call(pe,Me)}error(Me){var pe,De;null===(De=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===De||De.call(pe,Me)}complete(){var Me,pe;null===(pe=null===(Me=this.destination)||void 0===Me?void 0:Me.complete)||void 0===pe||pe.call(Me)}_subscribe(Me){var pe,De;return null!==(De=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Me))&&void 0!==De?De:v.Lc}}},930:(bt,Ce,B)=>{"use strict";B.d(Ce,{Hp:()=>xt,Lv:()=>De});var M=B(576),v=B(727),oe=B(2416),me=B(7849),fe=B(5032);const z=Le("C",void 0,void 0);function Le(Se,Ie,se){return{kind:Se,value:Ie,error:se}}var Me=B(3410),pe=B(2806);class De extends v.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,v.Nn)(Ie)&&Ie.add(this)):this.destination=$t}static create(Ie,se,Be){return new xt(Ie,se,Be)}next(Ie){this.isStopped?hn(function rt(Se){return Le("N",Se,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?hn(function ke(Se){return Le("E",void 0,Se)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?hn(z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function He(Se,Ie){return st.call(Se,Ie)}class it{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:se}=this;if(se.next)try{se.next(Ie)}catch(Be){Ft(Be)}}error(Ie){const{partialObserver:se}=this;if(se.error)try{se.error(Ie)}catch(Be){Ft(Be)}else Ft(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(se){Ft(se)}}}class xt extends De{constructor(Ie,se,Be){let Ze;if(super(),(0,M.m)(Ie)||!Ie)Ze={next:Ie??void 0,error:se??void 0,complete:Be??void 0};else{let Pe;this&&oe.config.useDeprecatedNextContext?(Pe=Object.create(Ie),Pe.unsubscribe=()=>this.unsubscribe(),Ze={next:Ie.next&&He(Ie.next,Pe),error:Ie.error&&He(Ie.error,Pe),complete:Ie.complete&&He(Ie.complete,Pe)}):Ze=Ie}this.destination=new it(Ze)}}function Ft(Se){oe.config.useDeprecatedSynchronousErrorHandling?(0,pe.O)(Se):(0,me.h)(Se)}function hn(Se,Ie){const{onStoppedNotification:se}=oe.config;se&&Me.z.setTimeout(()=>se(Se,Ie))}const $t={closed:!0,next:fe.Z,error:function zt(Se){throw Se},complete:fe.Z}},727:(bt,Ce,B)=>{"use strict";B.d(Ce,{Lc:()=>z,w0:()=>fe,Nn:()=>ke});var M=B(576);const oe=(0,B(3888).d)(Le=>function(pe){Le(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((De,st)=>`${st+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var me=B(8737);class fe{constructor(Me){this.initialTeardown=Me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Me;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const He of pe)He.remove(this);else pe.remove(this);const{initialTeardown:De}=this;if((0,M.m)(De))try{De()}catch(He){Me=He instanceof oe?He.errors:[He]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const He of st)try{rt(He)}catch(it){Me=Me??[],it instanceof oe?Me=[...Me,...it.errors]:Me.push(it)}}if(Me)throw new oe(Me)}}add(Me){var pe;if(Me&&Me!==this)if(this.closed)rt(Me);else{if(Me instanceof fe){if(Me.closed||Me._hasParent(this))return;Me._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(Me)}}_hasParent(Me){const{_parentage:pe}=this;return pe===Me||Array.isArray(pe)&&pe.includes(Me)}_addParent(Me){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(Me),pe):pe?[pe,Me]:Me}_removeParent(Me){const{_parentage:pe}=this;pe===Me?this._parentage=null:Array.isArray(pe)&&(0,me.P)(pe,Me)}remove(Me){const{_finalizers:pe}=this;pe&&(0,me.P)(pe,Me),Me instanceof fe&&Me._removeParent(this)}}fe.EMPTY=(()=>{const Le=new fe;return Le.closed=!0,Le})();const z=fe.EMPTY;function ke(Le){return Le instanceof fe||Le&&"closed"in Le&&(0,M.m)(Le.remove)&&(0,M.m)(Le.add)&&(0,M.m)(Le.unsubscribe)}function rt(Le){(0,M.m)(Le)?Le():Le.unsubscribe()}},2416:(bt,Ce,B)=>{"use strict";B.d(Ce,{config:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(bt,Ce,B)=>{"use strict";B.d(Ce,{E:()=>v});const v=new(B(9751).y)(fe=>fe.complete())},8996:(bt,Ce,B)=>{"use strict";B.d(Ce,{D:()=>Ie});var M=B(8421),v=B(5363),oe=B(9468),z=B(9751),rt=B(2202),Le=B(576),Me=B(9672);function De(se,Be){if(!se)throw new Error("Iterable cannot be null");return new z.y(Ze=>{(0,Me.f)(Ze,Be,()=>{const Pe=se[Symbol.asyncIterator]();(0,Me.f)(Ze,Be,()=>{Pe.next().then(xe=>{xe.done?Ze.complete():Ze.next(xe.value)})},0,!0)})})}var st=B(3670),He=B(8239),it=B(1144),xt=B(6495),Ft=B(2206),zt=B(4532),hn=B(3260);function Ie(se,Be){return Be?function Se(se,Be){if(null!=se){if((0,st.c)(se))return function me(se,Be){return(0,M.Xf)(se).pipe((0,oe.R)(Be),(0,v.Q)(Be))}(se,Be);if((0,it.z)(se))return function ke(se,Be){return new z.y(Ze=>{let Pe=0;return Be.schedule(function(){Pe===se.length?Ze.complete():(Ze.next(se[Pe++]),Ze.closed||this.schedule())})})}(se,Be);if((0,He.t)(se))return function fe(se,Be){return(0,M.Xf)(se).pipe((0,oe.R)(Be),(0,v.Q)(Be))}(se,Be);if((0,Ft.D)(se))return De(se,Be);if((0,xt.T)(se))return function pe(se,Be){return new z.y(Ze=>{let Pe;return(0,Me.f)(Ze,Be,()=>{Pe=se[rt.h](),(0,Me.f)(Ze,Be,()=>{let xe,Xe;try{({value:xe,done:Xe}=Pe.next())}catch(Hn){return void Ze.error(Hn)}Xe?Ze.complete():Ze.next(xe)},0,!0)}),()=>(0,Le.m)(Pe?.return)&&Pe.return()})}(se,Be);if((0,hn.L)(se))return function $t(se,Be){return De((0,hn.Q)(se),Be)}(se,Be)}throw(0,zt.z)(se)}(se,Be):(0,M.Xf)(se)}},8421:(bt,Ce,B)=>{"use strict";B.d(Ce,{Xf:()=>st});var M=B(655),v=B(1144),oe=B(8239),me=B(9751),fe=B(3670),z=B(2206),ke=B(4532),rt=B(6495),Le=B(3260),Me=B(576),pe=B(7849),De=B(8822);function st(Se){if(Se instanceof me.y)return Se;if(null!=Se){if((0,fe.c)(Se))return function He(Se){return new me.y(Ie=>{const se=Se[De.L]();if((0,Me.m)(se.subscribe))return se.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,v.z)(Se))return function it(Se){return new me.y(Ie=>{for(let se=0;se<Se.length&&!Ie.closed;se++)Ie.next(Se[se]);Ie.complete()})}(Se);if((0,oe.t)(Se))return function xt(Se){return new me.y(Ie=>{Se.then(se=>{Ie.closed||(Ie.next(se),Ie.complete())},se=>Ie.error(se)).then(null,pe.h)})}(Se);if((0,z.D)(Se))return zt(Se);if((0,rt.T)(Se))return function Ft(Se){return new me.y(Ie=>{for(const se of Se)if(Ie.next(se),Ie.closed)return;Ie.complete()})}(Se);if((0,Le.L)(Se))return function hn(Se){return zt((0,Le.Q)(Se))}(Se)}throw(0,ke.z)(Se)}function zt(Se){return new me.y(Ie=>{(function $t(Se,Ie){var se,Be,Ze,Pe;return(0,M.mG)(this,void 0,void 0,function*(){try{for(se=(0,M.KL)(Se);!(Be=yield se.next()).done;)if(Ie.next(Be.value),Ie.closed)return}catch(xe){Ze={error:xe}}finally{try{Be&&!Be.done&&(Pe=se.return)&&(yield Pe.call(se))}finally{if(Ze)throw Ze.error}}Ie.complete()})})(Se,Ie).catch(se=>Ie.error(se))})}},9646:(bt,Ce,B)=>{"use strict";B.d(Ce,{of:()=>oe});var M=B(7669),v=B(8996);function oe(...me){const fe=(0,M.yG)(me);return(0,v.D)(me,fe)}},5403:(bt,Ce,B)=>{"use strict";B.d(Ce,{x:()=>v});var M=B(930);function v(me,fe,z,ke,rt){return new oe(me,fe,z,ke,rt)}class oe extends M.Lv{constructor(fe,z,ke,rt,Le,Me){super(fe),this.onFinalize=Le,this.shouldUnsubscribe=Me,this._next=z?function(pe){try{z(pe)}catch(De){fe.error(De)}}:super._next,this._error=rt?function(pe){try{rt(pe)}catch(De){fe.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(pe){fe.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:z}=this;super.unsubscribe(),!z&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4351:(bt,Ce,B)=>{"use strict";B.d(Ce,{b:()=>oe});var M=B(5577),v=B(576);function oe(me,fe){return(0,v.m)(fe)?(0,M.z)(me,fe,1):(0,M.z)(me,1)}},9300:(bt,Ce,B)=>{"use strict";B.d(Ce,{h:()=>oe});var M=B(4482),v=B(5403);function oe(me,fe){return(0,M.e)((z,ke)=>{let rt=0;z.subscribe((0,v.x)(ke,Le=>me.call(fe,Le,rt++)&&ke.next(Le)))})}},8746:(bt,Ce,B)=>{"use strict";B.d(Ce,{x:()=>v});var M=B(4482);function v(oe){return(0,M.e)((me,fe)=>{try{me.subscribe(fe)}finally{fe.add(oe)}})}},4004:(bt,Ce,B)=>{"use strict";B.d(Ce,{U:()=>oe});var M=B(4482),v=B(5403);function oe(me,fe){return(0,M.e)((z,ke)=>{let rt=0;z.subscribe((0,v.x)(ke,Le=>{ke.next(me.call(fe,Le,rt++))}))})}},8189:(bt,Ce,B)=>{"use strict";B.d(Ce,{J:()=>oe});var M=B(5577),v=B(4671);function oe(me=1/0){return(0,M.z)(v.y,me)}},5577:(bt,Ce,B)=>{"use strict";B.d(Ce,{z:()=>rt});var M=B(4004),v=B(8421),oe=B(4482),me=B(9672),fe=B(5403),ke=B(576);function rt(Le,Me,pe=1/0){return(0,ke.m)(Me)?rt((De,st)=>(0,M.U)((He,it)=>Me(De,He,st,it))((0,v.Xf)(Le(De,st))),pe):("number"==typeof Me&&(pe=Me),(0,oe.e)((De,st)=>function z(Le,Me,pe,De,st,He,it,xt){const Ft=[];let zt=0,hn=0,$t=!1;const Se=()=>{$t&&!Ft.length&&!zt&&Me.complete()},Ie=Be=>zt<De?se(Be):Ft.push(Be),se=Be=>{He&&Me.next(Be),zt++;let Ze=!1;(0,v.Xf)(pe(Be,hn++)).subscribe((0,fe.x)(Me,Pe=>{st?.(Pe),He?Ie(Pe):Me.next(Pe)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(zt--;Ft.length&&zt<De;){const Pe=Ft.shift();it?(0,me.f)(Me,it,()=>se(Pe)):se(Pe)}Se()}catch(Pe){Me.error(Pe)}}))};return Le.subscribe((0,fe.x)(Me,Ie,()=>{$t=!0,Se()})),()=>{xt?.()}}(De,st,Le,pe)))}},5363:(bt,Ce,B)=>{"use strict";B.d(Ce,{Q:()=>me});var M=B(9672),v=B(4482),oe=B(5403);function me(fe,z=0){return(0,v.e)((ke,rt)=>{ke.subscribe((0,oe.x)(rt,Le=>(0,M.f)(rt,fe,()=>rt.next(Le),z),()=>(0,M.f)(rt,fe,()=>rt.complete(),z),Le=>(0,M.f)(rt,fe,()=>rt.error(Le),z)))})}},9468:(bt,Ce,B)=>{"use strict";B.d(Ce,{R:()=>v});var M=B(4482);function v(oe,me=0){return(0,M.e)((fe,z)=>{z.add(oe.schedule(()=>fe.subscribe(z),me))})}},3900:(bt,Ce,B)=>{"use strict";B.d(Ce,{w:()=>me});var M=B(8421),v=B(4482),oe=B(5403);function me(fe,z){return(0,v.e)((ke,rt)=>{let Le=null,Me=0,pe=!1;const De=()=>pe&&!Le&&rt.complete();ke.subscribe((0,oe.x)(rt,st=>{Le?.unsubscribe();let He=0;const it=Me++;(0,M.Xf)(fe(st,it)).subscribe(Le=(0,oe.x)(rt,xt=>rt.next(z?z(st,xt,it,He++):xt),()=>{Le=null,De()}))},()=>{pe=!0,De()}))})}},8505:(bt,Ce,B)=>{"use strict";B.d(Ce,{b:()=>fe});var M=B(576),v=B(4482),oe=B(5403),me=B(4671);function fe(z,ke,rt){const Le=(0,M.m)(z)||ke||rt?{next:z,error:ke,complete:rt}:z;return Le?(0,v.e)((Me,pe)=>{var De;null===(De=Le.subscribe)||void 0===De||De.call(Le);let st=!0;Me.subscribe((0,oe.x)(pe,He=>{var it;null===(it=Le.next)||void 0===it||it.call(Le,He),pe.next(He)},()=>{var He;st=!1,null===(He=Le.complete)||void 0===He||He.call(Le),pe.complete()},He=>{var it;st=!1,null===(it=Le.error)||void 0===it||it.call(Le,He),pe.error(He)},()=>{var He,it;st&&(null===(He=Le.unsubscribe)||void 0===He||He.call(Le)),null===(it=Le.finalize)||void 0===it||it.call(Le)}))}):me.y}},3410:(bt,Ce,B)=>{"use strict";B.d(Ce,{z:()=>M});const M={setTimeout(v,oe,...me){const{delegate:fe}=M;return fe?.setTimeout?fe.setTimeout(v,oe,...me):setTimeout(v,oe,...me)},clearTimeout(v){const{delegate:oe}=M;return(oe?.clearTimeout||clearTimeout)(v)},delegate:void 0}},2202:(bt,Ce,B)=>{"use strict";B.d(Ce,{h:()=>v});const v=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,Ce,B)=>{"use strict";B.d(Ce,{L:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(bt,Ce,B)=>{"use strict";B.d(Ce,{_6:()=>z,jO:()=>me,yG:()=>fe});var M=B(576);function oe(ke){return ke[ke.length-1]}function me(ke){return(0,M.m)(oe(ke))?ke.pop():void 0}function fe(ke){return function v(ke){return ke&&(0,M.m)(ke.schedule)}(oe(ke))?ke.pop():void 0}function z(ke,rt){return"number"==typeof oe(ke)?ke.pop():rt}},4742:(bt,Ce,B)=>{"use strict";B.d(Ce,{D:()=>fe});const{isArray:M}=Array,{getPrototypeOf:v,prototype:oe,keys:me}=Object;function fe(ke){if(1===ke.length){const rt=ke[0];if(M(rt))return{args:rt,keys:null};if(function z(ke){return ke&&"object"==typeof ke&&v(ke)===oe}(rt)){const Le=me(rt);return{args:Le.map(Me=>rt[Me]),keys:Le}}}return{args:ke,keys:null}}},8737:(bt,Ce,B)=>{"use strict";function M(v,oe){if(v){const me=v.indexOf(oe);0<=me&&v.splice(me,1)}}B.d(Ce,{P:()=>M})},3888:(bt,Ce,B)=>{"use strict";function M(v){const me=v(fe=>{Error.call(fe),fe.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}B.d(Ce,{d:()=>M})},1810:(bt,Ce,B)=>{"use strict";function M(v,oe){return v.reduce((me,fe,z)=>(me[fe]=oe[z],me),{})}B.d(Ce,{n:()=>M})},2806:(bt,Ce,B)=>{"use strict";B.d(Ce,{O:()=>me,x:()=>oe});var M=B(2416);let v=null;function oe(fe){if(M.config.useDeprecatedSynchronousErrorHandling){const z=!v;if(z&&(v={errorThrown:!1,error:null}),fe(),z){const{errorThrown:ke,error:rt}=v;if(v=null,ke)throw rt}}else fe()}function me(fe){M.config.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=fe)}},9672:(bt,Ce,B)=>{"use strict";function M(v,oe,me,fe=0,z=!1){const ke=oe.schedule(function(){me(),z?v.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(v.add(ke),!z)return ke}B.d(Ce,{f:()=>M})},4671:(bt,Ce,B)=>{"use strict";function M(v){return v}B.d(Ce,{y:()=>M})},1144:(bt,Ce,B)=>{"use strict";B.d(Ce,{z:()=>M});const M=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(bt,Ce,B)=>{"use strict";B.d(Ce,{D:()=>v});var M=B(576);function v(oe){return Symbol.asyncIterator&&(0,M.m)(oe?.[Symbol.asyncIterator])}},576:(bt,Ce,B)=>{"use strict";function M(v){return"function"==typeof v}B.d(Ce,{m:()=>M})},3670:(bt,Ce,B)=>{"use strict";B.d(Ce,{c:()=>oe});var M=B(8822),v=B(576);function oe(me){return(0,v.m)(me[M.L])}},6495:(bt,Ce,B)=>{"use strict";B.d(Ce,{T:()=>oe});var M=B(2202),v=B(576);function oe(me){return(0,v.m)(me?.[M.h])}},8239:(bt,Ce,B)=>{"use strict";B.d(Ce,{t:()=>v});var M=B(576);function v(oe){return(0,M.m)(oe?.then)}},3260:(bt,Ce,B)=>{"use strict";B.d(Ce,{L:()=>me,Q:()=>oe});var M=B(655),v=B(576);function oe(fe){return(0,M.FC)(this,arguments,function*(){const ke=fe.getReader();try{for(;;){const{value:rt,done:Le}=yield(0,M.qq)(ke.read());if(Le)return yield(0,M.qq)(void 0);yield yield(0,M.qq)(rt)}}finally{ke.releaseLock()}})}function me(fe){return(0,v.m)(fe?.getReader)}},4482:(bt,Ce,B)=>{"use strict";B.d(Ce,{A:()=>v,e:()=>oe});var M=B(576);function v(me){return(0,M.m)(me?.lift)}function oe(me){return fe=>{if(v(fe))return fe.lift(function(z){try{return me(z,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(bt,Ce,B)=>{"use strict";B.d(Ce,{Z:()=>me});var M=B(4004);const{isArray:v}=Array;function me(fe){return(0,M.U)(z=>function oe(fe,z){return v(z)?fe(...z):fe(z)}(fe,z))}},5032:(bt,Ce,B)=>{"use strict";function M(){}B.d(Ce,{Z:()=>M})},9635:(bt,Ce,B)=>{"use strict";B.d(Ce,{U:()=>oe,z:()=>v});var M=B(4671);function v(...me){return oe(me)}function oe(me){return 0===me.length?M.y:1===me.length?me[0]:function(z){return me.reduce((ke,rt)=>rt(ke),z)}}},7849:(bt,Ce,B)=>{"use strict";B.d(Ce,{h:()=>oe});var M=B(2416),v=B(3410);function oe(me){v.z.setTimeout(()=>{const{onUnhandledError:fe}=M.config;if(!fe)throw me;fe(me)})}},4532:(bt,Ce,B)=>{"use strict";function M(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Ce,{z:()=>M})},5226:function(bt){bt.exports=function(){"use strict";const B={},v=b=>new Promise(I=>{if(!b)return I();const k=window.scrollX,U=window.scrollY;B.restoreFocusTimeout=setTimeout(()=>{B.previousActiveElement instanceof HTMLElement?(B.previousActiveElement.focus(),B.previousActiveElement=null):document.body&&document.body.focus(),I()},100),window.scrollTo(k,U)});var oe={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const z=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((b,I)=>(b[I]="swal2-"+I,b),{}),rt=["success","warning","info","question","error"].reduce((b,I)=>(b[I]="swal2-"+I,b),{}),Le="SweetAlert2:",Me=b=>b.charAt(0).toUpperCase()+b.slice(1),pe=b=>{console.warn(`${Le} ${"object"==typeof b?b.join(" "):b}`)},De=b=>{console.error(`${Le} ${b}`)},st=[],it=(b,I)=>{(b=>{st.includes(b)||(st.push(b),pe(b))})(`"${b}" is deprecated and will be removed in the next major release. Please use "${I}" instead.`)},xt=b=>"function"==typeof b?b():b,Ft=b=>b&&"function"==typeof b.toPromise,zt=b=>Ft(b)?b.toPromise():Promise.resolve(b),hn=b=>b&&Promise.resolve(b)===b,$t=()=>document.body.querySelector(`.${z.container}`),Se=b=>{const I=$t();return I?I.querySelector(b):null},Ie=b=>Se(`.${b}`),se=()=>Ie(z.popup),Be=()=>Ie(z.icon),Pe=()=>Ie(z.title),xe=()=>Ie(z["html-container"]),Xe=()=>Ie(z.image),Hn=()=>Ie(z["progress-steps"]),si=()=>Ie(z["validation-message"]),Bn=()=>Se(`.${z.actions} .${z.confirm}`),je=()=>Se(`.${z.actions} .${z.cancel}`),ae=()=>Se(`.${z.actions} .${z.deny}`),ie=()=>Se(`.${z.loader}`),we=()=>Ie(z.actions),Ve=()=>Ie(z.footer),Ae=()=>Ie(z["timer-progress-bar"]),et=()=>Ie(z.close),Dn=()=>{const b=se().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),I=Array.from(b).sort((te,Ne)=>{const vt=parseInt(te.getAttribute("tabindex")),en=parseInt(Ne.getAttribute("tabindex"));return vt>en?1:vt<en?-1:0}),k=se().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),U=Array.from(k).filter(te=>"-1"!==te.getAttribute("tabindex"));return[...new Set(I.concat(U))].filter(te=>Ge(te))},Ct=()=>on(document.body,z.shown)&&!on(document.body,z["toast-shown"])&&!on(document.body,z["no-backdrop"]),Yt=()=>se()&&on(se(),z.toast),_t=(b,I)=>{if(b.textContent="",I){const U=(new DOMParser).parseFromString(I,"text/html");Array.from(U.querySelector("head").childNodes).forEach(te=>{b.appendChild(te)}),Array.from(U.querySelector("body").childNodes).forEach(te=>{te instanceof HTMLVideoElement||te instanceof HTMLAudioElement?b.appendChild(te.cloneNode(!0)):b.appendChild(te)})}},on=(b,I)=>{if(!I)return!1;const k=I.split(/\s+/);for(let U=0;U<k.length;U++)if(!b.classList.contains(k[U]))return!1;return!0},Cn=(b,I,k)=>{if(((b,I)=>{Array.from(b.classList).forEach(k=>{!Object.values(z).includes(k)&&!Object.values(rt).includes(k)&&!Object.values(I.showClass).includes(k)&&b.classList.remove(k)})})(b,I),I.customClass&&I.customClass[k]){if("string"!=typeof I.customClass[k]&&!I.customClass[k].forEach)return void pe(`Invalid type of customClass.${k}! Expected string or iterable object, got "${typeof I.customClass[k]}"`);Nt(b,I.customClass[k])}},qn=(b,I)=>{if(!I)return null;switch(I){case"select":case"textarea":case"file":return b.querySelector(`.${z.popup} > .${z[I]}`);case"checkbox":return b.querySelector(`.${z.popup} > .${z.checkbox} input`);case"radio":return b.querySelector(`.${z.popup} > .${z.radio} input:checked`)||b.querySelector(`.${z.popup} > .${z.radio} input:first-child`);case"range":return b.querySelector(`.${z.popup} > .${z.range} input`);default:return b.querySelector(`.${z.popup} > .${z.input}`)}},mi=b=>{if(b.focus(),"file"!==b.type){const I=b.value;b.value="",b.value=I}},Wn=(b,I,k)=>{!b||!I||("string"==typeof I&&(I=I.split(/\s+/).filter(Boolean)),I.forEach(U=>{Array.isArray(b)?b.forEach(te=>{k?te.classList.add(U):te.classList.remove(U)}):k?b.classList.add(U):b.classList.remove(U)}))},Nt=(b,I)=>{Wn(b,I,!0)},En=(b,I)=>{Wn(b,I,!1)},$e=(b,I)=>{const k=Array.from(b.children);for(let U=0;U<k.length;U++){const te=k[U];if(te instanceof HTMLElement&&on(te,I))return te}},Hr=(b,I,k)=>{k===`${parseInt(k)}`&&(k=parseInt(k)),k||0===parseInt(k)?b.style[I]="number"==typeof k?`${k}px`:k:b.style.removeProperty(I)},Qt=function(b){b&&(b.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Gt=b=>{b&&(b.style.display="none")},nn=(b,I,k,U)=>{const te=b.querySelector(I);te&&(te.style[k]=U)},Tn=function(b,I){I?Qt(b,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Gt(b)},Ge=b=>!(!b||!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)),Qi=b=>b.scrollHeight>b.clientHeight,or=b=>{const I=window.getComputedStyle(b),k=parseFloat(I.getPropertyValue("animation-duration")||"0"),U=parseFloat(I.getPropertyValue("transition-duration")||"0");return k>0||U>0},hr=function(b){let I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const k=Ae();Ge(k)&&(I&&(k.style.transition="none",k.style.width="100%"),setTimeout(()=>{k.style.transition=`width ${b/1e3}s linear`,k.style.width="0%"},10))},On=()=>typeof window>"u"||typeof document>"u",Oo=`\n <div aria-labelledby="${z.title}" aria-describedby="${z["html-container"]}" class="${z.popup}" tabindex="-1">\n   <button type="button" class="${z.close}"></button>\n   <ul class="${z["progress-steps"]}"></ul>\n   <div class="${z.icon}"></div>\n   <img class="${z.image}" />\n   <h2 class="${z.title}" id="${z.title}"></h2>\n   <div class="${z["html-container"]}" id="${z["html-container"]}"></div>\n   <input class="${z.input}" />\n   <input type="file" class="${z.file}" />\n   <div class="${z.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${z.select}"></select>\n   <div class="${z.radio}"></div>\n   <label for="${z.checkbox}" class="${z.checkbox}">\n     <input type="checkbox" />\n     <span class="${z.label}"></span>\n   </label>\n   <textarea class="${z.textarea}"></textarea>\n   <div class="${z["validation-message"]}" id="${z["validation-message"]}"></div>\n   <div class="${z.actions}">\n     <div class="${z.loader}"></div>\n     <button type="button" class="${z.confirm}"></button>\n     <button type="button" class="${z.deny}"></button>\n     <button type="button" class="${z.cancel}"></button>\n   </div>\n   <div class="${z.footer}"></div>\n   <div class="${z["timer-progress-bar-container"]}">\n     <div class="${z["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),ys=()=>{B.currentInstance.resetValidationMessage()},qt=b=>{const I=(()=>{const b=$t();return!!b&&(b.remove(),En([document.documentElement,document.body],[z["no-backdrop"],z["toast-shown"],z["has-column"]]),!0)})();if(On())return void De("SweetAlert2 requires document to initialize");const k=document.createElement("div");k.className=z.container,I&&Nt(k,z["no-transition"]),_t(k,Oo);const U=(b=>"string"==typeof b?document.querySelector(b):b)(b.target);U.appendChild(k),(b=>{const I=se();I.setAttribute("role",b.toast?"alert":"dialog"),I.setAttribute("aria-live",b.toast?"polite":"assertive"),b.toast||I.setAttribute("aria-modal","true")})(b),(b=>{"rtl"===window.getComputedStyle(b).direction&&Nt($t(),z.rtl)})(U),(()=>{const b=se(),I=$e(b,z.input),k=$e(b,z.file),U=b.querySelector(`.${z.range} input`),te=b.querySelector(`.${z.range} output`),Ne=$e(b,z.select),vt=b.querySelector(`.${z.checkbox} input`),en=$e(b,z.textarea);I.oninput=ys,k.onchange=ys,Ne.onchange=ys,vt.onchange=ys,en.oninput=ys,U.oninput=()=>{ys(),te.value=U.value},U.onchange=()=>{ys(),te.value=U.value}})()},Vi=(b,I)=>{b instanceof HTMLElement?I.appendChild(b):"object"==typeof b?mn(b,I):b&&_t(I,b)},mn=(b,I)=>{b.jquery?Ji(I,b):_t(I,b.toString())},Ji=(b,I)=>{if(b.textContent="",0 in I)for(let k=0;k in I;k++)b.appendChild(I[k].cloneNode(!0));else b.appendChild(I.cloneNode(!0))},_s=(()=>{if(On())return!1;const b=document.createElement("div"),I={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const k in I)if(Object.prototype.hasOwnProperty.call(I,k)&&typeof b.style[k]<"u")return I[k];return!1})(),Os=(b,I)=>{const k=we(),U=ie();I.showConfirmButton||I.showDenyButton||I.showCancelButton?Qt(k):Gt(k),Cn(k,I,"actions"),function zr(b,I,k){const U=Bn(),te=ae(),Ne=je();fr(U,"confirm",k),fr(te,"deny",k),fr(Ne,"cancel",k),function Zi(b,I,k,U){U.buttonsStyling?(Nt([b,I,k],z.styled),U.confirmButtonColor&&(b.style.backgroundColor=U.confirmButtonColor,Nt(b,z["default-outline"])),U.denyButtonColor&&(I.style.backgroundColor=U.denyButtonColor,Nt(I,z["default-outline"])),U.cancelButtonColor&&(k.style.backgroundColor=U.cancelButtonColor,Nt(k,z["default-outline"]))):En([b,I,k],z.styled)}(U,te,Ne,k),k.reverseButtons&&(k.toast?(b.insertBefore(Ne,U),b.insertBefore(te,U)):(b.insertBefore(Ne,I),b.insertBefore(te,I),b.insertBefore(U,I)))}(k,U,I),_t(U,I.loaderHtml),Cn(U,I,"loader")};function fr(b,I,k){Tn(b,k[`show${Me(I)}Button`],"inline-block"),_t(b,k[`${I}ButtonText`]),b.setAttribute("aria-label",k[`${I}ButtonAriaLabel`]),b.className=z[I],Cn(b,k,`${I}Button`),Nt(b,k[`${I}ButtonClass`])}const ce=(b,I)=>{const k=$t();k&&(function J(b,I){"string"==typeof I?b.style.background=I:I||Nt([document.documentElement,document.body],z["no-backdrop"])}(k,I.backdrop),function H(b,I){I in z?Nt(b,z[I]):(pe('The "position" parameter is not valid, defaulting to "center"'),Nt(b,z.center))}(k,I.position),function Q(b,I){if(I&&"string"==typeof I){const k=`grow-${I}`;k in z&&Nt(b,z[k])}}(k,I.grow),Cn(k,I,"container"))};const ye=["input","file","range","select","radio","checkbox","textarea"],ft=b=>{if(!zn[b.input])return void De(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${b.input}"`);const I=vs(b.input),k=zn[b.input](I,b);Qt(I),b.inputAutoFocus&&setTimeout(()=>{mi(k)})},Xt=(b,I)=>{const k=qn(se(),b);if(k){(b=>{for(let I=0;I<b.attributes.length;I++){const k=b.attributes[I].name;["type","value","style"].includes(k)||b.removeAttribute(k)}})(k);for(const U in I)k.setAttribute(U,I[U])}},Rt=b=>{const I=vs(b.input);"object"==typeof b.customClass&&Nt(I,b.customClass.input)},ar=(b,I)=>{(!b.placeholder||I.inputPlaceholder)&&(b.placeholder=I.inputPlaceholder)},pr=(b,I,k)=>{if(k.inputLabel){b.id=z.input;const U=document.createElement("label"),te=z["input-label"];U.setAttribute("for",b.id),U.className=te,"object"==typeof k.customClass&&Nt(U,k.customClass.inputLabel),U.innerText=k.inputLabel,I.insertAdjacentElement("beforebegin",U)}},vs=b=>$e(se(),z[b]||z.input),_i=(b,I)=>{["string","number"].includes(typeof I)?b.value=`${I}`:hn(I)||pe(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof I}"`)},zn={};zn.text=zn.email=zn.password=zn.number=zn.tel=zn.url=(b,I)=>(_i(b,I.inputValue),pr(b,b,I),ar(b,I),b.type=I.input,b),zn.file=(b,I)=>(pr(b,b,I),ar(b,I),b),zn.range=(b,I)=>{const k=b.querySelector("input"),U=b.querySelector("output");return _i(k,I.inputValue),k.type=I.input,_i(U,I.inputValue),pr(k,b,I),b},zn.select=(b,I)=>{if(b.textContent="",I.inputPlaceholder){const k=document.createElement("option");_t(k,I.inputPlaceholder),k.value="",k.disabled=!0,k.selected=!0,b.appendChild(k)}return pr(b,b,I),b},zn.radio=b=>(b.textContent="",b),zn.checkbox=(b,I)=>{const k=qn(se(),"checkbox");k.value="1",k.id=z.checkbox,k.checked=!!I.inputValue;const U=b.querySelector("span");return _t(U,I.inputPlaceholder),k},zn.textarea=(b,I)=>{_i(b,I.inputValue),ar(b,I),pr(b,b,I);return setTimeout(()=>{if("MutationObserver"in window){const U=parseInt(window.getComputedStyle(se()).width);new MutationObserver(()=>{const Ne=b.offsetWidth+(U=>parseInt(window.getComputedStyle(U).marginLeft)+parseInt(window.getComputedStyle(U).marginRight))(b);se().style.width=Ne>U?`${Ne}px`:null}).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};const Lo=(b,I)=>{const k=xe();Cn(k,I,"htmlContainer"),I.html?(Vi(I.html,k),Qt(k,"block")):I.text?(k.textContent=I.text,Qt(k,"block")):Gt(k),((b,I)=>{const k=se(),U=oe.innerParams.get(b),te=!U||I.input!==U.input;ye.forEach(Ne=>{const vt=$e(k,z[Ne]);Xt(Ne,I.inputAttributes),vt.className=z[Ne],te&&Gt(vt)}),I.input&&(te&&ft(I),Rt(I))})(b,I)},mr=(b,I)=>{for(const k in rt)I.icon!==k&&En(b,rt[k]);Nt(b,rt[I.icon]),Vo(b,I),vi(),Cn(b,I,"icon")},vi=()=>{const b=se(),I=window.getComputedStyle(b).getPropertyValue("background-color"),k=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let U=0;U<k.length;U++)k[U].style.backgroundColor=I},ro=(b,I)=>{let U,k=b.innerHTML;I.iconHtml?U=Bo(I.iconHtml):"success"===I.icon?(U='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',k=k.replace(/ style=".*?"/g,"")):U="error"===I.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Bo({question:"?",warning:"!",info:"i"}[I.icon]),k.trim()!==U.trim()&&_t(b,U)},Vo=(b,I)=>{if(I.iconColor){b.style.color=I.iconColor,b.style.borderColor=I.iconColor;for(const k of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])nn(b,k,"backgroundColor",I.iconColor);nn(b,".swal2-success-ring","borderColor",I.iconColor)}},Bo=b=>`<div class="${z["icon-content"]}">${b}</div>`,io=(b,I)=>{const k=I.showClass||{};b.className=`${z.popup} ${Ge(b)?k.popup:""}`,I.toast?(Nt([document.documentElement,document.body],z["toast-shown"]),Nt(b,z.toast)):Nt(b,z.modal),Cn(b,I,"popup"),"string"==typeof I.customClass&&Nt(b,I.customClass),I.icon&&Nt(b,z[`icon-${I.icon}`])},Uo=b=>{const I=document.createElement("li");return Nt(I,z["progress-step"]),_t(I,b),I},so=b=>{const I=document.createElement("li");return Nt(I,z["progress-step-line"]),b.progressStepsDistance&&Hr(I,"width",b.progressStepsDistance),I},Fs=(b,I)=>{((b,I)=>{const k=$t(),U=se();if(k&&U){if(I.toast){Hr(k,"width",I.width),U.style.width="100%";const te=ie();te&&U.insertBefore(te,Be())}else Hr(U,"width",I.width);Hr(U,"padding",I.padding),I.color&&(U.style.color=I.color),I.background&&(U.style.background=I.background),Gt(si()),io(U,I)}})(0,I),ce(0,I),((b,I)=>{const k=Hn();if(!k)return;const{progressSteps:U,currentProgressStep:te}=I;U&&0!==U.length&&void 0!==te?(Qt(k),k.textContent="",te>=U.length&&pe("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),U.forEach((Ne,vt)=>{const en=Uo(Ne);if(k.appendChild(en),vt===te&&Nt(en,z["active-progress-step"]),vt!==U.length-1){const cn=so(I);k.appendChild(cn)}})):Gt(k)})(0,I),((b,I)=>{const k=oe.innerParams.get(b),U=Be();k&&I.icon===k.icon?(ro(U,I),mr(U,I)):I.icon||I.iconHtml?I.icon&&-1===Object.keys(rt).indexOf(I.icon)?(De(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${I.icon}"`),Gt(U)):(Qt(U),ro(U,I),mr(U,I),Nt(U,I.showClass.icon)):Gt(U)})(b,I),((b,I)=>{const k=Xe();if(k){if(!I.imageUrl)return void Gt(k);Qt(k,""),k.setAttribute("src",I.imageUrl),k.setAttribute("alt",I.imageAlt||""),Hr(k,"width",I.imageWidth),Hr(k,"height",I.imageHeight),k.className=z.image,Cn(k,I,"image")}})(0,I),((b,I)=>{const k=Pe();k&&(Tn(k,I.title||I.titleText,"block"),I.title&&Vi(I.title,k),I.titleText&&(k.innerText=I.titleText),Cn(k,I,"title"))})(0,I),((b,I)=>{const k=et();_t(k,I.closeButtonHtml),Cn(k,I,"closeButton"),Tn(k,I.showCloseButton),k.setAttribute("aria-label",I.closeButtonAriaLabel)})(0,I),Lo(b,I),Os(0,I),((b,I)=>{const k=Ve();k&&(Tn(k,I.footer),I.footer&&Vi(I.footer,k),Cn(k,I,"footer"))})(0,I),"function"==typeof I.didRender&&I.didRender(se())},Ja=()=>Bn()&&Bn().click(),ws=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ao=b=>{b.keydownTarget&&b.keydownHandlerAdded&&(b.keydownTarget.removeEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!1)},ts=(b,I)=>{const k=Dn();if(k.length)return(b+=I)===k.length?b=0:-1===b&&(b=k.length-1),void k[b].focus();se().focus()},Ls=["ArrowRight","ArrowDown"],uo=["ArrowLeft","ArrowUp"],Wr=(b,I,k)=>{const U=oe.innerParams.get(b);U&&(I.isComposing||229===I.keyCode||(U.stopKeydownPropagation&&I.stopPropagation(),"Enter"===I.key?Es(b,I,U):"Tab"===I.key?lo(I):[...Ls,...uo].includes(I.key)?Ho(I.key):"Escape"===I.key&&co(I,U,k)))},Es=(b,I,k)=>{if(xt(k.allowEnterKey)&&I.target&&b.getInput()&&I.target instanceof HTMLElement&&I.target.outerHTML===b.getInput().outerHTML){if(["textarea","file"].includes(k.input))return;Ja(),I.preventDefault()}},lo=b=>{const I=b.target,k=Dn();let U=-1;for(let te=0;te<k.length;te++)if(I===k[te]){U=te;break}ts(U,b.shiftKey?-1:1),b.stopPropagation(),b.preventDefault()},Ho=b=>{const I=Bn(),k=ae(),U=je();if(document.activeElement instanceof HTMLElement&&![I,k,U].includes(document.activeElement))return;const Ne=Ls.includes(b)?"nextElementSibling":"previousElementSibling";let vt=document.activeElement;for(let en=0;en<we().children.length;en++){if(vt=vt[Ne],!vt)return;if(vt instanceof HTMLButtonElement&&Ge(vt))break}vt instanceof HTMLButtonElement&&vt.focus()},co=(b,I,k)=>{xt(I.allowEscapeKey)&&(b.preventDefault(),k(ws.esc))};var ur={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Za=()=>{Array.from(document.body.children).forEach(I=>{I.hasAttribute("data-previous-aria-hidden")?(I.setAttribute("aria-hidden",I.getAttribute("data-previous-aria-hidden")),I.removeAttribute("data-previous-aria-hidden")):I.removeAttribute("aria-hidden")})},qu=()=>{const b=navigator.userAgent,I=!!b.match(/iPad/i)||!!b.match(/iPhone/i),k=!!b.match(/WebKit/i);I&&k&&!b.match(/CriOS/i)&&se().scrollHeight>window.innerHeight-44&&($t().style.paddingBottom="44px")},eu=()=>{const b=$t();let I;b.ontouchstart=k=>{I=ga(k)},b.ontouchmove=k=>{I&&(k.preventDefault(),k.stopPropagation())}},ga=b=>{const I=b.target,k=$t();return!tu(b)&&!ma(b)&&(I===k||!Qi(k)&&I instanceof HTMLElement&&"INPUT"!==I.tagName&&"TEXTAREA"!==I.tagName&&!(Qi(xe())&&xe().contains(I)))},tu=b=>b.touches&&b.touches.length&&"stylus"===b.touches[0].touchType,ma=b=>b.touches&&b.touches.length>1;let Vt=null;const Kn=()=>{null===Vt&&document.body.scrollHeight>window.innerHeight&&(Vt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Vt+(()=>{const b=document.createElement("div");b.className=z["scrollbar-measure"],document.body.appendChild(b);const I=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),I})()}px`)};function ns(b,I,k,U){Yt()?wt(b,U):(v(k).then(()=>wt(b,U)),ao(B)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(I.setAttribute("style","display:none !important"),I.removeAttribute("class"),I.innerHTML=""):I.remove(),Ct()&&(null!==Vt&&(document.body.style.paddingRight=`${Vt}px`,Vt=null),(()=>{if(on(document.body,z.iosfix)){const b=parseInt(document.body.style.top,10);En(document.body,z.iosfix),document.body.style.top="",document.body.scrollTop=-1*b}})(),Za()),function Yn(){En([document.documentElement,document.body],[z.shown,z["height-auto"],z["no-backdrop"],z["toast-shown"]])}()}function oi(b){b=bs(b);const I=ur.swalPromiseResolve.get(this),k=Go(this);this.isAwaitingPromise?b.isDismissed||(_r(this),I(b)):k&&I(b)}const Go=b=>{const I=se();if(!I)return!1;const k=oe.innerParams.get(b);if(!k||on(I,k.hideClass.popup))return!1;En(I,k.showClass.popup),Nt(I,k.hideClass.popup);const U=$t();return En(U,k.showClass.backdrop),Nt(U,k.hideClass.backdrop),Mn(b,I,k),!0};function rs(b){const I=ur.swalPromiseReject.get(this);_r(this),I&&I(b)}const _r=b=>{b.isAwaitingPromise&&(delete b.isAwaitingPromise,oe.innerParams.get(b)||b._destroy())},bs=b=>typeof b>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},b),Mn=(b,I,k)=>{const U=$t(),te=_s&&or(I);"function"==typeof k.willClose&&k.willClose(I),te?Ke(b,I,U,k.returnFocus,k.didClose):ns(b,U,k.returnFocus,k.didClose)},Ke=(b,I,k,U,te)=>{B.swalCloseEventFinishedCallback=ns.bind(null,b,k,U,te),I.addEventListener(_s,function(Ne){Ne.target===I&&(B.swalCloseEventFinishedCallback(),delete B.swalCloseEventFinishedCallback)})},wt=(b,I)=>{setTimeout(()=>{"function"==typeof I&&I.bind(b.params)(),b._destroy&&b._destroy()})},Ht=b=>{let I=se();I||new nt,I=se();const k=ie();Yt()?Gt(Be()):lr(I,b),Qt(k),I.setAttribute("data-loading","true"),I.setAttribute("aria-busy","true"),I.focus()},lr=(b,I)=>{const k=we(),U=ie();!I&&Ge(Bn())&&(I=Bn()),Qt(k),I&&(Gt(I),U.setAttribute("data-button-to-replace",I.className)),U.parentNode.insertBefore(U,I),Nt([b,k],z.loading)},is=b=>b.checked?1:0,yn=b=>b.checked?b.value:null,wi=b=>b.files.length?null!==b.getAttribute("multiple")?b.files:b.files[0]:null,Bi=(b,I)=>{const k=se(),U=te=>{Bs[I.input](k,Us(te),I)};Ft(I.inputOptions)||hn(I.inputOptions)?(Ht(Bn()),zt(I.inputOptions).then(te=>{b.hideLoading(),U(te)})):"object"==typeof I.inputOptions?U(I.inputOptions):De("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof I.inputOptions)},It=(b,I)=>{const k=b.getInput();Gt(k),zt(I.inputValue).then(U=>{k.value="number"===I.input?`${parseFloat(U)||0}`:`${U}`,Qt(k),k.focus(),b.hideLoading()}).catch(U=>{De(`Error in inputValue promise: ${U}`),k.value="",Qt(k),k.focus(),b.hideLoading()})},Bs={select:(b,I,k)=>{const U=$e(b,z.select),te=(Ne,vt,en)=>{const cn=document.createElement("option");cn.value=en,_t(cn,vt),cn.selected=Ui(en,k.inputValue),Ne.appendChild(cn)};I.forEach(Ne=>{const vt=Ne[0],en=Ne[1];if(Array.isArray(en)){const cn=document.createElement("optgroup");cn.label=vt,cn.disabled=!1,U.appendChild(cn),en.forEach(rn=>te(cn,rn[1],rn[0]))}else te(U,en,vt)}),U.focus()},radio:(b,I,k)=>{const U=$e(b,z.radio);I.forEach(Ne=>{const vt=Ne[0],en=Ne[1],cn=document.createElement("input"),rn=document.createElement("label");cn.type="radio",cn.name=z.radio,cn.value=vt,Ui(vt,k.inputValue)&&(cn.checked=!0);const vr=document.createElement("span");_t(vr,en),vr.className=z.label,rn.appendChild(cn),rn.appendChild(vr),U.appendChild(rn)});const te=U.querySelectorAll("input");te.length&&te[0].focus()}},Us=b=>{const I=[];return typeof Map<"u"&&b instanceof Map?b.forEach((k,U)=>{let te=k;"object"==typeof te&&(te=Us(te)),I.push([U,te])}):Object.keys(b).forEach(k=>{let U=b[k];"object"==typeof U&&(U=Us(U)),I.push([k,U])}),I},Ui=(b,I)=>I&&I.toString()===b.toString(),bi=(b,I)=>{const k=oe.innerParams.get(b);if(!k.input)return void De(`The "input" parameter is needed to be set when using returnInputValueOn${Me(I)}`);const U=((b,I)=>{const k=b.getInput();if(!k)return null;switch(I.input){case"checkbox":return is(k);case"radio":return yn(k);case"file":return wi(k);default:return I.inputAutoTrim?k.value.trim():k.value}})(b,k);k.inputValidator?ss(b,U,I):b.getInput().checkValidity()?"deny"===I?$s(b,U):Yr(b,U):(b.enableButtons(),b.showValidationMessage(k.validationMessage))},ss=(b,I,k)=>{const U=oe.innerParams.get(b);b.disableInput(),Promise.resolve().then(()=>zt(U.inputValidator(I,U.validationMessage))).then(Ne=>{b.enableButtons(),b.enableInput(),Ne?b.showValidationMessage(Ne):"deny"===k?$s(b,I):Yr(b,I)})},$s=(b,I)=>{const k=oe.innerParams.get(b||void 0);k.showLoaderOnDeny&&Ht(ae()),k.preDeny?(b.isAwaitingPromise=!0,Promise.resolve().then(()=>zt(k.preDeny(I,k.validationMessage))).then(te=>{!1===te?(b.hideLoading(),_r(b)):b.close({isDenied:!0,value:typeof te>"u"?I:te})}).catch(te=>Kr(b||void 0,te))):b.close({isDenied:!0,value:I})},Ii=(b,I)=>{b.close({isConfirmed:!0,value:I})},Kr=(b,I)=>{b.rejectPromise(I)},Yr=(b,I)=>{const k=oe.innerParams.get(b||void 0);k.showLoaderOnConfirm&&Ht(),k.preConfirm?(b.resetValidationMessage(),b.isAwaitingPromise=!0,Promise.resolve().then(()=>zt(k.preConfirm(I,k.validationMessage))).then(te=>{Ge(si())||!1===te?(b.hideLoading(),_r(b)):Ii(b,typeof te>"u"?I:te)}).catch(te=>Kr(b||void 0,te))):Ii(b,I)};function Ci(){const b=oe.innerParams.get(this);if(!b)return;const I=oe.domCache.get(this);Gt(I.loader),Yt()?b.icon&&Qt(Be()):Bt(I),En([I.popup,I.actions],z.loading),I.popup.removeAttribute("aria-busy"),I.popup.removeAttribute("data-loading"),I.confirmButton.disabled=!1,I.denyButton.disabled=!1,I.cancelButton.disabled=!1}const Bt=b=>{const I=b.popup.getElementsByClassName(b.loader.getAttribute("data-button-to-replace"));I.length?Qt(I[0],"inline-block"):!Ge(Bn())&&!Ge(ae())&&!Ge(je())&&Gt(b.actions)};function Wu(){const b=oe.innerParams.get(this),I=oe.domCache.get(this);return I?qn(I.popup,b.input):null}function qo(b,I,k){const U=oe.domCache.get(b);I.forEach(te=>{U[te].disabled=k})}function ru(b,I){if(b)if("radio"===b.type){const U=b.parentNode.parentNode.querySelectorAll("input");for(let te=0;te<U.length;te++)U[te].disabled=I}else b.disabled=I}function Pr(){qo(this,["confirmButton","denyButton","cancelButton"],!1)}function js(){qo(this,["confirmButton","denyButton","cancelButton"],!0)}function ai(){ru(this.getInput(),!1)}function fo(){ru(this.getInput(),!0)}function Un(b){const I=oe.domCache.get(this),k=oe.innerParams.get(this);_t(I.validationMessage,b),I.validationMessage.className=z["validation-message"],k.customClass&&k.customClass.validationMessage&&Nt(I.validationMessage,k.customClass.validationMessage),Qt(I.validationMessage);const U=this.getInput();U&&(U.setAttribute("aria-invalid",!0),U.setAttribute("aria-describedby",z["validation-message"]),mi(U),Nt(U,z.inputerror))}function Xl(){const b=oe.domCache.get(this);b.validationMessage&&Gt(b.validationMessage);const I=this.getInput();I&&(I.removeAttribute("aria-invalid"),I.removeAttribute("aria-describedby"),En(I,z.inputerror))}const xn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},bn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Wo={},ui=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ko=b=>Object.prototype.hasOwnProperty.call(xn,b),li=b=>-1!==bn.indexOf(b),ya=b=>Wo[b],Ku=b=>{Ko(b)||pe(`Unknown parameter "${b}"`)},Yo=b=>{ui.includes(b)&&pe(`The parameter "${b}" is incompatible with toasts`)},Jl=b=>{const I=ya(b);I&&it(b,I)};function po(b){const I=se(),k=oe.innerParams.get(this);if(!I||on(I,k.hideClass.popup))return void pe("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const U=_a(b),te=Object.assign({},k,U);Fs(this,te),oe.innerParams.set(this,te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,b),writable:!1,enumerable:!0}})}const _a=b=>{const I={};return Object.keys(b).forEach(k=>{li(k)?I[k]=b[k]:pe(`Invalid parameter to update: ${k}`)}),I};function ec(){const b=oe.domCache.get(this),I=oe.innerParams.get(this);I?(b.popup&&B.swalCloseEventFinishedCallback&&(B.swalCloseEventFinishedCallback(),delete B.swalCloseEventFinishedCallback),"function"==typeof I.didDestroy&&I.didDestroy(),Bf(this)):Qo(this)}const Bf=b=>{Qo(b),delete b.params,delete B.keydownHandler,delete B.keydownTarget,delete B.currentInstance},Qo=b=>{b.isAwaitingPromise?(_n(oe,b),b.isAwaitingPromise=!0):(_n(ur,b),_n(oe,b),delete b.isAwaitingPromise,delete b.disableButtons,delete b.enableButtons,delete b.getInput,delete b.disableInput,delete b.enableInput,delete b.hideLoading,delete b.disableLoading,delete b.showValidationMessage,delete b.resetValidationMessage,delete b.close,delete b.closePopup,delete b.closeModal,delete b.closeToast,delete b.rejectPromise,delete b.update,delete b._destroy)},_n=(b,I)=>{for(const k in b)b[k].delete(I)};var Cd=Object.freeze({__proto__:null,_destroy:ec,close:oi,closeModal:oi,closePopup:oi,closeToast:oi,disableButtons:js,disableInput:fo,disableLoading:Ci,enableButtons:Pr,enableInput:ai,getInput:Wu,handleAwaitingPromise:_r,hideLoading:Ci,rejectPromise:rs,resetValidationMessage:Xl,showValidationMessage:Un,update:po});const tc=(b,I,k)=>{I.popup.onclick=()=>{const U=oe.innerParams.get(b);U&&(Td(U)||U.timer||U.input)||k(ws.close)}},Td=b=>b.showConfirmButton||b.showDenyButton||b.showCancelButton||b.showCloseButton;let Di=!1;const Sd=b=>{b.popup.onmousedown=()=>{b.container.onmouseup=function(I){b.container.onmouseup=void 0,I.target===b.container&&(Di=!0)}}},iu=b=>{b.container.onmousedown=()=>{b.popup.onmouseup=function(I){b.popup.onmouseup=void 0,(I.target===b.popup||b.popup.contains(I.target))&&(Di=!0)}}},nc=(b,I,k)=>{I.container.onclick=U=>{const te=oe.innerParams.get(b);Di?Di=!1:U.target===I.container&&xt(te.allowOutsideClick)&&k(ws.backdrop)}},Is=b=>b instanceof Element||(b=>"object"==typeof b&&b.jquery)(b);const Cs=()=>{if(B.timeout)return(()=>{const b=Ae(),I=parseInt(window.getComputedStyle(b).width);b.style.removeProperty("transition"),b.style.width="100%";const k=parseInt(window.getComputedStyle(b).width);b.style.width=I/k*100+"%"})(),B.timeout.stop()},Xu=()=>{if(B.timeout){const b=B.timeout.start();return hr(b),b}};let Xo=!1;const Jo={};const Ds=b=>{for(let I=b.target;I&&I!==document;I=I.parentNode)for(const k in Jo){const U=I.getAttribute(k);if(U)return void Jo[k].fire({template:U})}};var $n=Object.freeze({__proto__:null,argsToParams:b=>{const I={};return"object"!=typeof b[0]||Is(b[0])?["title","html","icon"].forEach((k,U)=>{const te=b[U];"string"==typeof te||Is(te)?I[k]=te:void 0!==te&&De(`Unexpected type of ${k}! Expected "string" or "Element", got ${typeof te}`)}):Object.assign(I,b[0]),I},bindClickHandler:function Qr(){Jo[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Xo||(document.body.addEventListener("click",Ds),Xo=!0)},clickCancel:()=>je()&&je().click(),clickConfirm:Ja,clickDeny:()=>ae()&&ae().click(),enableLoading:Ht,fire:function zs(){for(var I=arguments.length,k=new Array(I),U=0;U<I;U++)k[U]=arguments[U];return new this(...k)},getActions:we,getCancelButton:je,getCloseButton:et,getConfirmButton:Bn,getContainer:$t,getDenyButton:ae,getFocusableElements:Dn,getFooter:Ve,getHtmlContainer:xe,getIcon:Be,getIconContent:()=>Ie(z["icon-content"]),getImage:Xe,getInputLabel:()=>Ie(z["input-label"]),getLoader:ie,getPopup:se,getProgressSteps:Hn,getTimerLeft:()=>B.timeout&&B.timeout.getTimerLeft(),getTimerProgressBar:Ae,getTitle:Pe,getValidationMessage:si,increaseTimer:b=>{if(B.timeout){const I=B.timeout.increase(b);return hr(I,!0),I}},isDeprecatedParameter:ya,isLoading:()=>se().hasAttribute("data-loading"),isTimerRunning:()=>B.timeout&&B.timeout.isRunning(),isUpdatableParameter:li,isValidParameter:Ko,isVisible:()=>Ge(se()),mixin:function va(b){return class I extends(this){_main(U,te){return super._main(U,Object.assign({},b,te))}}},resumeTimer:Xu,showLoading:Ht,stopTimer:Cs,toggleTimer:()=>{const b=B.timeout;return b&&(b.running?Cs():Xu())}});class Gs{constructor(I,k){this.callback=I,this.remaining=k,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(I){const k=this.running;return k&&this.stop(),this.remaining+=I,k&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Zu=["swal-title","swal-html","swal-footer"],ou=b=>{const I={};return Array.from(b.querySelectorAll("swal-param")).forEach(U=>{Ts(U,["name","value"]);const te=U.getAttribute("name"),Ne=U.getAttribute("value");I[te]="boolean"==typeof xn[te]?"false"!==Ne:"object"==typeof xn[te]?JSON.parse(Ne):Ne}),I},Ea=b=>{const I={};return Array.from(b.querySelectorAll("swal-function-param")).forEach(U=>{const te=U.getAttribute("name"),Ne=U.getAttribute("value");I[te]=new Function(`return ${Ne}`)()}),I},au=b=>{const I={};return Array.from(b.querySelectorAll("swal-button")).forEach(U=>{Ts(U,["type","color","aria-label"]);const te=U.getAttribute("type");I[`${te}ButtonText`]=U.innerHTML,I[`show${Me(te)}Button`]=!0,U.hasAttribute("color")&&(I[`${te}ButtonColor`]=U.getAttribute("color")),U.hasAttribute("aria-label")&&(I[`${te}ButtonAriaLabel`]=U.getAttribute("aria-label"))}),I},Md=b=>{const I={},k=b.querySelector("swal-image");return k&&(Ts(k,["src","width","height","alt"]),k.hasAttribute("src")&&(I.imageUrl=k.getAttribute("src")),k.hasAttribute("width")&&(I.imageWidth=k.getAttribute("width")),k.hasAttribute("height")&&(I.imageHeight=k.getAttribute("height")),k.hasAttribute("alt")&&(I.imageAlt=k.getAttribute("alt"))),I},ba=b=>{const I={},k=b.querySelector("swal-icon");return k&&(Ts(k,["type","color"]),k.hasAttribute("type")&&(I.icon=k.getAttribute("type")),k.hasAttribute("color")&&(I.iconColor=k.getAttribute("color")),I.iconHtml=k.innerHTML),I},Ia=b=>{const I={},k=b.querySelector("swal-input");k&&(Ts(k,["type","label","placeholder","value"]),I.input=k.getAttribute("type")||"text",k.hasAttribute("label")&&(I.inputLabel=k.getAttribute("label")),k.hasAttribute("placeholder")&&(I.inputPlaceholder=k.getAttribute("placeholder")),k.hasAttribute("value")&&(I.inputValue=k.getAttribute("value")));const U=Array.from(b.querySelectorAll("swal-input-option"));return U.length&&(I.inputOptions={},U.forEach(te=>{Ts(te,["value"]);const Ne=te.getAttribute("value");I.inputOptions[Ne]=te.innerHTML})),I},el=(b,I)=>{const k={};for(const U in I){const te=I[U],Ne=b.querySelector(te);Ne&&(Ts(Ne,[]),k[te.replace(/^swal-/,"")]=Ne.innerHTML.trim())}return k},uu=b=>{const I=Zu.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(b.children).forEach(k=>{const U=k.tagName.toLowerCase();I.includes(U)||pe(`Unrecognized element <${U}>`)})},Ts=(b,I)=>{Array.from(b.attributes).forEach(k=>{-1===I.indexOf(k.name)&&pe([`Unrecognized attribute "${k.name}" on <${b.tagName.toLowerCase()}>.`,I.length?`Allowed attributes are: ${I.join(", ")}`:"To set the value, use HTML within the element."])})},lu=b=>{const I=$t(),k=se();"function"==typeof b.willOpen&&b.willOpen(k);const te=window.getComputedStyle(document.body).overflowY;ic(I,k,b),setTimeout(()=>{rl(I,k)},10),Ct()&&(rc(I,b.scrollbarPadding,te),Array.from(document.body.children).forEach(I=>{I===$t()||I.contains($t())||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")),I.setAttribute("aria-hidden","true"))})),!Yt()&&!B.previousActiveElement&&(B.previousActiveElement=document.activeElement),"function"==typeof b.didOpen&&setTimeout(()=>b.didOpen(k)),En(I,z["no-transition"])},nl=b=>{const I=se();if(b.target!==I)return;const k=$t();I.removeEventListener(_s,nl),k.style.overflowY="auto"},rl=(b,I)=>{_s&&or(I)?(b.style.overflowY="hidden",I.addEventListener(_s,nl)):b.style.overflowY="auto"},rc=(b,I,k)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!on(document.body,z.iosfix)){const I=document.body.scrollTop;document.body.style.top=-1*I+"px",Nt(document.body,z.iosfix),eu(),qu()}})(),I&&"hidden"!==k&&Kn(),setTimeout(()=>{b.scrollTop=0})},ic=(b,I,k)=>{Nt(b,k.showClass.backdrop),I.style.setProperty("opacity","0","important"),Qt(I,"grid"),setTimeout(()=>{Nt(I,k.showClass.popup),I.style.removeProperty("opacity")},10),Nt([document.documentElement,document.body],z.shown),k.heightAuto&&k.backdrop&&!k.toast&&Nt([document.documentElement,document.body],z["height-auto"])};var Ca={email:(b,I)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(b)?Promise.resolve():Promise.resolve(I||"Invalid email address"),url:(b,I)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(b)?Promise.resolve():Promise.resolve(I||"Invalid URL")};function xd(b){(function il(b){b.inputValidator||Object.keys(Ca).forEach(I=>{b.input===I&&(b.inputValidator=Ca[I])})})(b),b.showLoaderOnConfirm&&!b.preConfirm&&pe("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function sl(b){(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&(pe('Target parameter is not valid, defaulting to "body"'),b.target="body")}(b),"string"==typeof b.title&&(b.title=b.title.split("\n").join("<br />")),qt(b)}let Xr;class fn{constructor(){if(typeof window>"u")return;Xr=this;for(var I=arguments.length,k=new Array(I),U=0;U<I;U++)k[U]=arguments[U];const te=Object.freeze(this.constructor.argsToParams(k));this.params=te,this.isAwaitingPromise=!1;const Ne=Xr._main(Xr.params);oe.promise.set(this,Ne)}_main(I){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(b=>{!1===b.backdrop&&b.allowOutsideClick&&pe('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const I in b)Ku(I),b.toast&&Yo(I),Jl(I)})(Object.assign({},k,I)),B.currentInstance&&(B.currentInstance._destroy(),Ct()&&Za()),B.currentInstance=Xr;const U=P(I,k);xd(U),Object.freeze(U),B.timeout&&(B.timeout.stop(),delete B.timeout),clearTimeout(B.restoreFocusTimeout);const te=S(Xr);return Fs(Xr,U),oe.innerParams.set(Xr,U),D(Xr,te,U)}then(I){return oe.promise.get(this).then(I)}finally(I){return oe.promise.get(this).finally(I)}}const D=(b,I,k)=>new Promise((U,te)=>{const Ne=vt=>{b.close({isDismissed:!0,dismiss:vt})};ur.swalPromiseResolve.set(b,U),ur.swalPromiseReject.set(b,te),I.confirmButton.onclick=()=>{(b=>{const I=oe.innerParams.get(b);b.disableButtons(),I.input?bi(b,"confirm"):Yr(b,!0)})(b)},I.denyButton.onclick=()=>{(b=>{const I=oe.innerParams.get(b);b.disableButtons(),I.returnInputValueOnDeny?bi(b,"deny"):$s(b,!1)})(b)},I.cancelButton.onclick=()=>{((b,I)=>{b.disableButtons(),I(ws.cancel)})(b,Ne)},I.closeButton.onclick=()=>{Ne(ws.close)},((b,I,k)=>{oe.innerParams.get(b).toast?tc(b,I,k):(Sd(I),iu(I),nc(b,I,k))})(b,I,Ne),((b,I,k,U)=>{ao(I),k.toast||(I.keydownHandler=te=>Wr(b,te,U),I.keydownTarget=k.keydownListenerCapture?window:se(),I.keydownListenerCapture=k.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)})(b,B,k,Ne),((b,I)=>{"select"===I.input||"radio"===I.input?Bi(b,I):["text","email","number","tel","textarea"].includes(I.input)&&(Ft(I.inputValue)||hn(I.inputValue))&&(Ht(Bn()),It(b,I))})(b,k),lu(k),F(B,k,Ne),q(I,k),setTimeout(()=>{I.container.scrollTop=0})}),P=(b,I)=>{const k=(b=>{const I="string"==typeof b.template?document.querySelector(b.template):b.template;if(!I)return{};const k=I.content;return uu(k),Object.assign(ou(k),Ea(k),au(k),Md(k),ba(k),Ia(k),el(k,Zu))})(b),U=Object.assign({},xn,I,k,b);return U.showClass=Object.assign({},xn.showClass,U.showClass),U.hideClass=Object.assign({},xn.hideClass,U.hideClass),U},S=b=>{const I={popup:se(),container:$t(),actions:we(),confirmButton:Bn(),denyButton:ae(),cancelButton:je(),loader:ie(),closeButton:et(),validationMessage:si(),progressSteps:Hn()};return oe.domCache.set(b,I),I},F=(b,I,k)=>{const U=Ae();Gt(U),I.timer&&(b.timeout=new Gs(()=>{k("timer"),delete b.timeout},I.timer),I.timerProgressBar&&(Qt(U),Cn(U,I,"timerProgressBar"),setTimeout(()=>{b.timeout&&b.timeout.running&&hr(I.timer)})))},q=(b,I)=>{if(!I.toast){if(!xt(I.allowEnterKey))return void le();ue(b,I)||ts(-1,1)}},ue=(b,I)=>I.focusDeny&&Ge(b.denyButton)?(b.denyButton.focus(),!0):I.focusCancel&&Ge(b.cancelButton)?(b.cancelButton.focus(),!0):!(!I.focusConfirm||!Ge(b.confirmButton)||(b.confirmButton.focus(),0)),le=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const b=new Date,I=localStorage.getItem("swal-initiation");I?(b.getTime()-Date.parse(I))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const k=document.createElement("audio");k.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",k.loop=!0,document.body.appendChild(k),setTimeout(()=>{k.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${b}`)}fn.prototype.disableButtons=js,fn.prototype.enableButtons=Pr,fn.prototype.getInput=Wu,fn.prototype.disableInput=fo,fn.prototype.enableInput=ai,fn.prototype.hideLoading=Ci,fn.prototype.disableLoading=Ci,fn.prototype.showValidationMessage=Un,fn.prototype.resetValidationMessage=Xl,fn.prototype.close=oi,fn.prototype.closePopup=oi,fn.prototype.closeModal=oi,fn.prototype.closeToast=oi,fn.prototype.rejectPromise=rs,fn.prototype.update=po,fn.prototype._destroy=ec,Object.assign(fn,$n),Object.keys(Cd).forEach(b=>{fn[b]=function(){return Xr&&Xr[b]?Xr[b](...arguments):null}}),fn.DismissReason=ws,fn.version="11.7.10";const nt=fn;return nt.default=nt,nt}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ce,B){var M=Ce.createElement("style");if(Ce.getElementsByTagName("head")[0].appendChild(M),M.styleSheet)M.styleSheet.disabled||(M.styleSheet.cssText=B);else try{M.innerHTML=B}catch{M.innerText=B}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-container) div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-container) div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},655:(bt,Ce,B)=>{"use strict";function me(ae,Y){var ie={};for(var we in ae)Object.prototype.hasOwnProperty.call(ae,we)&&Y.indexOf(we)<0&&(ie[we]=ae[we]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(we=Object.getOwnPropertySymbols(ae);Ve<we.length;Ve++)Y.indexOf(we[Ve])<0&&Object.prototype.propertyIsEnumerable.call(ae,we[Ve])&&(ie[we[Ve]]=ae[we[Ve]])}return ie}function De(ae,Y,ie,we){return new(ie||(ie=Promise))(function(Ae,et){function ct(Yt){try{Ct(we.next(Yt))}catch(Zt){et(Zt)}}function Dn(Yt){try{Ct(we.throw(Yt))}catch(Zt){et(Zt)}}function Ct(Yt){Yt.done?Ae(Yt.value):function Ve(Ae){return Ae instanceof ie?Ae:new ie(function(et){et(Ae)})}(Yt.value).then(ct,Dn)}Ct((we=we.apply(ae,Y||[])).next())})}function Se(ae){return this instanceof Se?(this.v=ae,this):new Se(ae)}function Ie(ae,Y,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,we=ie.apply(ae,Y||[]),Ae=[];return Ve={},et("next"),et("throw"),et("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function et(_t){we[_t]&&(Ve[_t]=function(on){return new Promise(function(Dr,Cn){Ae.push([_t,on,Dr,Cn])>1||ct(_t,on)})})}function ct(_t,on){try{!function Dn(_t){_t.value instanceof Se?Promise.resolve(_t.value.v).then(Ct,Yt):Zt(Ae[0][2],_t)}(we[_t](on))}catch(Dr){Zt(Ae[0][3],Dr)}}function Ct(_t){ct("next",_t)}function Yt(_t){ct("throw",_t)}function Zt(_t,on){_t(on),Ae.shift(),Ae.length&&ct(Ae[0][0],Ae[0][1])}}function Be(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,Y=ae[Symbol.asyncIterator];return Y?Y.call(ae):(ae=function xt(ae){var Y="function"==typeof Symbol&&Symbol.iterator,ie=Y&&ae[Y],we=0;if(ie)return ie.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&we>=ae.length&&(ae=void 0),{value:ae&&ae[we++],done:!ae}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ie={},we("next"),we("throw"),we("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function we(Ae){ie[Ae]=ae[Ae]&&function(et){return new Promise(function(ct,Dn){!function Ve(Ae,et,ct,Dn){Promise.resolve(Dn).then(function(Ct){Ae({value:Ct,done:ct})},et)}(ct,Dn,(et=ae[Ae](et)).done,et.value)})}}}B.d(Ce,{FC:()=>Ie,KL:()=>Be,_T:()=>me,mG:()=>De,qq:()=>Se})},4755:(bt,Ce,B)=>{"use strict";B.d(Ce,{Do:()=>xt,EM:()=>Ei,HT:()=>me,JF:()=>Kr,K0:()=>z,Mx:()=>Gr,O5:()=>jo,PM:()=>Us,S$:()=>st,V_:()=>rt,Ye:()=>Ft,b0:()=>it,bD:()=>yn,ez:()=>is,q:()=>oe,sg:()=>Fs,uU:()=>Rr,w_:()=>fe});var M=B(1902);let v=null;function oe(){return v}function me(D){v||(v=D)}class fe{}const z=new M.OlP("DocumentToken");let ke=(()=>{class D{historyGo(S){throw new Error("Not implemented")}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=M.Yz7({token:D,factory:function(){return(0,M.f3M)(Le)},providedIn:"platform"}),D})();const rt=new M.OlP("Location Initialized");let Le=(()=>{class D extends ke{constructor(){super(),this._doc=(0,M.f3M)(z),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oe().getBaseHref(this._doc)}onPopState(S){const F=oe().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",S,!1),()=>F.removeEventListener("popstate",S)}onHashChange(S){const F=oe().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",S,!1),()=>F.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,F,q){this._history.pushState(S,F,q)}replaceState(S,F,q){this._history.replaceState(S,F,q)}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=M.Yz7({token:D,factory:function(){return new D},providedIn:"platform"}),D})();function Me(D,P){if(0==D.length)return P;if(0==P.length)return D;let S=0;return D.endsWith("/")&&S++,P.startsWith("/")&&S++,2==S?D+P.substring(1):1==S?D+P:D+"/"+P}function pe(D){const P=D.match(/#|\?|$/),S=P&&P.index||D.length;return D.slice(0,S-("/"===D[S-1]?1:0))+D.slice(S)}function De(D){return D&&"?"!==D[0]?"?"+D:D}let st=(()=>{class D{historyGo(S){throw new Error("Not implemented")}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=M.Yz7({token:D,factory:function(){return(0,M.f3M)(it)},providedIn:"root"}),D})();const He=new M.OlP("appBaseHref");let it=(()=>{class D extends st{constructor(S,F){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,M.f3M)(z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Me(this._baseHref,S)}path(S=!1){const F=this._platformLocation.pathname+De(this._platformLocation.search),q=this._platformLocation.hash;return q&&S?`${F}${q}`:F}pushState(S,F,q,ue){const le=this.prepareExternalUrl(q+De(ue));this._platformLocation.pushState(S,F,le)}replaceState(S,F,q,ue){const le=this.prepareExternalUrl(q+De(ue));this._platformLocation.replaceState(S,F,le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return D.\u0275fac=function(S){return new(S||D)(M.LFG(ke),M.LFG(He,8))},D.\u0275prov=M.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),xt=(()=>{class D extends st{constructor(S,F){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(S){const F=Me(this._baseHref,S);return F.length>0?"#"+F:F}pushState(S,F,q,ue){let le=this.prepareExternalUrl(q+De(ue));0==le.length&&(le=this._platformLocation.pathname),this._platformLocation.pushState(S,F,le)}replaceState(S,F,q,ue){let le=this.prepareExternalUrl(q+De(ue));0==le.length&&(le=this._platformLocation.pathname),this._platformLocation.replaceState(S,F,le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return D.\u0275fac=function(S){return new(S||D)(M.LFG(ke),M.LFG(He,8))},D.\u0275prov=M.Yz7({token:D,factory:D.\u0275fac}),D})(),Ft=(()=>{class D{constructor(S){this._subject=new M.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const F=this._locationStrategy.getBaseHref();this._basePath=function Se(D){if(new RegExp("^(https?:)?//").test(D)){const[,S]=D.split(/\/\/[^\/]+/);return S}return D}(pe($t(F))),this._locationStrategy.onPopState(q=>{this._subject.emit({url:this.path(!0),pop:!0,state:q.state,type:q.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,F=""){return this.path()==this.normalize(S+De(F))}normalize(S){return D.stripTrailingSlash(function hn(D,P){if(!D||!P.startsWith(D))return P;const S=P.substring(D.length);return""===S||["/",";","?","#"].includes(S[0])?S:P}(this._basePath,$t(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,F="",q=null){this._locationStrategy.pushState(q,"",S,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+De(F)),q)}replaceState(S,F="",q=null){this._locationStrategy.replaceState(q,"",S,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+De(F)),q)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",F){this._urlChangeListeners.forEach(q=>q(S,F))}subscribe(S,F,q){return this._subject.subscribe({next:S,error:F,complete:q})}}return D.normalizeQueryParams=De,D.joinWithSlash=Me,D.stripTrailingSlash=pe,D.\u0275fac=function(S){return new(S||D)(M.LFG(st))},D.\u0275prov=M.Yz7({token:D,factory:function(){return function zt(){return new Ft((0,M.LFG)(st))}()},providedIn:"root"}),D})();function $t(D){return D.replace(/\/index.html$/,"")}var Ze=(()=>((Ze=Ze||{})[Ze.Format=0]="Format",Ze[Ze.Standalone=1]="Standalone",Ze))(),Pe=(()=>((Pe=Pe||{})[Pe.Narrow=0]="Narrow",Pe[Pe.Abbreviated=1]="Abbreviated",Pe[Pe.Wide=2]="Wide",Pe[Pe.Short=3]="Short",Pe))(),xe=(()=>((xe=xe||{})[xe.Short=0]="Short",xe[xe.Medium=1]="Medium",xe[xe.Long=2]="Long",xe[xe.Full=3]="Full",xe))(),Xe=(()=>((Xe=Xe||{})[Xe.Decimal=0]="Decimal",Xe[Xe.Group=1]="Group",Xe[Xe.List=2]="List",Xe[Xe.PercentSign=3]="PercentSign",Xe[Xe.PlusSign=4]="PlusSign",Xe[Xe.MinusSign=5]="MinusSign",Xe[Xe.Exponential=6]="Exponential",Xe[Xe.SuperscriptingExponent=7]="SuperscriptingExponent",Xe[Xe.PerMille=8]="PerMille",Xe[Xe.Infinity=9]="Infinity",Xe[Xe.NaN=10]="NaN",Xe[Xe.TimeSeparator=11]="TimeSeparator",Xe[Xe.CurrencyDecimal=12]="CurrencyDecimal",Xe[Xe.CurrencyGroup=13]="CurrencyGroup",Xe))();function Ve(D,P){return Wn((0,M.cg1)(D)[M.wAp.DateFormat],P)}function Ae(D,P){return Wn((0,M.cg1)(D)[M.wAp.TimeFormat],P)}function et(D,P){return Wn((0,M.cg1)(D)[M.wAp.DateTimeFormat],P)}function ct(D,P){const S=(0,M.cg1)(D),F=S[M.wAp.NumberSymbols][P];if(typeof F>"u"){if(P===Xe.CurrencyDecimal)return S[M.wAp.NumberSymbols][Xe.Decimal];if(P===Xe.CurrencyGroup)return S[M.wAp.NumberSymbols][Xe.Group]}return F}function Dr(D){if(!D[M.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${D[M.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Wn(D,P){for(let S=P;S>-1;S--)if(typeof D[S]<"u")return D[S];throw new Error("Locale data API: locale data undefined")}function Nt(D){const[P,S]=D.split(":");return{hours:+P,minutes:+S}}const Qt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gt={},nn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tn=(()=>((Tn=Tn||{})[Tn.Short=0]="Short",Tn[Tn.ShortGMT=1]="ShortGMT",Tn[Tn.Long=2]="Long",Tn[Tn.Extended=3]="Extended",Tn))(),Ge=(()=>((Ge=Ge||{})[Ge.FullYear=0]="FullYear",Ge[Ge.Month=1]="Month",Ge[Ge.Date=2]="Date",Ge[Ge.Hours=3]="Hours",Ge[Ge.Minutes=4]="Minutes",Ge[Ge.Seconds=5]="Seconds",Ge[Ge.FractionalSeconds=6]="FractionalSeconds",Ge[Ge.Day=7]="Day",Ge))(),gt=(()=>((gt=gt||{})[gt.DayPeriods=0]="DayPeriods",gt[gt.Days=1]="Days",gt[gt.Months=2]="Months",gt[gt.Eras=3]="Eras",gt))();function Qi(D,P,S,F){let q=function ce(D){if(H(D))return D;if("number"==typeof D&&!isNaN(D))return new Date(D);if("string"==typeof D){if(D=D.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(D)){const[q,ue=1,le=1]=D.split("-").map(nt=>+nt);return or(q,ue-1,le)}const S=parseFloat(D);if(!isNaN(D-S))return new Date(S);let F;if(F=D.match(Qt))return function J(D){const P=new Date(0);let S=0,F=0;const q=D[8]?P.setUTCFullYear:P.setFullYear,ue=D[8]?P.setUTCHours:P.setHours;D[9]&&(S=Number(D[9]+D[10]),F=Number(D[9]+D[11])),q.call(P,Number(D[1]),Number(D[2])-1,Number(D[3]));const le=Number(D[4]||0)-S,nt=Number(D[5]||0)-F,b=Number(D[6]||0),I=Math.floor(1e3*parseFloat("0."+(D[7]||0)));return ue.call(P,le,nt,b,I),P}(F)}const P=new Date(D);if(!H(P))throw new Error(`Unable to convert "${D}" into a date`);return P}(D);P=hr(S,P)||P;let nt,le=[];for(;P;){if(nt=nn.exec(P),!nt){le.push(P);break}{le=le.concat(nt.slice(1));const k=le.pop();if(!k)break;P=k}}let b=q.getTimezoneOffset();F&&(b=Zi(F,b),q=function yi(D,P,S){const F=S?-1:1,q=D.getTimezoneOffset();return function fr(D,P){return(D=new Date(D.getTime())).setMinutes(D.getMinutes()+P),D}(D,F*(Zi(P,q)-q))}(q,F,!0));let I="";return le.forEach(k=>{const U=function zr(D){if(Os[D])return Os[D];let P;switch(D){case"G":case"GG":case"GGG":P=qe(gt.Eras,Pe.Abbreviated);break;case"GGGG":P=qe(gt.Eras,Pe.Wide);break;case"GGGGG":P=qe(gt.Eras,Pe.Narrow);break;case"y":P=Sn(Ge.FullYear,1,0,!1,!0);break;case"yy":P=Sn(Ge.FullYear,2,0,!0,!0);break;case"yyy":P=Sn(Ge.FullYear,3,0,!1,!0);break;case"yyyy":P=Sn(Ge.FullYear,4,0,!1,!0);break;case"Y":P=_s(1);break;case"YY":P=_s(2,!0);break;case"YYY":P=_s(3);break;case"YYYY":P=_s(4);break;case"M":case"L":P=Sn(Ge.Month,1,1);break;case"MM":case"LL":P=Sn(Ge.Month,2,1);break;case"MMM":P=qe(gt.Months,Pe.Abbreviated);break;case"MMMM":P=qe(gt.Months,Pe.Wide);break;case"MMMMM":P=qe(gt.Months,Pe.Narrow);break;case"LLL":P=qe(gt.Months,Pe.Abbreviated,Ze.Standalone);break;case"LLLL":P=qe(gt.Months,Pe.Wide,Ze.Standalone);break;case"LLLLL":P=qe(gt.Months,Pe.Narrow,Ze.Standalone);break;case"w":P=Ji(1);break;case"ww":P=Ji(2);break;case"W":P=Ji(1,!0);break;case"d":P=Sn(Ge.Date,1);break;case"dd":P=Sn(Ge.Date,2);break;case"c":case"cc":P=Sn(Ge.Day,1);break;case"ccc":P=qe(gt.Days,Pe.Abbreviated,Ze.Standalone);break;case"cccc":P=qe(gt.Days,Pe.Wide,Ze.Standalone);break;case"ccccc":P=qe(gt.Days,Pe.Narrow,Ze.Standalone);break;case"cccccc":P=qe(gt.Days,Pe.Short,Ze.Standalone);break;case"E":case"EE":case"EEE":P=qe(gt.Days,Pe.Abbreviated);break;case"EEEE":P=qe(gt.Days,Pe.Wide);break;case"EEEEE":P=qe(gt.Days,Pe.Narrow);break;case"EEEEEE":P=qe(gt.Days,Pe.Short);break;case"a":case"aa":case"aaa":P=qe(gt.DayPeriods,Pe.Abbreviated);break;case"aaaa":P=qe(gt.DayPeriods,Pe.Wide);break;case"aaaaa":P=qe(gt.DayPeriods,Pe.Narrow);break;case"b":case"bb":case"bbb":P=qe(gt.DayPeriods,Pe.Abbreviated,Ze.Standalone,!0);break;case"bbbb":P=qe(gt.DayPeriods,Pe.Wide,Ze.Standalone,!0);break;case"bbbbb":P=qe(gt.DayPeriods,Pe.Narrow,Ze.Standalone,!0);break;case"B":case"BB":case"BBB":P=qe(gt.DayPeriods,Pe.Abbreviated,Ze.Format,!0);break;case"BBBB":P=qe(gt.DayPeriods,Pe.Wide,Ze.Format,!0);break;case"BBBBB":P=qe(gt.DayPeriods,Pe.Narrow,Ze.Format,!0);break;case"h":P=Sn(Ge.Hours,1,-12);break;case"hh":P=Sn(Ge.Hours,2,-12);break;case"H":P=Sn(Ge.Hours,1);break;case"HH":P=Sn(Ge.Hours,2);break;case"m":P=Sn(Ge.Minutes,1);break;case"mm":P=Sn(Ge.Minutes,2);break;case"s":P=Sn(Ge.Seconds,1);break;case"ss":P=Sn(Ge.Seconds,2);break;case"S":P=Sn(Ge.FractionalSeconds,1);break;case"SS":P=Sn(Ge.FractionalSeconds,2);break;case"SSS":P=Sn(Ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":P=Xi(Tn.Short);break;case"ZZZZZ":P=Xi(Tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":P=Xi(Tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":P=Xi(Tn.Long);break;default:return null}return Os[D]=P,P}(k);I+=U?U(q,S,b):"''"===k?"'":k.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),I}function or(D,P,S){const F=new Date(0);return F.setFullYear(D,P,S),F.setHours(0,0,0),F}function hr(D,P){const S=function si(D){return(0,M.cg1)(D)[M.wAp.LocaleId]}(D);if(Gt[S]=Gt[S]||{},Gt[S][P])return Gt[S][P];let F="";switch(P){case"shortDate":F=Ve(D,xe.Short);break;case"mediumDate":F=Ve(D,xe.Medium);break;case"longDate":F=Ve(D,xe.Long);break;case"fullDate":F=Ve(D,xe.Full);break;case"shortTime":F=Ae(D,xe.Short);break;case"mediumTime":F=Ae(D,xe.Medium);break;case"longTime":F=Ae(D,xe.Long);break;case"fullTime":F=Ae(D,xe.Full);break;case"short":const q=hr(D,"shortTime"),ue=hr(D,"shortDate");F=ms(et(D,xe.Short),[q,ue]);break;case"medium":const le=hr(D,"mediumTime"),nt=hr(D,"mediumDate");F=ms(et(D,xe.Medium),[le,nt]);break;case"long":const b=hr(D,"longTime"),I=hr(D,"longDate");F=ms(et(D,xe.Long),[b,I]);break;case"full":const k=hr(D,"fullTime"),U=hr(D,"fullDate");F=ms(et(D,xe.Full),[k,U])}return F&&(Gt[S][P]=F),F}function ms(D,P){return P&&(D=D.replace(/\{([^}]+)}/g,function(S,F){return null!=P&&F in P?P[F]:S})),D}function On(D,P,S="-",F,q){let ue="";(D<0||q&&D<=0)&&(q?D=1-D:(D=-D,ue=S));let le=String(D);for(;le.length<P;)le="0"+le;return F&&(le=le.slice(le.length-P)),ue+le}function Sn(D,P,S=0,F=!1,q=!1){return function(ue,le){let nt=function ys(D,P){switch(D){case Ge.FullYear:return P.getFullYear();case Ge.Month:return P.getMonth();case Ge.Date:return P.getDate();case Ge.Hours:return P.getHours();case Ge.Minutes:return P.getMinutes();case Ge.Seconds:return P.getSeconds();case Ge.FractionalSeconds:return P.getMilliseconds();case Ge.Day:return P.getDay();default:throw new Error(`Unknown DateType value "${D}".`)}}(D,ue);if((S>0||nt>-S)&&(nt+=S),D===Ge.Hours)0===nt&&-12===S&&(nt=12);else if(D===Ge.FractionalSeconds)return function Oo(D,P){return On(D,3).substring(0,P)}(nt,P);const b=ct(le,Xe.MinusSign);return On(nt,P,b,F,q)}}function qe(D,P,S=Ze.Format,F=!1){return function(q,ue){return function Fo(D,P,S,F,q,ue){switch(S){case gt.Months:return function ae(D,P,S){const F=(0,M.cg1)(D),ue=Wn([F[M.wAp.MonthsFormat],F[M.wAp.MonthsStandalone]],P);return Wn(ue,S)}(P,q,F)[D.getMonth()];case gt.Days:return function je(D,P,S){const F=(0,M.cg1)(D),ue=Wn([F[M.wAp.DaysFormat],F[M.wAp.DaysStandalone]],P);return Wn(ue,S)}(P,q,F)[D.getDay()];case gt.DayPeriods:const le=D.getHours(),nt=D.getMinutes();if(ue){const I=function Cn(D){const P=(0,M.cg1)(D);return Dr(P),(P[M.wAp.ExtraData][2]||[]).map(F=>"string"==typeof F?Nt(F):[Nt(F[0]),Nt(F[1])])}(P),k=function qn(D,P,S){const F=(0,M.cg1)(D);Dr(F);const ue=Wn([F[M.wAp.ExtraData][0],F[M.wAp.ExtraData][1]],P)||[];return Wn(ue,S)||[]}(P,q,F),U=I.findIndex(te=>{if(Array.isArray(te)){const[Ne,vt]=te,en=le>=Ne.hours&&nt>=Ne.minutes,cn=le<vt.hours||le===vt.hours&&nt<vt.minutes;if(Ne.hours<vt.hours){if(en&&cn)return!0}else if(en||cn)return!0}else if(te.hours===le&&te.minutes===nt)return!0;return!1});if(-1!==U)return k[U]}return function Bn(D,P,S){const F=(0,M.cg1)(D),ue=Wn([F[M.wAp.DayPeriodsFormat],F[M.wAp.DayPeriodsStandalone]],P);return Wn(ue,S)}(P,q,F)[le<12?0:1];case gt.Eras:return function Y(D,P){return Wn((0,M.cg1)(D)[M.wAp.Eras],P)}(P,F)[D.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${S}`)}}(q,ue,D,P,S,F)}}function Xi(D){return function(P,S,F){const q=-1*F,ue=ct(S,Xe.MinusSign),le=q>0?Math.floor(q/60):Math.ceil(q/60);switch(D){case Tn.Short:return(q>=0?"+":"")+On(le,2,ue)+On(Math.abs(q%60),2,ue);case Tn.ShortGMT:return"GMT"+(q>=0?"+":"")+On(le,1,ue);case Tn.Long:return"GMT"+(q>=0?"+":"")+On(le,2,ue)+":"+On(Math.abs(q%60),2,ue);case Tn.Extended:return 0===F?"Z":(q>=0?"+":"")+On(le,2,ue)+":"+On(Math.abs(q%60),2,ue);default:throw new Error(`Unknown zone width "${D}"`)}}}const An=0,qt=4;function mn(D){return or(D.getFullYear(),D.getMonth(),D.getDate()+(qt-D.getDay()))}function Ji(D,P=!1){return function(S,F){let q;if(P){const ue=new Date(S.getFullYear(),S.getMonth(),1).getDay()-1,le=S.getDate();q=1+Math.floor((le+ue)/7)}else{const ue=mn(S),le=function Vi(D){const P=or(D,An,1).getDay();return or(D,0,1+(P<=qt?qt:qt+7)-P)}(ue.getFullYear()),nt=ue.getTime()-le.getTime();q=1+Math.round(nt/6048e5)}return On(q,D,ct(F,Xe.MinusSign))}}function _s(D,P=!1){return function(S,F){return On(mn(S).getFullYear(),D,ct(F,Xe.MinusSign),P)}}const Os={};function Zi(D,P){D=D.replace(/:/g,"");const S=Date.parse("Jan 01, 1970 00:00:00 "+D)/6e4;return isNaN(S)?P:S}function H(D){return D instanceof Date&&!isNaN(D.valueOf())}function Gr(D,P){P=encodeURIComponent(P);for(const S of D.split(";")){const F=S.indexOf("="),[q,ue]=-1==F?[S,""]:[S.slice(0,F),S.slice(F+1)];if(q.trim()===P)return decodeURIComponent(ue)}return null}class $o{constructor(P,S,F,q){this.$implicit=P,this.ngForOf=S,this.index=F,this.count=q}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fs=(()=>{class D{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,F,q){this._viewContainer=S,this._template=F,this._differs=q,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const F=this._viewContainer;S.forEachOperation((q,ue,le)=>{if(null==q.previousIndex)F.createEmbeddedView(this._template,new $o(q.item,this._ngForOf,-1,-1),null===le?void 0:le);else if(null==le)F.remove(null===ue?void 0:ue);else if(null!==ue){const nt=F.get(ue);F.move(nt,le),oo(nt,q)}});for(let q=0,ue=F.length;q<ue;q++){const nt=F.get(q).context;nt.index=q,nt.count=ue,nt.ngForOf=this._ngForOf}S.forEachIdentityChange(q=>{oo(F.get(q.currentIndex),q)})}static ngTemplateContextGuard(S,F){return!0}}return D.\u0275fac=function(S){return new(S||D)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(M.ZZ4))},D.\u0275dir=M.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function oo(D,P){D.context.$implicit=P.item}let jo=(()=>{class D{constructor(S,F){this._viewContainer=S,this._context=new es,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){ws("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){ws("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,F){return!0}}return D.\u0275fac=function(S){return new(S||D)(M.Y36(M.s_b),M.Y36(M.Rgc))},D.\u0275dir=M.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class es{constructor(){this.$implicit=null,this.ngIf=null}}function ws(D,P){if(P&&!P.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,M.AaK)(P)}'.`)}const Vt=new M.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Kn=new M.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Rr=(()=>{class D{constructor(S,F,q){this.locale=S,this.defaultTimezone=F,this.defaultOptions=q}transform(S,F,q,ue){if(null==S||""===S||S!=S)return null;try{return Qi(S,F??this.defaultOptions?.dateFormat??"mediumDate",ue||this.locale,q??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(le){throw function ur(D,P){return new M.vHH(2100,!1)}()}}}return D.\u0275fac=function(S){return new(S||D)(M.Y36(M.soG,16),M.Y36(Vt,24),M.Y36(Kn,24))},D.\u0275pipe=M.Yjl({name:"date",type:D,pure:!0,standalone:!0}),D})(),is=(()=>{class D{}return D.\u0275fac=function(S){return new(S||D)},D.\u0275mod=M.oAB({type:D}),D.\u0275inj=M.cJS({}),D})();const yn="browser",wi="server";function Us(D){return D===wi}let Ei=(()=>{class D{}return D.\u0275prov=(0,M.Yz7)({token:D,providedIn:"root",factory:()=>new bi((0,M.LFG)(z),window)}),D})();class bi{constructor(P,S){this.document=P,this.window=S,this.offset=()=>[0,0]}setOffset(P){this.offset=Array.isArray(P)?()=>P:P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const S=function $s(D,P){const S=D.getElementById(P)||D.getElementsByName(P)[0];if(S)return S;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const F=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let q=F.currentNode;for(;q;){const ue=q.shadowRoot;if(ue){const le=ue.getElementById(P)||ue.querySelector(`[name="${P}"]`);if(le)return le}q=F.nextNode()}}return null}(this.document,P);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(P){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=P)}}scrollToElement(P){const S=P.getBoundingClientRect(),F=S.left+this.window.pageXOffset,q=S.top+this.window.pageYOffset,ue=this.offset();this.window.scrollTo(F-ue[0],q-ue[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const P=ss(this.window.history)||ss(Object.getPrototypeOf(this.window.history));return!(!P||!P.writable&&!P.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ss(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class Kr{}},1902:(bt,Ce,B)=>{"use strict";B.d(Ce,{QbO:()=>n_,tb:()=>xw,AFp:()=>e_,ip1:()=>Kg,hGG:()=>$w,z2F:()=>rd,Ojb:()=>r_,sBO:()=>yN,Sil:()=>eN,EJc:()=>Zx,Xts:()=>oh,SBq:()=>_l,lqb:()=>Eu,qLn:()=>Ac,vpe:()=>Js,XFs:()=>qe,OlP:()=>vn,zs3:()=>vl,ZZ4:()=>Bw,aQg:()=>MD,soG:()=>nd,YKP:()=>Wc,h0i:()=>qc,PXZ:()=>qO,R0b:()=>fi,FiY:()=>Ws,Lbi:()=>Ip,g9A:()=>bp,Qsj:()=>p_,FYo:()=>Mp,JOm:()=>bo,q3G:()=>wr,tp0:()=>Sa,Rgc:()=>Jc,dDg:()=>oN,eoX:()=>mD,q4F:()=>N0,GfV:()=>m_,s_b:()=>xg,ifc:()=>mr,MMx:()=>Kc,Lck:()=>Ox,eFA:()=>_D,Gpc:()=>Pe,f3M:()=>Rt,$WT:()=>ns,MR2:()=>ah,_c5:()=>rF,qFp:()=>lF,rg0:()=>nl,c2e:()=>Yg,zSh:()=>Zy,HDt:()=>dD,wAp:()=>Dt,vHH:()=>je,lri:()=>sN,rWj:()=>gD,JZr:()=>Bn,EiD:()=>Ky,mCW:()=>zy,qzn:()=>yc,JVY:()=>gA,pB0:()=>gp,eBb:()=>mA,L6k:()=>pp,LAX:()=>pl,D6c:()=>PN,cg1:()=>Bh,kL8:()=>dg,dqk:()=>mn,Z0I:()=>Qi,eJc:()=>fw,QGY:()=>Ph,F4k:()=>HM,RDi:()=>uA,AaK:()=>se,z3N:()=>Na,qOj:()=>vh,TTD:()=>Ca,_Bn:()=>Gv,jDz:()=>IC,xp6:()=>V0,uIk:()=>Eh,Tol:()=>Au,ekj:()=>Bc,Suo:()=>qC,Xpm:()=>Za,lG2:()=>zo,Yz7:()=>nn,cJS:()=>Ge,oAB:()=>ga,Yjl:()=>nu,Y36:()=>La,_UZ:()=>lv,qZA:()=>Nh,TgZ:()=>xh,EpF:()=>Co,n5z:()=>Ss,LFG:()=>At,$8M:()=>_y,$Z:()=>qA,NdJ:()=>hv,CRH:()=>Og,oxw:()=>zM,ALo:()=>ew,lcZ:()=>NC,xi3:()=>RC,Hsn:()=>GM,F$t:()=>Kp,Q6J:()=>av,s9C:()=>PI,iGM:()=>GC,MAs:()=>zp,KtG:()=>ol,CHM:()=>jf,oJD:()=>p0,LSH:()=>mp,P3R:()=>y0,Udp:()=>wv,YNc:()=>jp,W1O:()=>WC,_uU:()=>rx,Oqu:()=>rg,hij:()=>ig,Gf:()=>kg});var M=B(7579),v=B(727),oe=B(1135),me=B(9751),fe=B(8189),z=B(8421),ke=B(515),rt=B(7669),Le=B(8996),pe=B(9646),De=B(930),st=B(4482);function He(s={}){const{connector:o=(()=>new M.x),resetOnError:a=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=s;return f=>{let g,w,C,x=0,O=!1,$=!1;const K=()=>{w?.unsubscribe(),w=void 0},Z=()=>{K(),g=C=void 0,O=$=!1},ge=()=>{const be=g;Z(),be?.unsubscribe()};return(0,st.e)((be,Ue)=>{x++,!$&&!O&&K();const ut=C=C??o();Ue.add(()=>{x--,0===x&&!$&&!O&&(w=it(ge,d))}),ut.subscribe(Ue),!g&&x>0&&(g=new De.Hp({next:_e=>ut.next(_e),error:_e=>{$=!0,K(),w=it(Z,a,_e),ut.error(_e)},complete:()=>{O=!0,K(),w=it(Z,c),ut.complete()}}),(0,z.Xf)(be).subscribe(g))})(f)}}function it(s,o,...a){if(!0===o)return void s();if(!1===o)return;const c=new De.Hp({next:()=>{c.unsubscribe(),s()}});return(0,z.Xf)(o(...a)).subscribe(c)}var xt=B(5577),Ft=B(4671),zt=B(5403);function $t(s,o){return s===o}function Se(s){for(let o in s)if(s[o]===Se)return o;throw Error("Could not find renamed property on target object.")}function Ie(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function se(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(se).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Be(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Ze=Se({__forward_ref__:Se});function Pe(s){return s.__forward_ref__=Pe,s.toString=function(){return se(this())},s}function xe(s){return Xe(s)?s():s}function Xe(s){return"function"==typeof s&&s.hasOwnProperty(Ze)&&s.__forward_ref__===Pe}function Hn(s){return s&&!!s.\u0275providers}const Bn="https://g.co/ng/security#xss";class je extends Error{constructor(o,a){super(function ae(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function Y(s){return"string"==typeof s?s:null==s?"":String(s)}function et(s,o){throw new je(-201,!1)}function En(s,o){null==s&&function $e(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function nn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ge(s){return{providers:s.providers||[],imports:s.imports||[]}}function gt(s){return or(s,On)||or(s,Sn)}function Qi(s){return null!==gt(s)}function or(s,o){return s.hasOwnProperty(o)?s[o]:null}function ms(s){return s&&(s.hasOwnProperty(Oo)||s.hasOwnProperty(ys))?s[Oo]:null}const On=Se({\u0275prov:Se}),Oo=Se({\u0275inj:Se}),Sn=Se({ngInjectableDef:Se}),ys=Se({ngInjectorDef:Se});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let Fo;function An(s){const o=Fo;return Fo=s,o}function qt(s,o,a){const c=gt(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&qe.Optional?null:void 0!==o?o:void et(se(s))}const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zr={},Zi="__NG_DI_FLAG__",fr="ngTempTokenPath",ce=/\n/gm,H="__source";let Q;function We(s){const o=Q;return Q=s,o}function ft(s,o=qe.Default){if(void 0===Q)throw new je(-203,!1);return null===Q?qt(s,void 0,o):Q.get(s,o&qe.Optional?null:void 0,o)}function At(s,o=qe.Default){return(function Xi(){return Fo}()||ft)(xe(s),o)}function Rt(s,o=qe.Default){return At(s,ar(o))}function ar(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function pr(s){const o=[];for(let a=0;a<s.length;a++){const c=xe(s[a]);if(Array.isArray(c)){if(0===c.length)throw new je(900,!1);let d,f=qe.Default;for(let g=0;g<c.length;g++){const w=c[g],C=_i(w);"number"==typeof C?-1===C?d=w.token:f|=C:d=w}o.push(At(d,f))}else o.push(At(c))}return o}function vs(s,o){return s[Zi]=o,s.prototype[Zi]=o,s}function _i(s){return s[Zi]}function gr(s){return{toString:s}.toString()}var xr=(()=>((xr=xr||{})[xr.OnPush=0]="OnPush",xr[xr.Default=1]="Default",xr))(),mr=(()=>{return(s=mr||(mr={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",mr;var s})();const vi={},jt=[],yr=Se({\u0275cmp:Se}),ro=Se({\u0275dir:Se}),Vo=Se({\u0275pipe:Se}),Bo=Se({\u0275mod:Se}),Gr=Se({\u0275fac:Se}),qr=Se({__NG_ELEMENT_ID__:Se}),io=Se({__NG_ENV_ID__:Se});function Xa(s,o,a){let c=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}a=d+1}}function Uo(s,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],g=a[c++],w=a[c++];s.setAttribute(o,g,w,f)}else{const f=d,g=a[++c];$o(f)?s.setProperty(o,f,g):s.setAttribute(o,f,g),c++}}return c}function so(s){return 3===s||4===s||6===s}function $o(s){return 64===s.charCodeAt(0)}function Fs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||oo(s,a,d,null,-1===a||2===a?o[++c]:null)}}return s}function oo(s,o,a,c,d){let f=0,g=s.length;if(-1===o)g=-1;else for(;f<s.length;){const w=s[f++];if("number"==typeof w){if(w===o){g=-1;break}if(w>o){g=f-1;break}}}for(;f<s.length;){const w=s[f];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==g&&(s.splice(g,0,o),f=g+1),s.splice(f++,0,a),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}const Ja="ng-template";function jo(s,o,a){let c=0,d=!0;for(;c<s.length;){let f=s[c++];if("string"==typeof f&&d){const g=s[c++];if(a&&"class"===f&&-1!==Xa(g.toLowerCase(),o,0))return!0}else{if(1===f){for(;c<s.length&&"string"==typeof(f=s[c++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function es(s){return 4===s.type&&s.value!==Ja}function ws(s,o,a){return o===(4!==s.type||a?s.value:Ja)}function ao(s,o,a){let c=4;const d=s.attrs||[],f=function Wr(s){for(let o=0;o<s.length;o++)if(so(s[o]))return o;return s.length}(d);let g=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!g)if(4&c){if(c=2|1&c,""!==C&&!ws(s,C,a)||""===C&&1===o.length){if(Nr(c))return!1;g=!0}}else{const x=8&c?C:o[++w];if(8&c&&null!==s.attrs){if(!jo(s.attrs,x,a)){if(Nr(c))return!1;g=!0}continue}const $=ts(8&c?"class":C,d,es(s),a);if(-1===$){if(Nr(c))return!1;g=!0;continue}if(""!==x){let K;K=$>f?"":d[$+1].toLowerCase();const Z=8&c?K:null;if(Z&&-1!==Xa(Z,x,0)||2&c&&x!==K){if(Nr(c))return!1;g=!0}}}}else{if(!g&&!Nr(c)&&!Nr(C))return!1;if(g&&Nr(C))continue;g=!1,c=C|1&c}}return Nr(c)||g}function Nr(s){return 0==(1&s)}function ts(s,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let f=!1;for(;d<o.length;){const g=o[d];if(g===s)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function Es(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function Ls(s,o,a=!1){for(let c=0;c<o.length;c++)if(ao(s,o[c],a))return!0;return!1}function lo(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let d=0;d<s.length;d++)if(s[d]!==c[d])continue e;return!0}}return!1}function Ho(s,o){return s?":not("+o.trim()+")":o}function co(s){let o=s[0],a=1,c=2,d="",f=!1;for(;a<s.length;){let g=s[a];if("string"==typeof g)if(2&c){const w=s[++a];d+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?d+="."+g:4&c&&(d+=" "+g);else""!==d&&!Nr(g)&&(o+=Ho(f,d),d=""),c=g,f=f||!Nr(c);a++}return""!==d&&(o+=Ho(f,d)),o}function Za(s){return gr(()=>{const o=oi(s),a={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===xr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||mr.Emulated,styles:s.styles||jt,_:null,schemas:s.schemas||null,tView:null,id:""};Go(a);const c=s.dependencies;return a.directiveDefs=rs(c,!1),a.pipeDefs=rs(c,!0),a.id=function bs(s){let o=0;const a=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function qu(s){return Vt(s)||Kn(s)}function eu(s){return null!==s}function ga(s){return gr(()=>({type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ma(s,o){if(null==s)return vi;const a={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,o&&(o[d]=f)}return a}function zo(s){return gr(()=>{const o=oi(s);return Go(o),o})}function nu(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Vt(s){return s[yr]||null}function Kn(s){return s[ro]||null}function Rr(s){return s[Vo]||null}function ns(s){const o=Vt(s)||Kn(s)||Rr(s);return null!==o&&o.standalone}function Yn(s,o){const a=s[Bo]||null;if(!a&&!0===o)throw new Error(`Type ${se(s)} does not have '\u0275mod' property.`);return a}function oi(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ma(s.inputs,o),outputs:ma(s.outputs)}}function Go(s){s.features?.forEach(o=>o(s))}function rs(s,o){if(!s)return null;const a=o?Rr:qu;return()=>("function"==typeof s?s():s).map(c=>a(c)).filter(eu)}const Mn=0,Ke=1,wt=2,Ht=3,lr=4,Vs=5,Fn=6,is=7,yn=8,wi=9,Bi=10,It=11,Bs=12,Us=13,Ui=14,Ln=15,ho=16,Ei=17,bi=18,ss=19,$s=20,Ii=21,Kr=22,Yr=23,Ci=24,Bt=25,qo=1,ru=2,Pr=7,js=8,ai=9,Un=11;function xn(s){return Array.isArray(s)&&"object"==typeof s[qo]}function bn(s){return Array.isArray(s)&&!0===s[qo]}function Wo(s){return 0!=(4&s.flags)}function ui(s){return s.componentOffset>-1}function Ko(s){return 1==(1&s.flags)}function li(s){return!!s.template}function ya(s){return 0!=(512&s[wt])}function zs(s,o){return s.hasOwnProperty(Gr)?s[Gr]:null}let Ju=mn.WeakRef??class Ad{constructor(o){this.ref=o}deref(){return this.ref}},Jo=0,Qr=null,Ds=!1;function $n(s){const o=Qr;return Qr=s,o}class Gs{constructor(){this.id=Jo++,this.ref=function wa(s){return new Ju(s)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,a]of this.producers){const c=a.producerNode.deref();if(void 0!==c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(o),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=Ds;Ds=!0;try{for(const[a,c]of this.consumers){const d=c.consumerNode.deref();void 0!==d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),d?.producers.delete(this.id))}}finally{Ds=o}}producerAccessed(){if(Ds)throw new Error("");if(null===Qr)return;let o=Qr.producers.get(this.id);void 0===o?(o={consumerNode:Qr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Qr.trackingVersion},Qr.producers.set(this.id,o),this.consumers.set(Qr.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=Qr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Qr?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let ba=null;function nl(s){const o=$n(null);try{return s()}finally{$n(o)}}const rl=()=>{};class rc extends Gs{constructor(o,a,c){super(),this.watch=o,this.schedule=a,this.dirty=!1,this.cleanupFn=rl,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=$n(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=rl,this.watch(this.registerOnCleanup)}finally{$n(o)}}cleanup(){this.cleanupFn()}}class ic{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ca(){return il}function il(s){return s.type.prototype.ngOnChanges&&(s.setInput=xd),sl}function sl(){const s=fn(this),o=s?.current;if(o){const a=s.previous;if(a===vi)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function xd(s,o,a,c){const d=this.declaredInputs[a],f=fn(s)||function D(s,o){return s[Xr]=o}(s,{previous:vi,current:null}),g=f.current||(f.current={}),w=f.previous,C=w[d];g[d]=new ic(C&&C.currentValue,o,w===vi),s[c]=o}Ca.ngInherit=!0;const Xr="__ngSimpleChanges__";function fn(s){return s[Xr]||null}const F=function(s,o,a){};function le(s){for(;Array.isArray(s);)s=s[Mn];return s}function b(s,o){return le(o[s])}function I(s,o){return le(o[s.index])}function U(s,o){return s.data[o]}function te(s,o){return s[o]}function Ne(s,o){const a=o[s];return xn(a)?a:a[Mn]}function en(s){return 128==(128&s[wt])}function rn(s,o){return null==o?null:s[o]}function vr(s){s[Ei]=0}function os(s){1024&s[wt]||(s[wt]|=1024,go(s,1))}function as(s){1024&s[wt]&&(s[wt]&=-1025,go(s,-1))}function go(s,o){let a=s[Ht];if(null===a)return;a[Vs]+=o;let c=a;for(a=a[Ht];null!==a&&(1===o&&1===c[Vs]||-1===o&&0===c[Vs]);)a[Vs]+=o,c=a,a=a[Ht]}const St={lFrame:iy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cu(){return St.bindingsEnabled}function mo(){return null!==St.skipHydrationRootTNode}function ve(){return St.lFrame.lView}function Wt(){return St.lFrame.tView}function jf(s){return St.lFrame.contextLView=s,s[yn]}function ol(s){return St.lFrame.contextLView=null,s}function an(){let s=oc();for(;null!==s&&64===s.type;)s=s.parent;return s}function oc(){return St.lFrame.currentTNode}function yo(s,o){const a=St.lFrame;a.currentTNode=s,a.isParent=o}function du(){return St.lFrame.isParent}function al(){St.lFrame.isParent=!1}function Vn(){const s=St.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function hu(){return St.lFrame.bindingIndex++}function qs(s){const o=St.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function ac(s,o){const a=St.lFrame;a.bindingIndex=a.bindingRootIndex=s,fu(o)}function fu(s){St.lFrame.currentDirectiveIndex=s}function Gf(){return St.lFrame.currentQueryIndex}function kd(s){St.lFrame.currentQueryIndex=s}function $i(s){const o=s[Ke];return 2===o.type?o.declTNode:1===o.type?s[Fn]:null}function Od(s,o,a){if(a&qe.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||a&qe.Host||(d=$i(f),null===d||(f=f[Ui],10&d.type))););if(null===d)return!1;o=d,s=f}const c=St.lFrame=ry();return c.currentTNode=o,c.lView=s,!0}function qf(s){const o=ry(),a=s[Ke];St.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ry(){const s=St.lFrame,o=null===s?null:s.child;return null===o?iy(s):o}function iy(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Wf(){const s=St.lFrame;return St.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const sy=Wf;function oy(){const s=Wf();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ai(){return St.lFrame.selectedIndex}function pu(s){St.lFrame.selectedIndex=s}function Nn(){const s=St.lFrame;return U(s.tView,s.selectedIndex)}let L=!0;function V(){return L}function X(s){L=s}function ot(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const f=s.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:x,ngOnDestroy:O}=f;g&&(s.contentHooks??=[]).push(-a,g),w&&((s.contentHooks??=[]).push(a,w),(s.contentCheckHooks??=[]).push(a,w)),C&&(s.viewHooks??=[]).push(-a,C),x&&((s.viewHooks??=[]).push(a,x),(s.viewCheckHooks??=[]).push(a,x)),null!=O&&(s.destroyHooks??=[]).push(a,O)}}function at(s,o,a){gu(s,o,3,a)}function sn(s,o,a,c){(3&s[wt])===a&&gu(s,o,a,c)}function Qn(s,o){let a=s[wt];(3&a)===o&&(a&=4095,a+=1,s[wt]=a)}function gu(s,o,a,c){const f=c??-1,g=o.length-1;let w=0;for(let C=void 0!==c?65535&s[Ei]:0;C<g;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=c&&w>=c)break}else o[C]<0&&(s[Ei]+=65536),(w<f||-1==f)&&(ea(s,a,o,C),s[Ei]=(4294901760&s[Ei])+C+2),C++}function Zo(s,o){F(4,s,o);const a=$n(null);try{o.call(s)}finally{$n(a),F(5,s,o)}}function ea(s,o,a,c){const d=a[c]<0,f=a[c+1],w=s[d?-a[c]:a[c]];d?s[wt]>>12<s[Ei]>>16&&(3&s[wt])===o&&(s[wt]+=4096,Zo(w,f)):Zo(w,f)}const ta=-1;class na{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function mb(s){return s!==ta}function Ld(s){return 32767&s}function ly(s,o){let a=function CS(s){return s>>16}(s),c=o;for(;a>0;)c=c[Ui],a--;return c}let Vd=!0;function cy(s){const o=Vd;return Vd=s,o}const yb=255,dy=5;let hy=0;const vo={};function Yf(s,o){const a=_b(s,o);if(-1!==a)return a;const c=o[Ke];c.firstCreatePass&&(s.injectorIndex=o.length,fy(c.data,s),fy(o,null),fy(c.blueprint,null));const d=py(s,o),f=s.injectorIndex;if(mb(d)){const g=Ld(d),w=ly(d,o),C=w[Ke].data;for(let x=0;x<8;x++)o[f+x]=w[g+x]|C[g+x]}return o[f+8]=d,f}function fy(s,o){s.push(0,0,0,0,0,0,0,0,o)}function _b(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function py(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=Qf(d),null===c)return ta;if(a++,d=d[Ui],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return ta}function gy(s,o,a){!function gk(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(qr)&&(c=a[qr]),null==c&&(c=a[qr]=hy++);const d=c&yb;o.data[s+(d>>dy)]|=1<<d}(s,o,a)}function my(s,o,a){if(a&qe.Optional||void 0!==s)return s;et()}function vb(s,o,a,c){if(a&qe.Optional&&void 0===c&&(c=null),!(a&(qe.Self|qe.Host))){const d=s[wi],f=An(void 0);try{return d?d.get(o,c,a&qe.Optional):qt(o,c,a&qe.Optional)}finally{An(f)}}return my(c,0,a)}function wb(s,o,a,c=qe.Default,d){if(null!==s){if(2048&o[wt]&&!(c&qe.Self)){const g=function Ud(s,o,a,c,d){let f=s,g=o;for(;null!==f&&null!==g&&2048&g[wt]&&!(512&g[wt]);){const w=yy(f,g,a,c|qe.Self,vo);if(w!==vo)return w;let C=f.parent;if(!C){const x=g[$s];if(x){const O=x.get(a,vo,c);if(O!==vo)return O}C=Qf(g),g=g[Ui]}f=C}return d}(s,o,a,c,vo);if(g!==vo)return g}const f=yy(s,o,a,c,vo);if(f!==vo)return f}return vb(o,a,c,d)}function yy(s,o,a,c,d){const f=function SS(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(qr)?s[qr]:void 0;return"number"==typeof o?o>=0?o&yb:AS:o}(a);if("function"==typeof f){if(!Od(o,s,c))return c&qe.Host?my(d,0,c):vb(o,a,c,d);try{const g=f(c);if(null!=g||c&qe.Optional)return g;et()}finally{sy()}}else if("number"==typeof f){let g=null,w=_b(s,o),C=ta,x=c&qe.Host?o[Ln][Fn]:null;for((-1===w||c&qe.SkipSelf)&&(C=-1===w?py(s,o):o[w+8],C!==ta&&bb(c,!1)?(g=o[Ke],w=Ld(C),o=ly(C,o)):w=-1);-1!==w;){const O=o[Ke];if(Eb(f,w,O.data)){const $=TS(w,o,a,g,c,x);if($!==vo)return $}C=o[w+8],C!==ta&&bb(c,o[Ke].data[w+8]===x)&&Eb(f,w,o)?(g=O,w=Ld(C),o=ly(C,o)):w=-1}}return d}function TS(s,o,a,c,d,f){const g=o[Ke],w=g.data[s+8],O=uc(w,g,a,null==c?ui(w)&&Vd:c!=g&&0!=(3&w.type),d&qe.Host&&f===w);return null!==O?ll(o,g,O,w):vo}function uc(s,o,a,c,d){const f=s.providerIndexes,g=o.data,w=1048575&f,C=s.directiveStart,O=f>>20,K=d?w+O:s.directiveEnd;for(let Z=c?w:w+O;Z<K;Z++){const ge=g[Z];if(Z<C&&a===ge||Z>=C&&ge.type===a)return Z}if(d){const Z=g[C];if(Z&&li(Z)&&Z.type===a)return C}return null}function ll(s,o,a,c){let d=s[a];const f=o.data;if(function bS(s){return s instanceof na}(d)){const g=d;g.resolving&&function we(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new je(-200,`Circular dependency in DI detected for ${s}${a}`)}(function ie(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Y(s)}(f[a]));const w=cy(g.canSeeViewProviders);g.resolving=!0;const C=g.injectImpl?An(g.injectImpl):null;Od(s,c,qe.Default);try{d=s[a]=g.factory(void 0,f,s,c),o.firstCreatePass&&a>=c.directiveStart&&function Ee(s,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const g=il(o);(a.preOrderHooks??=[]).push(s,g),(a.preOrderCheckHooks??=[]).push(s,g)}d&&(a.preOrderHooks??=[]).push(0-s,d),f&&((a.preOrderHooks??=[]).push(s,f),(a.preOrderCheckHooks??=[]).push(s,f))}(a,f[a],o)}finally{null!==C&&An(C),cy(w),g.resolving=!1,sy()}}return d}function Eb(s,o,a){return!!(a[o+(s>>dy)]&1<<s)}function bb(s,o){return!(s&qe.Self||s&qe.Host&&o)}class cl{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return wb(this._tNode,this._lView,o,ar(c),a)}}function AS(){return new cl(an(),ve())}function Ss(s){return gr(()=>{const o=s.prototype.constructor,a=o[Gr]||Bd(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[Gr]||Bd(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Bd(s){return Xe(s)?()=>{const o=Bd(xe(s));return o&&o()}:zs(s)}function Qf(s){const o=s[Ke],a=o.type;return 2===a?o.declTNode:1===a?s[Fn]:null}function _y(s){return function DS(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(so(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===o)return a[d+1];d+=2}}}return null}(an(),s)}const mu="__parameters__";function hc(s,o,a){return gr(()=>{const c=function dc(s){return function(...a){if(s){const c=s(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const g=new d(...f);return w.annotation=g,w;function w(C,x,O){const $=C.hasOwnProperty(mu)?C[mu]:Object.defineProperty(C,mu,{value:[]})[mu];for(;$.length<=O;)$.push(null);return($[O]=$[O]||[]).push(g),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}function Hd(s,o){s.forEach(a=>Array.isArray(a)?Hd(a,o):o(a))}function Db(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Xf(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function zd(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function us(s,o,a){let c=fc(s,o);return c>=0?s[1|c]=a:(c=~c,function Sb(s,o,a,c){let d=s.length;if(d==o)s.push(a,c);else if(1===d)s.push(c,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function Ey(s,o){const a=fc(s,o);if(a>=0)return s[1|a]}function fc(s,o){return function Ab(s,o,a){let c=0,d=s.length>>a;for(;d!==c;){const f=c+(d-c>>1),g=s[f<<a];if(o===g)return f<<a;g>o?d=f:c=f+1}return~(d<<a)}(s,o,1)}const Ws=vs(hc("Optional"),8),Sa=vs(hc("SkipSelf"),4);function rp(s){return 128==(128&s.flags)}var bo=(()=>((bo=bo||{})[bo.Important=1]="Important",bo[bo.DashCase=2]="DashCase",bo))();const Ub=new Map;let Mk=0;const hl="__ngContext__";function Sr(s,o){xn(o)?(s[hl]=o[ss],function Nk(s){Ub.set(s[ss],s)}(o)):s[hl]=o}let qb;function Wb(s,o){return qb(s,o)}function Yd(s){const o=s[Ht];return bn(o)?o[Ht]:o}function xy(s){return JS(s[Bs])}function Qd(s){return JS(s[lr])}function JS(s){for(;null!==s&&!bn(s);)s=s[lr];return s}function gc(s,o,a,c,d){if(null!=c){let f,g=!1;bn(c)?f=c:xn(c)&&(g=!0,c=c[Mn]);const w=le(c);0===s&&null!==a?null==d?Xb(o,a,w):vu(o,a,w,d||null,!0):1===s&&null!==a?vu(o,a,w,d||null,!0):2===s?function dp(s,o,a){const c=Xd(s,o);c&&function Zb(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}(o,w,g):3===s&&o.destroyNode(w),null!=f&&function rA(s,o,a,c,d){const f=a[Pr];f!==le(a)&&gc(o,s,c,f,d);for(let w=Un;w<a.length;w++){const C=a[w];th(C[Ke],C,s,o,c,f)}}(o,s,f,a,d)}}function up(s,o,a){return s.createElement(o,a)}function Yb(s,o){const a=s[ai],c=a.indexOf(o);as(o),a.splice(c,1)}function Ry(s,o){if(s.length<=Un)return;const a=Un+o,c=s[a];if(c){const d=c[ho];null!==d&&d!==s&&Yb(d,c),o>0&&(s[a-1][lr]=c[lr]);const f=Xf(s,Un+o);!function ZS(s,o){th(s,o,o[It],2,null,null),o[Mn]=null,o[Fn]=null}(c[Ke],c);const g=f[bi];null!==g&&g.detachView(f[Ke]),c[Ht]=null,c[lr]=null,c[wt]&=-129}return c}function Qb(s,o){if(!(256&o[wt])){const a=o[It];o[Yr]?.destroy(),o[Ci]?.destroy(),a.destroyNode&&th(s,o,a,3,null,null),function Ny(s){let o=s[Bs];if(!o)return _u(s[Ke],s);for(;o;){let a=null;if(xn(o))a=o[Bs];else{const c=o[Un];c&&(a=c)}if(!a){for(;o&&!o[lr]&&o!==s;)xn(o)&&_u(o[Ke],o),o=o[Ht];null===o&&(o=s),xn(o)&&_u(o[Ke],o),a=o&&o[lr]}o=a}}(o)}}function _u(s,o){if(!(256&o[wt])){o[wt]&=-129,o[wt]|=256,function Vk(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof na)){const f=a[c+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const w=d[f[g]],C=f[g+1];F(4,w,C);try{C.call(w)}finally{F(5,w,C)}}else{F(4,d,f);try{f.call(d)}finally{F(5,d,f)}}}}}(s,o),function Lk(s,o){const a=s.cleanup,c=o[is];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const g=a[f+3];g>=0?c[g]():c[-g].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(o[is]=null);const d=o[Ii];if(null!==d){o[Ii]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(s,o),1===o[Ke].type&&o[It].destroy();const a=o[ho];if(null!==a&&bn(o[Ht])){a!==o[Ht]&&Yb(a,o);const c=o[bi];null!==c&&c.detachView(s)}!function Rk(s){Ub.delete(s[ss])}(o)}}function Py(s,o,a){return function ky(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[Mn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=s.data[c.directiveStart+d];if(f===mr.None||f===mr.Emulated)return null}return I(c,a)}}(s,o.parent,a)}function vu(s,o,a,c,d){s.insertBefore(o,a,c,d)}function Xb(s,o,a){s.appendChild(o,a)}function Jb(s,o,a,c,d){null!==c?vu(s,o,a,c,d):Xb(s,o,a)}function Xd(s,o){return s.parentNode(o)}function lp(s,o,a){return n0(s,o,a)}let Jd,hp,jy,fp,n0=function t0(s,o,a){return 40&s.type?I(s,a):null};function cp(s,o,a,c){const d=Py(s,c,o),f=o[It],w=lp(c.parent||o[Fn],c,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)Jb(f,d,a[C],w,!1);else Jb(f,d,a,w,!1);void 0!==Jd&&Jd(f,c,o,a,d)}function Zd(s,o){if(null!==o){const a=o.type;if(3&a)return I(o,s);if(4&a)return eh(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return Zd(s,c);{const d=s[o.index];return bn(d)?eh(-1,d):le(d)}}if(32&a)return Wb(o,s)()||le(s[o.index]);{const c=xa(s,o);return null!==c?Array.isArray(c)?c[0]:Zd(Yd(s[Ln]),c):Zd(s,o.next)}}return null}function xa(s,o){return null!==o?s[Ln][Fn].projection[o.projection]:null}function eh(s,o){const a=Un+s+1;if(a<o.length){const c=o[a],d=c[Ke].firstChild;if(null!==d)return Zd(c,d)}return o[Pr]}function Fy(s,o,a,c,d,f,g){for(;null!=a;){const w=c[a.index],C=a.type;if(g&&0===o&&(w&&Sr(le(w),c),a.flags|=2),32!=(32&a.flags))if(8&C)Fy(s,o,a.child,c,d,f,!1),gc(o,s,d,w,f);else if(32&C){const x=Wb(a,c);let O;for(;O=x();)gc(o,s,d,O,f);gc(o,s,d,w,f)}else 16&C?Vy(s,o,c,a,d,f):gc(o,s,d,w,f);a=g?a.projectionNext:a.next}}function th(s,o,a,c,d,f){Fy(a,c,s.firstChild,o,d,f,!1)}function Vy(s,o,a,c,d,f){const g=a[Ln],C=g[Fn].projection[c.projection];if(Array.isArray(C))for(let x=0;x<C.length;x++)gc(o,s,d,C[x],f);else{let x=C;const O=g[Ht];rp(c)&&(x.flags|=128),Fy(s,o,x,O,d,f,!0)}}function Uy(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function wu(s,o,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&Uo(s,o,c),null!==d&&Uy(s,o,d),null!==f&&function By(s,o,a){s.setAttribute(o,"style",a)}(s,o,f)}function mc(s){return function $y(){if(void 0===hp&&(hp=null,mn.trustedTypes))try{hp=mn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return hp}()?.createHTML(s)||s}function uA(s){jy=s}function nh(){if(void 0!==jy)return jy;if(typeof document<"u")return document;throw new je(210,!1)}function Hy(){if(void 0===fp&&(fp=null,mn.trustedTypes))try{fp=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return fp}function s0(s){return Hy()?.createHTML(s)||s}function a0(s){return Hy()?.createScriptURL(s)||s}class fl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bn})`}}class lA extends fl{getTypeName(){return"HTML"}}class cA extends fl{getTypeName(){return"Style"}}class dA extends fl{getTypeName(){return"Script"}}class hA extends fl{getTypeName(){return"URL"}}class fA extends fl{getTypeName(){return"ResourceURL"}}function Na(s){return s instanceof fl?s.changingThisBreaksApplicationSecurity:s}function yc(s,o){const a=function pA(s){return s instanceof fl&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${Bn})`)}return a===o}function gA(s){return new lA(s)}function pp(s){return new cA(s)}function mA(s){return new dA(s)}function pl(s){return new hA(s)}function gp(s){return new fA(s)}class Uk{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(mc(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class Mi{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=mc(o),a}}const $k=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zy(s){return(s=String(s)).match($k)?s:"unsafe:"+s}function Ra(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Ms(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const l0=Ra("area,br,col,hr,img,wbr"),Pa=Ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gy=Ra("rp,rt"),rh=Ms(l0,Ms(Pa,Ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ms(Gy,Ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ms(Gy,Pa)),Rn=Ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),c0=Ms(Rn,Ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_A=Ra("script,style,template");class ih{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!rh.hasOwnProperty(a))return this.sanitizedSomething=!0,!_A.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),g=f.name,w=g.toLowerCase();if(!c0.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let C=f.value;Rn[w]&&(C=zy(C)),this.buf.push(" ",g,'="',h0(C),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();rh.hasOwnProperty(a)&&!l0.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(h0(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Wy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d0=/([^\#-~ |!])/g;function h0(s){return s.replace(/&/g,"&amp;").replace(Wy,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(d0,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _c;function Ky(s,o){let a=null;try{_c=_c||function u0(s){const o=new Mi(s);return function gl(){try{return!!(new window.DOMParser).parseFromString(mc(""),"text/html")}catch{return!1}}()?new Uk(o):o}(s);let c=o?String(o):"";a=_c.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=a.innerHTML,a=_c.getInertBodyElement(c)}while(c!==f);return mc((new ih).sanitizeChildren(sh(a)||a))}finally{if(a){const c=sh(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function sh(s){return"content"in s&&function f0(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var wr=(()=>((wr=wr||{})[wr.NONE=0]="NONE",wr[wr.HTML=1]="HTML",wr[wr.STYLE=2]="STYLE",wr[wr.SCRIPT=3]="SCRIPT",wr[wr.URL=4]="URL",wr[wr.RESOURCE_URL=5]="RESOURCE_URL",wr))();function p0(s){const o=vc();return o?s0(o.sanitize(wr.HTML,s)||""):yc(s,"HTML")?s0(Na(s)):Ky(nh(),Y(s))}function mp(s){const o=vc();return o?o.sanitize(wr.URL,s)||"":yc(s,"URL")?Na(s):zy(Y(s))}function g0(s){const o=vc();if(o)return a0(o.sanitize(wr.RESOURCE_URL,s)||"");if(yc(s,"ResourceURL"))return a0(Na(s));throw new je(904,!1)}function y0(s,o,a){return function bA(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?g0:mp}(o,a)(s)}function vc(){const s=ve();return s&&s[Bi].sanitizer}class vn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=nn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const oh=new vn("ENVIRONMENT_INITIALIZER"),Yy=new vn("INJECTOR",-1),yp=new vn("INJECTOR_DEF_TYPES");class Qy{get(o,a=zr){if(a===zr){const c=new Error(`NullInjectorError: No provider for ${se(o)}!`);throw c.name="NullInjectorError",c}return a}}function ah(s){return{\u0275providers:s}}function Xy(...s){return{\u0275providers:_0(0,s),\u0275fromNgModule:!0}}function _0(s,...o){const a=[],c=new Set;let d;return Hd(o,f=>{const g=f;uh(g,a,[],c)&&(d||=[],d.push(g))}),void 0!==d&&v0(d,a),a}function v0(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];Jy(d,f=>{o.push(f)})}}function uh(s,o,a,c){if(!(s=xe(s)))return!1;let d=null,f=ms(s);const g=!f&&Vt(s);if(f||g){if(g&&!g.standalone)return!1;d=s}else{const C=s.ngModule;if(f=ms(C),!f)return!1;d=C}const w=c.has(d);if(g){if(w)return!1;if(c.add(d),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const x of C)uh(x,o,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let x;c.add(d);try{Hd(f.imports,O=>{uh(O,o,a,c)&&(x||=[],x.push(O))})}finally{}void 0!==x&&v0(x,o)}if(!w){const x=zs(d)||(()=>new d);o.push({provide:d,useFactory:x,deps:jt},{provide:yp,useValue:d,multi:!0},{provide:oh,useValue:()=>At(d),multi:!0})}const C=f.providers;null==C||w||Jy(C,O=>{o.push(O)})}}return d!==s&&void 0!==s.providers}function Jy(s,o){for(let a of s)Hn(a)&&(a=a.\u0275providers),Array.isArray(a)?Jy(a,o):o(a)}const CA=Se({provide:String,useValue:Se});function ra(s){return null!==s&&"object"==typeof s&&CA in s}function wc(s){return"function"==typeof s}const Zy=new vn("Set Injector scope."),Ec={},E0={};let vp;function bc(){return void 0===vp&&(vp=new Qy),vp}class Eu{}class wp extends Eu{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lh(o,g=>this.processProvider(g)),this.records.set(Yy,Ic(void 0,this)),d.has("environment")&&this.records.set(Eu,Ic(void 0,this));const f=this.records.get(Zy);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(yp.multi,jt,qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=We(this),c=An(void 0);try{return o()}finally{We(a),An(c)}}get(o,a=zr,c=qe.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(io))return o[io](this);c=ar(c);const d=We(this),f=An(void 0);try{if(!(c&qe.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function I0(s){return"function"==typeof s||"object"==typeof s&&s instanceof vn}(o)&&gt(o);w=C&&this.injectableDefInScope(C)?Ic(Ep(o),Ec):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(c&qe.Self?bc():this.parent).get(o,a=c&qe.Optional&&a===zr?null:a)}catch(g){if("NullInjectorError"===g.name){if((g[fr]=g[fr]||[]).unshift(se(o)),d)throw g;return function zn(s,o,a,c){const d=s[fr];throw o[H]&&d.unshift(o[H]),s.message=function Lo(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=se(o);if(Array.isArray(o))d=o.map(se).join(" -> ");else if("object"==typeof o){let f=[];for(let g in o)if(o.hasOwnProperty(g)){let w=o[g];f.push(g+":"+("string"==typeof w?JSON.stringify(w):se(w)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${s.replace(ce,"\n  ")}`}("\n"+s.message,d,a,c),s.ngTokenPath=d,s[fr]=null,s}(g,o,"R3InjectorError",this.source)}throw g}finally{An(f),We(d)}}resolveInjectorInitializers(){const o=We(this),a=An(void 0);try{const c=this.get(oh.multi,jt,qe.Self);for(const d of c)d()}finally{We(o),An(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(se(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(o){let a=wc(o=xe(o))?o:xe(o&&o.provide);const c=function SA(s){return ra(s)?Ic(void 0,s.useValue):Ic(b0(s),Ec)}(o);if(wc(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Ic(void 0,Ec,!0),d.factory=()=>pr(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Ec&&(a.value=E0,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ka(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=xe(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Ep(s){const o=gt(s),a=null!==o?o.factory:zs(s);if(null!==a)return a;if(s instanceof vn)throw new je(204,!1);if(s instanceof Function)return function TA(s){const o=s.length;if(o>0)throw zd(o,"?"),new je(204,!1);const a=function hr(s){return s&&(s[On]||s[Sn])||null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new je(204,!1)}function b0(s,o,a){let c;if(wc(s)){const d=xe(s);return zs(d)||Ep(d)}if(ra(s))c=()=>xe(s.useValue);else if(function w0(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...pr(s.deps||[]));else if(function _p(s){return!(!s||!s.useExisting)}(s))c=()=>At(xe(s.useExisting));else{const d=xe(s&&(s.useClass||s.provide));if(!function AA(s){return!!s.deps}(s))return zs(d)||Ep(d);c=()=>new d(...pr(s.deps))}return c}function Ic(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function lh(s,o){for(const a of s)Array.isArray(a)?lh(a,o):a&&Hn(a)?lh(a.\u0275providers,o):o(a)}const e_=new vn("AppId",{providedIn:"root",factory:()=>t_}),t_="ng",bp=new vn("Platform Initializer"),Ip=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),n_=new vn("AnimationModuleType"),r_=new vn("CSP nonce",{providedIn:"root",factory:()=>nh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let l_=(s,o)=>null;function bu(s,o){return l_(s,o)}class PA{}class S0{}class x0{resolveComponentFactory(o){throw function f_(s){const o=Error(`No component factory found for ${se(s)}.`);return o.ngComponent=s,o}(o)}}let fh=(()=>{class s{}return s.NULL=new x0,s})();function kA(){return Tc(an(),ve())}function Tc(s,o){return new _l(I(s,o))}let _l=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=kA,s})();function OA(s){return s instanceof _l?s.nativeElement:s}class Mp{}let p_=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function FA(){const s=ve(),a=Ne(an().index,s);return(xn(a)?a:s)[It]}(),s})(),g_=(()=>{class s{}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>null}),s})();class m_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const N0=new m_("16.0.4"),ph={};function Sc(s){for(;s;){s[wt]|=64;const o=Yd(s);if(ya(s)&&!o)return s;s=o}return null}function y_(s){return s.ngOriginalError}class Ac{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&y_(o);for(;a&&y_(a);)a=y_(a);return a||null}}const P0=new vn("",{providedIn:"root",factory:()=>!1});function Cu(s){return s instanceof Function?s():s}class Rp extends Gs{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){Sc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,a,c){const d=$n(this);this.trackingVersion++;try{o(a,c)}finally{$n(d)}}destroy(){this.trackingVersion++}}let gh=null;function F0(){return gh??=new Rp,gh}function b_(s,o){return s[o]??F0()}function L0(s,o){const a=F0();a.hasReadASignal&&(s[o]=gh,a.lView=s,gh=new Rp)}const mt={};function V0(s){B0(Wt(),ve(),Ai()+s,!1)}function B0(s,o,a,c){if(!c)if(3==(3&o[wt])){const f=s.preOrderCheckHooks;null!==f&&at(o,f,a)}else{const f=s.preOrderHooks;null!==f&&sn(o,f,0,a)}pu(a)}function zA(s,o=null,a=null,c){const d=GA(s,o,a,c);return d.resolveInjectorInitializers(),d}function GA(s,o=null,a=null,c,d=new Set){const f=[a||jt,Xy(s)];return c=c||("object"==typeof s?void 0:se(s)),new wp(f,o||bc(),c||null,d)}let vl=(()=>{class s{static create(a,c){if(Array.isArray(a))return zA({name:""},c,a,"");{const d=a.name??"";return zA({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=zr,s.NULL=new Qy,s.\u0275prov=nn({token:s,providedIn:"any",factory:()=>At(Yy)}),s.__NG_ELEMENT_ID__=-1,s})();function La(s,o=qe.Default){const a=ve();return null===a?At(s,o):wb(an(),a,xe(s),o)}function qA(){throw new Error("invalid")}function Pp(s,o,a,c,d,f,g,w,C,x,O){const $=o.blueprint.slice();return $[Mn]=d,$[wt]=140|c,(null!==x||s&&2048&s[wt])&&($[wt]|=2048),vr($),$[Ht]=$[Ui]=s,$[yn]=a,$[Bi]=g||s&&s[Bi],$[It]=w||s&&s[It],$[wi]=C||s&&s[wi]||null,$[Fn]=f,$[ss]=function xk(){return Mk++}(),$[Kr]=O,$[$s]=x,$[Ln]=2==o.type?s[Ln]:$,$}function Mc(s,o,a,c,d){let f=s.data[o];if(null===f)f=function T_(s,o,a,c,d){const f=oc(),g=du(),C=s.data[o]=function Zk(s,o,a,c,d,f){let g=o?o.injectorIndex:-1,w=0;return mo()&&(w|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,a,o,c,d);return null===s.firstChild&&(s.firstChild=C),null!==f&&(g?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C,C.prev=f)),C}(s,o,a,c,d),function ny(){return St.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const g=function Da(){const s=St.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===g?-1:g.injectorIndex}return yo(f,!0),f}function mh(s,o,a,c){if(0===a)return-1;const d=o.length;for(let f=0;f<a;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function z0(s,o,a,c,d){const f=b_(o,Yr),g=Ai(),w=2&c;try{if(pu(-1),w&&o.length>Bt&&B0(s,o,Bt,!1),F(w?2:0,d),w)f.runInContext(a,c,d);else{const x=$n(null);try{a(c,d)}finally{$n(x)}}}finally{w&&null===o[Yr]&&L0(o,Yr),pu(g),F(w?3:1,d)}}function S_(s,o,a){if(Wo(o)){const c=$n(null);try{const f=o.directiveEnd;for(let g=o.directiveStart;g<f;g++){const w=s.data[g];w.contentQueries&&w.contentQueries(1,a[g],g)}}finally{$n(c)}}}function A_(s,o,a){cu()&&(function R_(s,o,a,c){const d=a.directiveStart,f=a.directiveEnd;ui(a)&&function X0(s,o,a){const c=I(o,s),g=yh(s,Pp(s,G0(a),null,a.onPush?64:16,c,o,null,s[Bi].rendererFactory.createRenderer(c,a),null,null,null));s[o.index]=g}(o,a,s.data[d+a.componentOffset]),s.firstCreatePass||Yf(a,o),Sr(c,o);const g=a.initialInputs;for(let w=d;w<f;w++){const C=s.data[w],x=ll(o,s,w,a);Sr(x,o),null!==g&&iM(0,w-d,x,C,0,g),li(C)&&(Ne(a.index,o)[yn]=ll(o,s,w,a))}}(s,o,a,I(a,o)),64==(64&a.flags)&&Q0(s,o,a))}function M_(s,o,a=I){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const g=c[f+1],w=-1===g?a(o,s):s[g];s[d++]=w}}}function G0(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=xc(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function xc(s,o,a,c,d,f,g,w,C,x,O){const $=Bt+c,K=$+d,Z=function wl(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:mt);return a}($,K),ge="function"==typeof x?x():x;return Z[Ke]={type:s,blueprint:Z,template:a,queries:null,viewQuery:w,declTNode:o,data:Z.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:ge,incompleteFirstPass:!1,ssrId:O}}let q0=s=>null;function kp(s,o,a,c){for(let d in s)if(s.hasOwnProperty(d)){a=null===a?{}:a;const f=s[d];null===c?W0(a,o,d,f):c.hasOwnProperty(d)&&W0(a,o,c[d],f)}return a}function W0(s,o,a,c){s.hasOwnProperty(a)?s[a].push(o,c):s[a]=[o,c]}function ls(s,o,a,c,d,f,g,w){const C=I(o,a);let O,x=o.inputs;!w&&null!=x&&(O=x[c])?(sa(s,a,O,c,d),ui(o)&&function K0(s,o){const a=Ne(o,s);16&a[wt]||(a[wt]|=64)}(a,o.index)):3&o.type&&(c=function ZA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=g?g(d,o.value||"",c):d,f.setProperty(C,c,d))}function Op(s,o,a,c){if(cu()){const d=null===c?null:{"":-1},f=function P_(s,o){const a=s.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const g=a[f];if(Ls(o,g.selectors,!1))if(c||(c=[]),li(g))if(null!==g.findHostDirectiveDefs){const w=[];d=d||new Map,g.findHostDirectiveDefs(g,w,d),c.unshift(...w,g),k_(s,o,w.length)}else c.unshift(g),k_(s,o,0);else d=d||new Map,g.findHostDirectiveDefs?.(g,c,d),c.push(g)}return null===c?null:[c,d]}(s,a);let g,w;null===f?g=w=null:[g,w]=f,null!==g&&Fp(s,o,a,g,d,w),d&&function nM(s,o,a){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=a[o[d+1]];if(null==f)throw new je(-301,!1);c.push(o[d],f)}}}(a,c,d)}a.mergedAttrs=Fs(a.mergedAttrs,a.attrs)}function Fp(s,o,a,c,d,f){for(let x=0;x<c.length;x++)gy(Yf(a,o),s,c[x].type);!function Va(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,c.length);for(let x=0;x<c.length;x++){const O=c[x];O.providersResolver&&O.providersResolver(O)}let g=!1,w=!1,C=mh(s,o,c.length,null);for(let x=0;x<c.length;x++){const O=c[x];a.mergedAttrs=Fs(a.mergedAttrs,O.hostAttrs),O_(s,a,o,C,O),rM(C,O,d),null!==O.contentQueries&&(a.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=64);const $=O.type.prototype;!g&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks??=[]).push(a.index),g=!0),!w&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(a.index),w=!0),C++}!function x_(s,o,a){const d=o.directiveEnd,f=s.data,g=o.attrs,w=[];let C=null,x=null;for(let O=o.directiveStart;O<d;O++){const $=f[O],K=a?a.get($):null,ge=K?K.outputs:null;C=kp($.inputs,O,C,K?K.inputs:null),x=kp($.outputs,O,x,ge);const be=null===C||null===g||es(o)?null:J0(C,O,g);w.push(be)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=C,o.outputs=x}(s,a,f)}function Q0(s,o,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,g=function hb(){return St.lFrame.currentDirectiveIndex}();try{pu(f);for(let w=c;w<d;w++){const C=s.data[w],x=o[w];fu(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&tM(C,x)}}finally{pu(-1),fu(g)}}function tM(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function k_(s,o,a){o.componentOffset=a,(s.components??=[]).push(o.index)}function rM(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;li(o)&&(a[""]=s)}}function O_(s,o,a,c,d){s.data[c]=d;const f=d.factory||(d.factory=zs(d.type)),g=new na(f,li(d),La);s.blueprint[c]=g,a[c]=g,function Y0(s,o,a,c,d){const f=d.hostBindings;if(f){let g=s.hostBindingOpCodes;null===g&&(g=s.hostBindingOpCodes=[]);const w=~o.index;(function N_(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(g)!=w&&g.push(w),g.push(a,c,f)}}(s,o,c,mh(s,a,d.hostVars,mt),d)}function Ks(s,o,a,c,d,f){const g=I(s,o);!function F_(s,o,a,c,d,f,g){if(null==f)s.removeAttribute(o,d,a);else{const w=null==g?Y(f):g(f,c||"",d);s.setAttribute(o,d,w,a)}}(o[It],g,f,s.value,a,c,d)}function iM(s,o,a,c,d,f){const g=f[o];if(null!==g)for(let w=0;w<g.length;)Lp(c,a,g[w++],g[w++],g[w++])}function Lp(s,o,a,c,d){const f=$n(null);try{null!==s.setInput?s.setInput(o,d,a,c):o[c]=d}finally{$n(f)}}function J0(s,o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(s.hasOwnProperty(f)){null===c&&(c=[]);const g=s[f];for(let w=0;w<g.length;w+=2)if(g[w]===o){c.push(f,g[w+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Z0(s,o,a,c){return[s,!0,!1,o,null,0,c,a,null,null,null]}function eI(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const g=s.data[f];kd(a[c]),g.contentQueries(2,o[f],f)}}}function yh(s,o){return s[Bs]?s[Us][lr]=o:s[Bs]=o,s[Us]=o,o}function L_(s,o,a){kd(0);const c=$n(null);try{o(s,a)}finally{$n(c)}}function tI(s){return s[is]||(s[is]=[])}function nI(s){return s.cleanup||(s.cleanup=[])}function oM(s,o){const a=s[wi],c=a?a.get(Ac,null):null;c&&c.handleError(o)}function sa(s,o,a,c,d){for(let f=0;f<a.length;){const g=a[f++],w=a[f++];Lp(s.data[g],o[g],c,w,d)}}function aM(s,o){const a=Ne(o,s),c=a[Ke];!function V_(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])}(c,a);const d=a[Mn];null!==d&&null===a[Kr]&&(a[Kr]=bu(d,a[wi])),B_(c,a,a[yn])}function B_(s,o,a){qf(o);try{const c=s.viewQuery;null!==c&&L_(1,c,a);const d=s.template;null!==d&&z0(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&eI(s,o),s.staticViewQueries&&L_(2,s.viewQuery,a);const f=s.components;null!==f&&function iI(s,o){for(let a=0;a<o.length;a++)aM(s,o[a])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[wt]&=-5,oy()}}let sI=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const f=typeof Zone>"u"?null:Zone.current,g=new rc(a,x=>{this.all.has(x)&&this.queue.set(x,f)},d);let w;this.all.add(g),g.notify();const C=()=>{g.cleanup(),w?.(),this.all.delete(g),this.queue.delete(g)};return w=c?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>new s}),s})();function oa(s,o,a){let c=a?s.styles:null,d=a?s.classes:null,f=0;if(null!==o)for(let g=0;g<o.length;g++){const w=o[g];"number"==typeof w?f=w:1==f?d=Be(d,w):2==f&&(c=Be(c,w+": "+o[++g]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=d:s.classesWithoutHost=d}function El(s,o,a,c,d=!1){for(;null!==a;){const f=o[a.index];if(null!==f&&c.push(le(f)),bn(f)){for(let w=Un;w<f.length;w++){const C=f[w],x=C[Ke].firstChild;null!==x&&El(C[Ke],C,x,c)}f[Pr]!==f[Mn]&&c.push(f[Pr])}const g=a.type;if(8&g)El(s,o,a.child,c);else if(32&g){const w=Wb(a,o);let C;for(;C=w();)c.push(C)}else if(16&g){const w=xa(o,a);if(Array.isArray(w))c.push(...w);else{const C=Yd(o[Ln]);El(C[Ke],C,w,c,!0)}}a=d?a.projectionNext:a.next}return c}function Nc(s,o,a,c=!0){const d=o[Bi].rendererFactory;d.begin&&d.begin();try{Rc(s,o,s.template,a)}catch(g){throw c&&oM(o,g),g}finally{d.end&&d.end(),o[Bi].effectManager?.flush()}}function Rc(s,o,a,c){const d=o[wt];if(256!=(256&d)){o[Bi].effectManager?.flush(),qf(o);try{vr(o),function Ta(s){return St.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&z0(s,o,a,2,c);const g=3==(3&d);if(g){const x=s.preOrderCheckHooks;null!==x&&at(o,x,null)}else{const x=s.preOrderHooks;null!==x&&sn(o,x,0,null),Qn(o,0)}if(function dM(s){for(let o=xy(s);null!==o;o=Qd(o)){if(!o[ru])continue;const a=o[ai];for(let c=0;c<a.length;c++){os(a[c])}}}(o),function j_(s){for(let o=xy(s);null!==o;o=Qd(o))for(let a=Un;a<o.length;a++){const c=o[a],d=c[Ke];en(c)&&Rc(d,c,d.template,c[yn])}}(o),null!==s.contentQueries&&eI(s,o),g){const x=s.contentCheckHooks;null!==x&&at(o,x)}else{const x=s.contentHooks;null!==x&&sn(o,x,1),Qn(o,1)}!function WA(s,o){const a=s.hostBindingOpCodes;if(null===a)return;const c=b_(o,Ci);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)pu(~f);else{const g=f,w=a[++d],C=a[++d];ac(w,g),c.runInContext(C,2,o[g])}}}finally{null===o[Ci]&&L0(o,Ci),pu(-1)}}(s,o);const w=s.components;null!==w&&function hM(s,o){for(let a=0;a<o.length;a++)H_(s,o[a])}(o,w);const C=s.viewQuery;if(null!==C&&L_(2,C,c),g){const x=s.viewCheckHooks;null!==x&&at(o,x)}else{const x=s.viewHooks;null!==x&&sn(o,x,2),Qn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[wt]&=-73,as(o)}finally{oy()}}}function H_(s,o){const a=Ne(o,s);if(en(a)){const c=a[Ke];80&a[wt]?Rc(c,a,c.template,a[yn]):a[Vs]>0&&_h(a)}}function _h(s){for(let c=xy(s);null!==c;c=Qd(c))for(let d=Un;d<c.length;d++){const f=c[d];if(en(f))if(1024&f[wt]){const g=f[Ke];Rc(g,f,g.template,f[yn])}else f[Vs]>0&&_h(f)}const a=s[Ke].components;if(null!==a)for(let c=0;c<a.length;c++){const d=Ne(a[c],s);en(d)&&d[Vs]>0&&_h(d)}}class Er{get rootNodes(){const o=this._lView,a=o[Ke];return El(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yn]}set context(o){this._lView[yn]=o}get destroyed(){return 256==(256&this._lView[wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Ht];if(bn(o)){const a=o[js],c=a?a.indexOf(this):-1;c>-1&&(Ry(o,c),Xf(a,c))}this._attachedToViewContainer=!1}Qb(this._lView[Ke],this._lView)}onDestroy(o){!function cr(s,o){if(256==(256&s[wt]))throw new je(911,!1);null===s[Ii]&&(s[Ii]=[]),s[Ii].push(o)}(this._lView,o)}markForCheck(){Sc(this._cdRefInjectingView||this._lView)}detach(){this._lView[wt]&=-129}reattach(){this._lView[wt]|=128}detectChanges(){Nc(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tA(s,o){th(s,o,o[It],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=o}}class fM extends Er{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Nc(o[Ke],o,o[yn],!1)}checkNoChanges(){}get context(){return null}}class Vp extends fh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Vt(o);return new bl(a,this.ngModule)}}function oI(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class aI{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=ar(c);const d=this.injector.get(o,ph,c);return d!==ph||a===ph?d:this.parentInjector.get(o,a,c)}}class bl extends S0{get inputs(){return oI(this.componentDef.inputs)}get outputs(){return oI(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function ur(s){return s.map(co).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let f=(d=d||this.ngModule)instanceof Eu?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const g=f?new aI(o,f):o,w=g.get(Mp,null);if(null===w)throw new je(407,!1);const O={rendererFactory:w,sanitizer:g.get(g_,null),effectManager:g.get(sI,null)},$=w.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",Z=c?function KA(s,o,a,c){const f=c.get(P0,!1)||a===mr.ShadowDom,g=s.selectRootElement(o,f);return function YA(s){q0(s)}(g),g}($,c,this.componentDef.encapsulation,g):up($,K,function z_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(K)),ge=this.componentDef.onPush?576:528,be=xc(0,null,null,1,0,null,null,null,null,null,null),Ue=Pp(null,be,null,ge,null,null,O,$,g,null,null);let ut,_e;qf(Ue);try{const Et=this.componentDef;let Jt,In=null;Et.findHostDirectiveDefs?(Jt=[],In=new Map,Et.findHostDirectiveDefs(Et,Jt,In),Jt.push(Et)):Jt=[Et];const xo=function q_(s,o){const a=s[Ke],c=Bt;return s[c]=o,Mc(a,c,2,"#host",null)}(Ue,Z),dm=function lI(s,o,a,c,d,f,g){const w=d[Ke];!function pM(s,o,a,c){for(const d of s)o.mergedAttrs=Fs(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(oa(o,o.mergedAttrs,!0),null!==a&&wu(c,a,o))}(c,s,o,g);let C=null;null!==o&&(C=bu(o,d[wi]));const x=f.rendererFactory.createRenderer(o,a),O=Pp(d,G0(a),null,a.onPush?64:16,d[s.index],s,f,x,null,null,C);return w.firstCreatePass&&k_(w,s,c.length-1),yh(d,O),d[s.index]=O}(xo,Z,Et,Jt,Ue,O,$);_e=U(be,Bt),Z&&function W_(s,o,a,c){if(c)Uo(s,a,["ng-version",N0.full]);else{const{attrs:d,classes:f}=function Yl(s){const o=[],a=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&a.push(f);else{if(!Nr(d))break;d=f}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&Uo(s,a,d),f&&f.length>0&&Uy(s,a,f.join(" "))}}($,Et,Z,c),void 0!==a&&function cI(s,o,a){const c=s.projection=[];for(let d=0;d<o.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(_e,this.ngContentSelectors,a),ut=function gM(s,o,a,c,d,f){const g=an(),w=d[Ke],C=I(g,d);Fp(w,d,g,a,null,c);for(let O=0;O<a.length;O++)Sr(ll(d,w,g.directiveStart+O,g),d);Q0(w,d,g),C&&Sr(C,d);const x=ll(d,w,g.directiveStart+g.componentOffset,g);if(s[yn]=d[yn]=x,null!==f)for(const O of f)O(x,o);return S_(w,g,s),x}(dm,Et,Jt,In,Ue,[K_]),B_(be,Ue,null)}finally{oy()}return new G_(this.componentType,ut,Tc(_e,Ue),Ue,_e)}}class G_ extends PA{constructor(o,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new fM(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const f=this._rootLView;sa(f[Ke],f,d,o,a),this.previousInputValues.set(o,a),Sc(Ne(this._tNode.index,f))}}get injector(){return new cl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function K_(){const s=an();ot(ve()[Ke],s)}function vh(s){let o=function dI(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let d;if(li(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new je(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const g=s;g.inputs=wh(s.inputs),g.declaredInputs=wh(s.declaredInputs),g.outputs=wh(s.outputs);const w=d.hostBindings;w&&yM(s,w);const C=d.viewQuery,x=d.contentQueries;if(C&&mM(s,C),x&&Y_(s,x),Ie(s.inputs,d.inputs),Ie(s.declaredInputs,d.declaredInputs),Ie(s.outputs,d.outputs),li(d)&&d.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const w=f[g];w&&w.ngInherit&&w(s),w===vh&&(a=!1)}}o=Object.getPrototypeOf(o)}!function hI(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Fs(d.hostAttrs,a=Fs(a,d.hostAttrs))}}(c)}function wh(s){return s===vi?{}:s===jt?[]:s}function mM(s,o){const a=s.viewQuery;s.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function Y_(s,o){const a=s.contentQueries;s.contentQueries=a?(c,d,f)=>{o(c,d,f),a(c,d,f)}:o}function yM(s,o){const a=s.hostBindings;s.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}function Pc(s){return!!J_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function J_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Io(s,o,a){return s[o]=a}function xi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Eh(s,o,a,c){const d=ve();return xi(d,hu(),o)&&(Wt(),Ks(Nn(),d,s,o,a,c)),Eh}function Dl(s,o,a,c){return xi(s,hu(),a)?o+Y(a)+c:mt}function jp(s,o,a,c,d,f,g,w){const C=ve(),x=Wt(),O=s+Bt,$=x.firstCreatePass?function VM(s,o,a,c,d,f,g,w,C){const x=o.consts,O=Mc(o,s,4,g||null,rn(x,w));Op(o,a,O,rn(x,C)),ot(o,O);const $=O.tView=xc(2,O,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x,null);return null!==o.queries&&(o.queries.template(o,O),$.queries=o.queries.embeddedTView(O)),O}(O,x,C,o,a,c,d,f,g):x.data[O];yo($,!1);const K=SI(x,C,$,s);V()&&cp(x,C,K,$),Sr(K,C),yh(C,C[O]=Z0(K,C,K,$)),Ko($)&&A_(x,C,$),null!=g&&M_(C,$,w)}let SI=function Hp(s,o,a,c){return X(!0),o[It].createComment("")};function zp(s){return te(function Hf(){return St.lFrame.contextLView}(),Bt+s)}function av(s,o,a){const c=ve();return xi(c,hu(),o)&&ls(Wt(),Nn(),c,s,o,c[It],a,!1),av}function Mh(s,o,a,c,d){const g=d?"class":"style";sa(s,a,o.inputs[g],g,c)}function xh(s,o,a,c){const d=ve(),f=Wt(),g=Bt+s,w=d[It],C=f.firstCreatePass?function uv(s,o,a,c,d,f){const g=o.consts,C=Mc(o,s,2,c,rn(g,d));return Op(o,a,C,rn(g,f)),null!==C.attrs&&oa(C,C.attrs,!1),null!==C.mergedAttrs&&oa(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(g,f,d,o,a,c):f.data[g],x=Gp(f,d,C,w,o,s);d[g]=x;const O=Ko(C);return yo(C,!0),wu(w,x,C),32!=(32&C.flags)&&V()&&cp(f,d,x,C),0===function Uf(){return St.lFrame.elementDepthCount}()&&Sr(x,d),function Ti(){St.lFrame.elementDepthCount++}(),O&&(A_(f,d,C),S_(f,C,d)),null!==c&&M_(d,C),xh}function Nh(){let s=an();du()?al():(s=s.parent,yo(s,!1));const o=s;(function ty(s){return St.skipHydrationRootTNode===s})(o)&&function sc(){St.skipHydrationRootTNode=null}(),function cb(){St.lFrame.elementDepthCount--}();const a=Wt();return a.firstCreatePass&&(ot(a,s),Wo(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function IS(s){return 0!=(8&s.flags)}(o)&&Mh(a,o,ve(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Kf(s){return 0!=(16&s.flags)}(o)&&Mh(a,o,ve(),o.stylesWithoutHost,!1),Nh}function lv(s,o,a,c){return xh(s,o,a,c),Nh(),lv}let Gp=(s,o,a,c,d,f)=>(X(!0),up(c,d,function N(){return St.lFrame.currentNamespace}()));function Co(){return ve()}function Ph(s){return!!s&&"function"==typeof s.then}function HM(s){return!!s&&"function"==typeof s.subscribe}function hv(s,o,a,c){const d=ve(),f=Wt(),g=an();return function NI(s,o,a,c,d,f,g){const w=Ko(c),x=s.firstCreatePass&&nI(s),O=o[yn],$=tI(o);let K=!0;if(3&c.type||g){const be=I(c,o),Ue=g?g(be):be,ut=$.length,_e=g?Jt=>g(le(Jt[c.index])):c.index;let Et=null;if(!g&&w&&(Et=function iO(s,o,a,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===a&&d[f+1]===c){const w=o[is],C=d[f+2];return w.length>C?w[C]:null}"string"==typeof g&&(f+=2)}return null}(s,o,d,c.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=f,Et.__ngLastListenerFn__=f,K=!1;else{f=Wp(c,o,O,f,!1);const Jt=a.listen(Ue,d,f);$.push(f,Jt),x&&x.push(d,_e,ut,ut+1)}}else f=Wp(c,o,O,f,!1);const Z=c.outputs;let ge;if(K&&null!==Z&&(ge=Z[d])){const be=ge.length;if(be)for(let Ue=0;Ue<be;Ue+=2){const In=o[ge[Ue]][ge[Ue+1]].subscribe(f),xo=$.length;$.push(f,In),x&&x.push(d,c.index,xo,-(xo+1))}}}(f,d,d[It],g,s,o,c),hv}function RI(s,o,a,c){try{return F(6,o,a),!1!==a(c)}catch(d){return oM(s,d),!1}finally{F(7,o,a)}}function Wp(s,o,a,c,d){return function f(g){if(g===Function)return c;Sc(s.componentOffset>-1?Ne(s.index,o):o);let C=RI(o,a,c,g),x=f.__ngNextListenerFn__;for(;x;)C=RI(o,a,x,g)&&C,x=x.__ngNextListenerFn__;return d&&!1===C&&g.preventDefault(),C}}function zM(s=1){return function Fd(s){return(St.lFrame.contextLView=function fb(s,o){for(;s>0;)o=o[Ui],s--;return o}(s,St.lFrame.contextLView))[yn]}(s)}function sO(s,o){let a=null;const c=function uo(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===c?Ls(s,f,!0):lo(c,f))return d}else a=d}return a}function Kp(s){const o=ve()[Ln][Fn];if(!o.projection){const c=o.projection=zd(s?s.length:1,null),d=c.slice();let f=o.child;for(;null!==f;){const g=s?sO(f,s):0;null!==g&&(d[g]?d[g].projectionNext=f:c[g]=f,d[g]=f),f=f.next}}}function GM(s,o=0,a){const c=ve(),d=Wt(),f=Mc(d,Bt+s,16,null,a||null);null===f.projection&&(f.projection=o),al(),(!c[Kr]||mo())&&32!=(32&f.flags)&&function Ly(s,o,a){Vy(o[It],0,o,a,Py(s,a,o),lp(a.parent||o[Fn],a,o))}(d,c,f)}function PI(s,o,a){return kI(s,"",o,"",a),PI}function kI(s,o,a,c,d){const f=ve(),g=Dl(f,o,a,c);return g!==mt&&ls(Wt(),Nn(),f,s,g,f[It],d,!1),kI}function Sl(s,o){return s<<17|o<<2}function Su(s){return s>>17&32767}function Yp(s){return 2|s}function Do(s){return(131068&s)>>2}function Qp(s,o){return-131069&s|o<<2}function gv(s){return 1|s}function mv(s,o,a,c,d){const f=s[a+1],g=null===o;let w=c?Su(f):Do(f),C=!1;for(;0!==w&&(!1===C||g);){const O=s[w+1];UI(s[w],o)&&(C=!0,s[w+1]=c?gv(O):Yp(O)),w=c?Su(O):Do(O)}C&&(s[a+1]=c?Yp(f):gv(f))}function UI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&fc(s,o)>=0}const Xn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xp(s){return s.substring(Xn.key,Xn.keyEnd)}function Jp(s,o){const a=Xn.textEnd;return a===o?-1:(o=Xn.keyEnd=function uO(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Xn.key=o,a),kh(s,o,a))}function kh(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function wv(s,o,a){return aa(s,o,a,!1),wv}function Bc(s,o){return aa(s,o,null,!0),Bc}function Au(s){!function To(s,o,a,c){const d=Wt(),f=qs(2);d.firstUpdatePass&&jI(d,null,f,c);const g=ve();if(a!==mt&&xi(g,f,a)){const w=d.data[Ai()];if(GI(w,c)&&!$I(d,f)){let C=c?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(a=Be(C,a||"")),Mh(d,w,g,a,c)}else!function tx(s,o,a,c,d,f,g,w){d===mt&&(d=jt);let C=0,x=0,O=0<d.length?d[0]:null,$=0<f.length?f[0]:null;for(;null!==O||null!==$;){const K=C<d.length?d[C+1]:void 0,Z=x<f.length?f[x+1]:void 0;let be,ge=null;O===$?(C+=2,x+=2,K!==Z&&(ge=$,be=Z)):null===$||null!==O&&O<$?(C+=2,ge=O):(x+=2,ge=$,be=Z),null!==ge&&zI(s,o,a,c,ge,be,g,w),O=C<d.length?d[C]:null,$=x<f.length?f[x]:null}}(d,w,g,g[It],g[f+1],g[f+1]=function ZM(s,o,a){if(null==a||""===a)return jt;const c=[],d=Na(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)s(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&s(c,f,d[f]);else"string"==typeof d&&o(c,d);return c}(s,o,a),c,f)}}(ex,Ua,s,!0)}function Ua(s,o){for(let a=function _v(s){return function eg(s){Xn.key=0,Xn.keyEnd=0,Xn.value=0,Xn.valueEnd=0,Xn.textEnd=s.length}(s),Jp(s,kh(s,0,Xn.textEnd))}(o);a>=0;a=Jp(o,a))us(s,Xp(o),!0)}function aa(s,o,a,c){const d=ve(),f=Wt(),g=qs(2);f.firstUpdatePass&&jI(f,s,g,c),o!==mt&&xi(d,g,o)&&zI(f,f.data[Ai()],d,d[It],s,d[g+1]=function dO(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=se(Na(s)))),s}(o,a),c,g)}function $I(s,o){return o>=s.expandoStartIndex}function jI(s,o,a,c){const d=s.data;if(null===d[a+1]){const f=d[Ai()],g=$I(s,a);GI(f,c)&&null===o&&!g&&(o=!1),o=function Xs(s,o,a,c){const d=function zf(s){const o=St.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=xl(a=Ev(null,s,o,a,c),o.attrs,c),f=null);else{const g=o.directiveStylingLast;if(-1===g||s[g]!==d)if(a=Ev(d,s,o,a,c),null===f){let C=function Ml(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Do(c))return s[Su(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=Ev(null,s,o,C[1],c),C=xl(C,o.attrs,c),function ng(s,o,a,c){s[Su(a?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else f=function cO(s,o,a){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=xl(c,s[f].hostAttrs,a);return xl(c,o.attrs,a)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),a}(d,f,o,c),function aO(s,o,a,c,d,f){let g=f?o.classBindings:o.styleBindings,w=Su(g),C=Do(g);s[c]=a;let O,x=!1;if(Array.isArray(a)?(O=a[1],(null===O||fc(a,O)>0)&&(x=!0)):O=a,d)if(0!==C){const K=Su(s[w+1]);s[c+1]=Sl(K,w),0!==K&&(s[K+1]=Qp(s[K+1],c)),s[w+1]=function KM(s,o){return 131071&s|o<<17}(s[w+1],c)}else s[c+1]=Sl(w,0),0!==w&&(s[w+1]=Qp(s[w+1],c)),w=c;else s[c+1]=Sl(C,0),0===w?w=c:s[C+1]=Qp(s[C+1],c),C=c;x&&(s[c+1]=Yp(s[c+1])),mv(s,O,c,!0),mv(s,O,c,!1),function QM(s,o,a,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&fc(f,o)>=0&&(a[c+1]=gv(a[c+1]))}(o,O,s,c,f),g=Sl(w,C),f?o.classBindings=g:o.styleBindings=g}(d,f,o,a,g,c)}}function Ev(s,o,a,c,d){let f=null;const g=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<g&&(f=o[w],c=xl(c,f.hostAttrs,d),f!==s);)w++;return null!==s&&(a.directiveStylingLast=w),c}function xl(s,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const g=o[f];"number"==typeof g?d=g:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),us(s,g,!!a||o[++f]))}return void 0===s?null:s}function ex(s,o,a){const c=String(o);""!==c&&!c.includes(" ")&&us(s,c,a)}function zI(s,o,a,c,d,f,g,w){if(!(3&o.type))return;const C=s.data,x=C[w+1],O=function YM(s){return 1==(1&s)}(x)?nx(C,o,a,d,Do(x),g):void 0;bv(O)||(bv(f)||function BI(s){return 2==(2&s)}(x)&&(f=nx(C,null,a,d,w,g)),function iA(s,o,a,c,d){if(o)d?s.addClass(a,c):s.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:bo.DashCase;null==d?s.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=bo.Important),s.setStyle(a,c,d,f))}}(c,g,b(Ai(),a),d,f))}function nx(s,o,a,c,d,f){const g=null===o;let w;for(;d>0;){const C=s[d],x=Array.isArray(C),O=x?C[1]:C,$=null===O;let K=a[d+1];K===mt&&(K=$?jt:void 0);let Z=$?Ey(K,c):O===c?K:void 0;if(x&&!bv(Z)&&(Z=Ey(C,c)),bv(Z)&&(w=Z,g))return w;const ge=s[d+1];d=g?Su(ge):Do(ge)}if(null!==o){let C=f?o.residualClasses:o.residualStyles;null!=C&&(w=Ey(C,c))}return w}function bv(s){return void 0!==s}function GI(s,o){return 0!=(s.flags&(o?8:16))}function rx(s,o=""){const a=ve(),c=Wt(),d=s+Bt,f=c.firstCreatePass?Mc(c,d,1,o,null):c.data[d],g=ix(c,a,f,o,s);a[d]=g,V()&&cp(c,a,g,f),yo(f,!1)}let ix=(s,o,a,c,d)=>(X(!0),function Or(s,o){return s.createText(o)}(o[It],c));function rg(s){return ig("",s,""),rg}function ig(s,o,a){const c=ve(),d=Dl(c,s,o,a);return d!==mt&&function ci(s,o,a){const c=b(o,s);!function Zr(s,o,a){s.setValue(o,a)}(s[It],c,a)}(c,Ai(),d),ig}const So=void 0;var Rv=["en",[["a","p"],["AM","PM"],So],[["AM","PM"],So,So],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],So,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],So,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",So,"{1} 'at' {0}",So],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fx(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Mu={};function Bh(s){const o=function px(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=hg(o);if(a)return a;const c=o.split("-")[0];if(a=hg(c),a)return a;if("en"===c)return Rv;throw new je(701,!1)}function dg(s){return Bh(s)[Dt.PluralCase]}function hg(s){return s in Mu||(Mu[s]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[s]),Mu[s]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const Nl="en-US";let Ov=Nl;function jv(s,o,a,c,d){if(s=xe(s),Array.isArray(s))for(let f=0;f<s.length;f++)jv(s[f],o,a,c,d);else{const f=Wt(),g=ve();let w=wc(s)?s:xe(s.provide),C=b0(s);const x=an(),O=1048575&x.providerIndexes,$=x.directiveStart,K=x.providerIndexes>>20;if(wc(s)||!s.multi){const Z=new na(C,d,La),ge=zh(w,o,d?O:O+K,$);-1===ge?(gy(Yf(x,g),f,w),jn(f,s,o.length),o.push(w),x.directiveStart++,x.directiveEnd++,d&&(x.providerIndexes+=1048576),a.push(Z),g.push(Z)):(a[ge]=Z,g[ge]=Z)}else{const Z=zh(w,o,O+K,$),ge=zh(w,o,O,O+K),Ue=ge>=0&&a[ge];if(d&&!Ue||!d&&!(Z>=0&&a[Z])){gy(Yf(x,g),f,w);const ut=function zv(s,o,a,c,d){const f=new na(s,a,La);return f.multi=[],f.index=o,f.componentProviders=0,er(f,d,c&&!a),f}(d?Hv:EC,a.length,d,c,C);!d&&Ue&&(a[ge].providerFactory=ut),jn(f,s,o.length,0),o.push(w),x.directiveStart++,x.directiveEnd++,d&&(x.providerIndexes+=1048576),a.push(ut),g.push(ut)}else jn(f,s,Z>-1?Z:ge,er(a[d?ge:Z],C,!d&&c));!d&&c&&Ue&&a[ge].componentProviders++}}}function jn(s,o,a,c){const d=wc(o),f=function DA(s){return!!s.useClass}(o);if(d||f){const C=(f?xe(o.useClass):o).prototype.ngOnDestroy;if(C){const x=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const O=x.indexOf(a);-1===O?x.push(a,[c,C]):x[O+1].push(c,C)}else x.push(a,C)}}}function er(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function zh(s,o,a,c){for(let d=a;d<c;d++)if(o[d]===s)return d;return-1}function EC(s,o,a,c){return Ao(this.multi,[])}function Hv(s,o,a,c){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,w=ll(a,a[Ke],this.providerFactory.index,c);f=w.slice(0,g),Ao(d,f);for(let C=g;C<w.length;C++)f.push(w[C])}else f=[],Ao(d,f);return f}function Ao(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Gv(s,o=[]){return a=>{a.providersResolver=(c,d)=>function kx(s,o,a){const c=Wt();if(c.firstCreatePass){const d=li(s);jv(a,c.data,c.blueprint,d,!0),jv(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class qc{}class Wc{}function Ox(s,o){return new qv(s,o??null,[])}class qv extends qc{constructor(o,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vp(this);const d=Yn(o);this._bootstrapComponents=Cu(d.bootstrap),this._r3Injector=GA(o,a,[{provide:qc,useValue:this},{provide:fh,useValue:this.componentFactoryResolver},...c],se(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Gh extends Wc{constructor(o){super(),this.moduleType=o}create(o){return new qv(this.moduleType,o,[])}}class bg extends qc{constructor(o){super(),this.componentFactoryResolver=new Vp(this),this.instance=null;const a=new wp([...o.providers,{provide:qc,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],o.parent||bc(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Kc(s,o,a=null){return new bg({providers:s,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let NO=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=_0(0,a.type),d=c.length>0?Kc([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=nn({token:s,providedIn:"environment",factory:()=>new s(At(Eu))}),s})();function IC(s){s.getStandaloneInjector=o=>o.get(NO).getOrCreateStandaloneInjector(s)}function Xc(s,o){const a=s[o];return a===mt?void 0:a}function Qv(s,o,a,c,d,f,g){const w=o+a;return function Ba(s,o,a,c){const d=xi(s,o,a);return xi(s,o+1,c)||d}(s,w,d,f)?Io(s,w+2,g?c.call(g,d,f):c(d,f)):Xc(s,w+2)}function ew(s,o){const a=Wt();let c;const d=s+Bt;a.firstCreatePass?(c=function Tg(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??=[]).push(d,c.onDestroy)):c=a.data[d];const f=c.factory||(c.factory=zs(c.type)),g=An(La);try{const w=cy(!1),C=f();return cy(w),function UM(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,ve(),d,C),C}finally{An(g)}}function NC(s,o,a){const c=s+Bt,d=ve(),f=te(d,c);return Yh(d,c)?function Dg(s,o,a,c,d,f){const g=o+a;return xi(s,g,d)?Io(s,g+1,f?c.call(f,d):c(d)):Xc(s,g+1)}(d,Vn(),o,f.transform,a,f):f.transform(a)}function RC(s,o,a,c){const d=s+Bt,f=ve(),g=te(f,d);return Yh(f,d)?Qv(f,Vn(),o,g.transform,a,c,g):g.transform(a,c)}function Yh(s,o){return s[Ke].data[o].pure}function Sg(s){return o=>{setTimeout(s,void 0,o)}}const Js=class tw extends M.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,f=a||(()=>null),g=c;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),f=C.error?.bind(C),g=C.complete?.bind(C)}this.__isAsync&&(f=Sg(f),d&&(d=Sg(d)),g&&(g=Sg(g)));const w=super.subscribe({next:d,error:f,complete:g});return o instanceof v.w0&&o.add(w),w}};function OC(){return this._results[Symbol.iterator]()}class Ag{get changes(){return this._changes||(this._changes=new Js)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ag.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=OC)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function As(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function kS(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Jc=(()=>{class s{}return s.__NG_ELEMENT_ID__=FC,s})();const jx=Jc,nw=class extends jx{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a,null)}createEmbeddedViewImpl(o,a,c){const d=this._declarationTContainer.tView,f=Pp(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,a||null,c||null);f[ho]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[bi];return null!==w&&(f[bi]=w.createEmbeddedView(d)),B_(d,f,o),new Er(f)}};function FC(){return Mg(an(),ve())}function Mg(s,o){return 4&s.type?new nw(o,s,Tc(s,o)):null}let xg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Gx,s})();function Gx(){return ow(an(),ve())}const jC=xg,HC=class extends jC{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Tc(this._hostTNode,this._hostLView)}get injector(){return new cl(this._hostTNode,this._hostLView)}get parentInjector(){const o=py(this._hostTNode,this._hostLView);if(mb(o)){const a=ly(o,this._hostLView),c=Ld(o);return new cl(a[Ke].data[c+8],a)}return new cl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=iw(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Un}createEmbeddedView(o,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const w=o.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(w,d,false),w}createComponent(o,a,c,d,f){const g=o&&!function dl(s){return"function"==typeof s}(o);let w;if(g)w=a;else{const be=a||{};w=be.index,c=be.injector,d=be.projectableNodes,f=be.environmentInjector||be.ngModuleRef}const C=g?o:new bl(Vt(o)),x=c||this.parentInjector;if(!f&&null==C.ngModule){const Ue=(g?x:this.parentInjector).get(Eu,null);Ue&&(f=Ue)}Vt(C.componentType??{});const Z=C.create(x,d,null,f);return this.insertImpl(Z.hostView,w,false),Z}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,c){const d=o._lView,f=d[Ke];if(function cn(s){return bn(s[Ht])}(d)){const C=this.indexOf(o);if(-1!==C)this.detach(C);else{const x=d[Ht],O=new HC(x,x[Fn],x[Ht]);O.detach(O.indexOf(o))}}const g=this._adjustIndex(a),w=this._lContainer;if(function Pt(s,o,a,c){const d=Un+c,f=a.length;c>0&&(a[d-1][lr]=o),c<f-Un?(o[lr]=a[d],Db(a,Un+c,o)):(a.push(o),o[lr]=null),o[Ht]=a;const g=o[ho];null!==g&&a!==g&&function Kb(s,o){const a=s[ai];o[Ln]!==o[Ht][Ht][Ln]&&(s[ru]=!0),null===a?s[ai]=[o]:a.push(o)}(g,o);const w=o[bi];null!==w&&w.insertView(s),o[wt]|=128}(f,d,w,g),!c){const C=eh(g,w),x=d[It],O=Xd(x,w[Pr]);null!==O&&function eA(s,o,a,c,d,f){c[Mn]=d,c[Fn]=o,th(s,c,a,1,d,f)}(f,w[Fn],x,d,O,C)}return o.attachToViewContainerRef(),Db(sw(w),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=iw(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Ry(this._lContainer,a);c&&(Xf(sw(this._lContainer),a),Qb(c[Ke],c))}detach(o){const a=this._adjustIndex(o,-1),c=Ry(this._lContainer,a);return c&&null!=Xf(sw(this._lContainer),a)?new Er(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function iw(s){return s[js]}function sw(s){return s[js]||(s[js]=[])}function ow(s,o){let a;const c=o[s.index];return bn(c)?a=c:(a=Z0(c,o,null,s),o[s.index]=a,yh(o,a)),Ng(a,o,s,c),new HC(a,s,o)}let Ng=function aw(s,o,a,c){if(s[Pr])return;let d;d=8&a.type?le(c):function zC(s,o){const a=s[It],c=a.createComment(""),d=I(o,s);return vu(a,Xd(a,d),c,function Oy(s,o){return s.nextSibling(o)}(a,d),!1),c}(o,a),s[Pr]=d};class Qh{constructor(o){this.queryList=o,this.matches=null}clone(){return new Qh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const g=a.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new Xh(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Lg(o,a).matches&&this.queries[a].setDirty()}}class Rg{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Zc{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Zc(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Jh{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Jh(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,a,Wx(a,f)),this.matchTNodeWithReadOption(o,a,uc(a,o,f,!1,!1))}else c===Jc?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,uc(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===_l||d===xg||d===Jc&&4&a.type)this.addMatch(a.index,-2);else{const f=uc(a,o,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Wx(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function cw(s,o,a,c){return-1===a?function lw(s,o){return 11&s.type?Tc(s,o):4&s.type?Mg(s,o):null}(o,s):-2===a?function dw(s,o,a){return a===_l?Tc(o,s):a===Jc?Mg(o,s):a===xg?ow(o,s):void 0}(s,o,c):ll(s,s[Ke],a,o)}function Pg(s,o,a,c){const d=o[bi].queries[c];if(null===d.matches){const f=s.data,g=a.matches,w=[];for(let C=0;C<g.length;C+=2){const x=g[C];w.push(x<0?null:cw(o,f[x],g[C+1],a.metadata.read))}d.matches=w}return d.matches}function Zh(s,o,a,c){const d=s.queries.getByIndex(a),f=d.matches;if(null!==f){const g=Pg(s,o,d,a);for(let w=0;w<f.length;w+=2){const C=f[w];if(C>0)c.push(g[w/2]);else{const x=f[w+1],O=o[-C];for(let $=Un;$<O.length;$++){const K=O[$];K[ho]===K[Ht]&&Zh(K[Ke],K,x,c)}if(null!==O[ai]){const $=O[ai];for(let K=0;K<$.length;K++){const Z=$[K];Zh(Z[Ke],Z,x,c)}}}}}return c}function GC(s){const o=ve(),a=Wt(),c=Gf();kd(c+1);const d=Lg(a,c);if(s.dirty&&function vt(s){return 4==(4&s[wt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?Zh(a,o,c,[]):Pg(a,o,d,c);s.reset(f,OA),s.notifyOnChanges()}return!0}return!1}function kg(s,o,a){const c=Wt();c.firstCreatePass&&(ed(c,new Rg(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),Fg(c,ve(),o)}function qC(s,o,a,c){const d=Wt();if(d.firstCreatePass){const f=an();ed(d,new Rg(o,a,c),f.index),function ja(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}Fg(d,ve(),a)}function Og(){return function Kx(s,o){return s[bi].queries[o].queryList}(ve(),Gf())}function Fg(s,o,a){const c=new Ag(4==(4&a));(function JA(s,o,a,c){const d=tI(o);d.push(a),s.firstCreatePass&&nI(s).push(c,d.length-1)})(s,o,c,c.destroy),null===o[bi]&&(o[bi]=new Xh),o[bi].queries.push(new Qh(c))}function ed(s,o,a){null===s.queries&&(s.queries=new Zc),s.queries.track(new Jh(o,a))}function Lg(s,o){return s.queries.getByIndex(o)}function WC(s,o){return Mg(s,o)}function fw(s){return!!Yn(s)}const Kg=new vn("Application Initializer");let uD=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Rt(Kg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(Ph(f))a.push(f);else if(HM(f)){const g=new Promise((w,C)=>{f.subscribe({complete:w,error:C})});a.push(g)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Yg=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const nd=new vn("LocaleId",{providedIn:"root",factory:()=>Rt(nd,qe.Optional|qe.SkipSelf)||function BO(){return typeof $localize<"u"&&$localize.locale||Nl}()}),Zx=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let dD=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new oe.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class Cw{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let eN=(()=>{class s{compileModuleSync(a){return new Gh(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=Cu(Yn(a).declarations).reduce((g,w)=>{const C=Vt(w);return C&&g.push(new bl(C)),g},[]);return new Cw(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const HO=(()=>Promise.resolve(0))();function uf(s){typeof Zone>"u"?HO.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}function nN(...s){}class fi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Js(!1),this.onMicrotaskEmpty=new Js(!1),this.onStable=new Js(!1),this.onError=new Js(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Dw(){let s=mn.requestAnimationFrame,o=mn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Tw(s){const o=()=>{!function zO(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(mn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,fD(s),s.isCheckStableRunning=!0,lf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),fD(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,g,w)=>{try{return iN(s),a.invokeTask(d,f,g,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),Sw(s)}},onInvoke:(a,c,d,f,g,w,C)=>{try{return iN(s),a.invoke(d,f,g,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),Sw(s)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,fD(s),lf(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fi.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(fi.isInAngularZone())throw new je(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,o,rN,nN,nN);try{return f.runTask(g,a,c)}finally{f.cancelTask(g)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const rN={};function lf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function fD(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function iN(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Sw(s){s._nesting--,lf(s)}class Aw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Js,this.onMicrotaskEmpty=new Js,this.onStable=new Js,this.onError=new Js}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const pD=new vn("",{providedIn:"root",factory:Xg});function Xg(){const s=Rt(fi);let o=!0;return function Me(...s){const o=(0,rt.yG)(s),a=(0,rt._6)(s,1/0),c=s;return c.length?1===c.length?(0,z.Xf)(c[0]):(0,fe.J)(a)((0,Le.D)(c,o)):ke.E}(new me.y(d=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{d.next(o),d.complete()})}),new me.y(d=>{let f;s.runOutsideAngular(()=>{f=s.onStable.subscribe(()=>{fi.assertNotInAngularZone(),uf(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const g=s.onUnstable.subscribe(()=>{fi.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}}).pipe(He()))}const sN=new vn(""),gD=new vn("");let yD,oN=(()=>{class s{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yD||(function aN(s){yD=s}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fi.assertNotInAngularZone(),uf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uf(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(At(fi),At(mD),At(gD))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})(),mD=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return yD?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Fl=null;const uN=new vn("AllowMultipleToken"),Mw=new vn("PlatformDestroyListeners"),xw=new vn("appBootstrapListener");class qO{constructor(o,a){this.name=o,this.token=a}}function _D(s,o,a=[]){const c=`Platform: ${o}`,d=new vn(c);return(f=[])=>{let g=Rw();if(!g||g.injector.get(uN,!1)){const w=[...a,...f,{provide:d,useValue:!0}];s?s(w):function Nw(s){if(Fl&&!Fl.get(uN,!1))throw new je(400,!1);(function lN(){!function el(s){ba=s}(()=>{throw new je(600,!1)})})(),Fl=s;const o=s.get(Zg);(function Jg(s){s.get(bp,null)?.forEach(a=>a())})(s)}(function hN(s=[],o){return vl.create({name:o,providers:[{provide:Zy,useValue:"platform"},{provide:Mw,useValue:new Set([()=>Fl=null])},...s]})}(w,c))}return function dN(s){const o=Rw();if(!o)throw new je(401,!1);return o}()}}function Rw(){return Fl?.get(Zg)??null}let Zg=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function KO(s="zone.js",o){return"noop"===s?new Aw:"zone.js"===s?new fi(o):s}(c?.ngZone,function em(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function Fx(s,o,a){return new qv(s,o,a)}(a.moduleType,this.injector,function wD(s){return[{provide:fi,useFactory:s},{provide:oh,multi:!0,useFactory:()=>{const o=Rt(YO,{optional:!0});return()=>o.initialize()}},{provide:fN,useFactory:pN},{provide:pD,useFactory:Xg}]}(()=>d)),g=f.injector.get(Ac,null);return d.runOutsideAngular(()=>{const w=d.onError.subscribe({next:C=>{g.handleError(C)}});f.onDestroy(()=>{tm(this._modules,f),w.unsubscribe()})}),function cf(s,o,a){try{const c=a();return Ph(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(g,d,()=>{const w=f.injector.get(uD);return w.runInitializers(),w.donePromise.then(()=>(function Rl(s){En(s,"Expected localeId to be defined"),"string"==typeof s&&(Ov=s.toLowerCase().replace(/_/g,"-"))}(f.injector.get(nd,Nl)||Nl),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const d=Pw({},c);return function GO(s,o,a){const c=new Gh(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(rd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new je(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Mw,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(At(vl))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Pw(s,o){return Array.isArray(o)?o.reduce(Pw,s):{...s,...o}}let rd=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Rt(fN),this.zoneIsStable=Rt(pD),this.componentTypes=[],this.components=[],this.isStable=Rt(dD).hasPendingTasks.pipe((0,xt.z)(a=>a?(0,pe.of)(!1):this.zoneIsStable),function hn(s,o=Ft.y){return s=s??$t,(0,st.e)((a,c)=>{let d,f=!0;a.subscribe((0,zt.x)(c,g=>{const w=o(g);(f||!s(d,w))&&(f=!1,d=w,c.next(g))}))})}(),He()),this._injector=Rt(Eu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof S0;if(!this._injector.get(uD).done)throw!d&&ns(a),new je(405,!1);let g;g=d?a:this._injector.get(fh).resolveComponentFactory(a),this.componentTypes.push(g.componentType);const w=function cN(s){return s.isBoundToModule}(g)?void 0:this._injector.get(qc),x=g.create(vl.NULL,[],c||g.selector,w),O=x.location.nativeElement,$=x.injector.get(sN,null);return $?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),tm(this.components,x),$?.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;tm(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(xw,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>tm(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new je(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function tm(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}const fN=new vn("",{providedIn:"root",factory:()=>Rt(Ac).handleError.bind(void 0)});function pN(){const s=Rt(fi),o=Rt(Ac);return a=>s.runOutsideAngular(()=>o.handleError(a))}let YO=(()=>{class s{constructor(){this.zone=Rt(fi),this.applicationRef=Rt(rd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();let yN=(()=>{class s{}return s.__NG_ELEMENT_ID__=kw,s})();function kw(s){return function _N(s,o,a){if(ui(s)&&!a){const c=Ne(s.index,o);return new Er(c,c)}return 47&s.type?new Er(o[Ln],o):null}(an(),ve(),16==(16&s))}class CD{constructor(){}supports(o){return Pc(o)}create(o){return new sm(o)}}const IN=(s,o)=>o;class sm{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||IN}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const g=!c||a&&a.currentIndex<om(c,d,f)?a:c,w=om(g,d,f),C=g.currentIndex;if(g===c)d--,c=c._nextRemoved;else if(a=a._next,null==g.previousIndex)d++;else{f||(f=[]);const x=w-d,O=C-d;if(x!=O){for(let K=0;K<x;K++){const Z=K<f.length?f[K]:f[K]=0,ge=Z+K;O<=ge&&ge<x&&(f[K]=Z+1)}f[g.previousIndex]=O-x}}w!==C&&o(g,w,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Pc(o))throw new je(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,g,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)f=o[w],g=this._trackByFn(w,f),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,f,g,w)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,g,w),c=!0),a=a._next}else d=0,function X_(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,w=>{g=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,w,g,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,g,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,d)):o=this._addAfter(new CN(a,c),f,d),o}_verifyReinsertion(o,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new DD),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class CN{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DN{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class DD{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new DN,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function om(s,o,a){const c=s.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class TD{constructor(){}supports(o){return o instanceof Map||J_(o)}create(){return new TN}}class TN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||J_(o)))throw new je(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const c=new SN(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class SN{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SD(){return new Bw([new CD])}let Bw=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||SD()),deps:[[s,new Sa,new Ws]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new je(901,!1)}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:SD}),s})();function AD(){return new MD([new TD])}let MD=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||AD()),deps:[[s,new Sa,new Ws]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new je(901,!1)}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:AD}),s})();const rF=_D(null,"core",[]);let $w=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(At(rd))},s.\u0275mod=ga({type:s}),s.\u0275inj=Ge({}),s})();function PN(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function lF(s){const o=Vt(s);if(!o)return null;const a=new bl(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone}}}},6550:(bt,Ce,B)=>{"use strict";B.d(Ce,{Dx:()=>Qt,H7:()=>An,b2:()=>Wn,q6:()=>Dr,se:()=>Pe});var M=B(1902),v=B(4755);class oe extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends oe{static makeCurrent(){(0,v.HT)(new me)}onAndCancel(J,H,Q){return J.addEventListener(H,Q),()=>{J.removeEventListener(H,Q)}}dispatchEvent(J,H){J.dispatchEvent(H)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,H){return(H=H||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,H){return"window"===H?window:"document"===H?J:"body"===H?J.body:null}getBaseHref(J){const H=function z(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==H?null:function rt(ce){ke=ke||document.createElement("a"),ke.setAttribute("href",ce);const J=ke.pathname;return"/"===J.charAt(0)?J:`/${J}`}(H)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,v.Mx)(document.cookie,J)}}let ke,fe=null,Me=(()=>{class ce{build(){return new XMLHttpRequest}}return ce.\u0275fac=function(H){return new(H||ce)},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const pe=new M.OlP("EventManagerPlugins");let De=(()=>{class ce{constructor(H,Q){this._zone=Q,this._eventNameToPlugin=new Map,H.forEach(ye=>{ye.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,Q,ye){return this._findPluginFor(Q).addEventListener(H,Q,ye)}getZone(){return this._zone}_findPluginFor(H){let Q=this._eventNameToPlugin.get(H);if(Q)return Q;if(Q=this._plugins.find(We=>We.supports(H)),!Q)throw new M.vHH(5101,!1);return this._eventNameToPlugin.set(H,Q),Q}}return ce.\u0275fac=function(H){return new(H||ce)(M.LFG(pe),M.LFG(M.R0b))},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class st{constructor(J){this._doc=J}}const He="ng-app-id";let it=(()=>{class ce{constructor(H,Q,ye,We={}){this.doc=H,this.appId=Q,this.nonce=ye,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,v.PM)(We),this.resetHostNodes()}addStyles(H){for(const Q of H)1===this.changeUsageCount(Q,1)&&this.onStyleAdded(Q)}removeStyles(H){for(const Q of H)this.changeUsageCount(Q,-1)<=0&&this.onStyleRemoved(Q)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(Q=>Q.remove()),H.clear());for(const Q of this.getAllStyles())this.onStyleRemoved(Q);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const Q of this.getAllStyles())this.addStyleToHost(H,Q)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const Q of this.hostNodes)this.addStyleToHost(Q,H)}onStyleRemoved(H){const Q=this.styleRef;Q.get(H)?.elements?.forEach(ye=>ye.remove()),Q.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${He}="${this.appId}"]`);if(H?.length){const Q=new Map;return H.forEach(ye=>{null!=ye.textContent&&Q.set(ye.textContent,ye)}),Q}return null}changeUsageCount(H,Q){const ye=this.styleRef;if(ye.has(H)){const We=ye.get(H);return We.usage+=Q,We.usage}return ye.set(H,{usage:Q,elements:[]}),Q}getStyleElement(H,Q){const ye=this.styleNodesInDOM,We=ye?.get(Q);if(We?.parentNode===H)return ye.delete(Q),We.removeAttribute(He),We;{const ft=this.doc.createElement("style");return this.nonce&&ft.setAttribute("nonce",this.nonce),ft.textContent=Q,this.platformIsServer&&ft.setAttribute(He,this.appId),ft}}addStyleToHost(H,Q){const ye=this.getStyleElement(H,Q);H.appendChild(ye);const We=this.styleRef,ft=We.get(Q)?.elements;ft?ft.push(ye):We.set(Q,{elements:[ye],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}}return ce.\u0275fac=function(H){return new(H||ce)(M.LFG(v.K0),M.LFG(M.AFp),M.LFG(M.Ojb,8),M.LFG(M.Lbi))},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ft=/%COMP%/g,Ie=new M.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ze(ce,J){return J.map(H=>H.replace(Ft,ce))}let Pe=(()=>{class ce{constructor(H,Q,ye,We,ft,At,Xt,Rt=null){this.eventManager=H,this.sharedStylesHost=Q,this.appId=ye,this.removeStylesOnCompDestory=We,this.doc=ft,this.platformId=At,this.ngZone=Xt,this.nonce=Rt,this.rendererByCompId=new Map,this.platformIsServer=(0,v.PM)(At),this.defaultRenderer=new xe(H,ft,Xt,this.platformIsServer)}createRenderer(H,Q){if(!H||!Q)return this.defaultRenderer;this.platformIsServer&&Q.encapsulation===M.ifc.ShadowDom&&(Q={...Q,encapsulation:M.ifc.Emulated});const ye=this.getOrCreateRenderer(H,Q);return ye instanceof ae?ye.applyToHost(H):ye instanceof je&&ye.applyStyles(),ye}getOrCreateRenderer(H,Q){const ye=this.rendererByCompId;let We=ye.get(Q.id);if(!We){const ft=this.doc,At=this.ngZone,Xt=this.eventManager,Rt=this.sharedStylesHost,ar=this.removeStylesOnCompDestory,pr=this.platformIsServer;switch(Q.encapsulation){case M.ifc.Emulated:We=new ae(Xt,Rt,Q,this.appId,ar,ft,At,pr);break;case M.ifc.ShadowDom:return new Bn(Xt,Rt,H,Q,ft,At,this.nonce,pr);default:We=new je(Xt,Rt,Q,ar,ft,At,pr)}We.onDestroy=()=>ye.delete(Q.id),ye.set(Q.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}}return ce.\u0275fac=function(H){return new(H||ce)(M.LFG(De),M.LFG(it),M.LFG(M.AFp),M.LFG(Ie),M.LFG(v.K0),M.LFG(M.Lbi),M.LFG(M.R0b),M.LFG(M.Ojb))},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class xe{constructor(J,H,Q,ye){this.eventManager=J,this.doc=H,this.ngZone=Q,this.platformIsServer=ye,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,H){return H?this.doc.createElementNS(xt[H]||H,J):this.doc.createElement(J)}createComment(J){return this.doc.createComment(J)}createText(J){return this.doc.createTextNode(J)}appendChild(J,H){(si(J)?J.content:J).appendChild(H)}insertBefore(J,H,Q){J&&(si(J)?J.content:J).insertBefore(H,Q)}removeChild(J,H){J&&J.removeChild(H)}selectRootElement(J,H){let Q="string"==typeof J?this.doc.querySelector(J):J;if(!Q)throw new M.vHH(5104,!1);return H||(Q.textContent=""),Q}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,H,Q,ye){if(ye){H=ye+":"+H;const We=xt[ye];We?J.setAttributeNS(We,H,Q):J.setAttribute(H,Q)}else J.setAttribute(H,Q)}removeAttribute(J,H,Q){if(Q){const ye=xt[Q];ye?J.removeAttributeNS(ye,H):J.removeAttribute(`${Q}:${H}`)}else J.removeAttribute(H)}addClass(J,H){J.classList.add(H)}removeClass(J,H){J.classList.remove(H)}setStyle(J,H,Q,ye){ye&(M.JOm.DashCase|M.JOm.Important)?J.style.setProperty(H,Q,ye&M.JOm.Important?"important":""):J.style[H]=Q}removeStyle(J,H,Q){Q&M.JOm.DashCase?J.style.removeProperty(H):J.style[H]=""}setProperty(J,H,Q){J[H]=Q}setValue(J,H){J.nodeValue=H}listen(J,H,Q){if("string"==typeof J&&!(J=(0,v.q)().getGlobalEventTarget(this.doc,J)))throw new Error(`Unsupported event target ${J} for event ${H}`);return this.eventManager.addEventListener(J,H,this.decoratePreventDefault(Q))}decoratePreventDefault(J){return H=>{if("__ngUnwrap__"===H)return J;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>J(H)):J(H))&&H.preventDefault()}}}function si(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class Bn extends xe{constructor(J,H,Q,ye,We,ft,At,Xt){super(J,We,ft,Xt),this.sharedStylesHost=H,this.hostEl=Q,this.shadowRoot=Q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Rt=Ze(ye.id,ye.styles);for(const ar of Rt){const pr=document.createElement("style");At&&pr.setAttribute("nonce",At),pr.textContent=ar,this.shadowRoot.appendChild(pr)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}appendChild(J,H){return super.appendChild(this.nodeOrShadowRoot(J),H)}insertBefore(J,H,Q){return super.insertBefore(this.nodeOrShadowRoot(J),H,Q)}removeChild(J,H){return super.removeChild(this.nodeOrShadowRoot(J),H)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class je extends xe{constructor(J,H,Q,ye,We,ft,At,Xt){super(J,We,ft,At),this.sharedStylesHost=H,this.removeStylesOnCompDestory=ye,this.rendererUsageCount=0,this.styles=Xt?Ze(Xt,Q.styles):Q.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ae extends je{constructor(J,H,Q,ye,We,ft,At,Xt){const Rt=ye+"-"+Q.id;super(J,H,Q,We,ft,At,Xt,Rt),this.contentAttr=function se(ce){return"_ngcontent-%COMP%".replace(Ft,ce)}(Rt),this.hostAttr=function Be(ce){return"_nghost-%COMP%".replace(Ft,ce)}(Rt)}applyToHost(J){this.applyStyles(),this.setAttribute(J,this.hostAttr,"")}createElement(J,H){const Q=super.createElement(J,H);return super.setAttribute(Q,this.contentAttr,""),Q}}let Y=(()=>{class ce extends st{constructor(H){super(H)}supports(H){return!0}addEventListener(H,Q,ye){return H.addEventListener(Q,ye,!1),()=>this.removeEventListener(H,Q,ye)}removeEventListener(H,Q,ye){return H.removeEventListener(Q,ye)}}return ce.\u0275fac=function(H){return new(H||ce)(M.LFG(v.K0))},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const ie=["alt","control","meta","shift"],we={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ve={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let Ae=(()=>{class ce extends st{constructor(H){super(H)}supports(H){return null!=ce.parseEventName(H)}addEventListener(H,Q,ye){const We=ce.parseEventName(Q),ft=ce.eventCallback(We.fullKey,ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(H,We.domEventName,ft))}static parseEventName(H){const Q=H.toLowerCase().split("."),ye=Q.shift();if(0===Q.length||"keydown"!==ye&&"keyup"!==ye)return null;const We=ce._normalizeKey(Q.pop());let ft="",At=Q.indexOf("code");if(At>-1&&(Q.splice(At,1),ft="code."),ie.forEach(Rt=>{const ar=Q.indexOf(Rt);ar>-1&&(Q.splice(ar,1),ft+=Rt+".")}),ft+=We,0!=Q.length||0===We.length)return null;const Xt={};return Xt.domEventName=ye,Xt.fullKey=ft,Xt}static matchEventFullKeyCode(H,Q){let ye=we[H.key]||H.key,We="";return Q.indexOf("code.")>-1&&(ye=H.code,We="code."),!(null==ye||!ye)&&(ye=ye.toLowerCase()," "===ye?ye="space":"."===ye&&(ye="dot"),ie.forEach(ft=>{ft!==ye&&(0,Ve[ft])(H)&&(We+=ft+".")}),We+=ye,We===Q)}static eventCallback(H,Q,ye){return We=>{ce.matchEventFullKeyCode(We,H)&&ye.runGuarded(()=>Q(We))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return ce.\u0275fac=function(H){return new(H||ce)(M.LFG(v.K0))},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Dr=(0,M.eFA)(M._c5,"browser",[{provide:M.Lbi,useValue:v.bD},{provide:M.g9A,useValue:function Yt(){me.makeCurrent()},multi:!0},{provide:v.K0,useFactory:function _t(){return(0,M.RDi)(document),document},deps:[]}]),Cn=new M.OlP(""),qn=[{provide:M.rWj,useClass:class Le{addToWindow(J){M.dqk.getAngularTestability=(Q,ye=!0)=>{const We=J.findTestabilityInTree(Q,ye);if(null==We)throw new M.vHH(5103,!1);return We},M.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),M.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),M.dqk.frameworkStabilizers||(M.dqk.frameworkStabilizers=[]),M.dqk.frameworkStabilizers.push(Q=>{const ye=M.dqk.getAllAngularTestabilities();let We=ye.length,ft=!1;const At=function(Xt){ft=ft||Xt,We--,0==We&&Q(ft)};ye.forEach(function(Xt){Xt.whenStable(At)})})}findTestabilityInTree(J,H,Q){return null==H?null:J.getTestability(H)??(Q?(0,v.q)().isShadowRoot(H)?this.findTestabilityInTree(J,H.host,!0):this.findTestabilityInTree(J,H.parentElement,!0):null)}},deps:[]},{provide:M.lri,useClass:M.dDg,deps:[M.R0b,M.eoX,M.rWj]},{provide:M.dDg,useClass:M.dDg,deps:[M.R0b,M.eoX,M.rWj]}],mi=[{provide:M.zSh,useValue:"root"},{provide:M.qLn,useFactory:function Zt(){return new M.qLn},deps:[]},{provide:pe,useClass:Y,multi:!0,deps:[v.K0,M.R0b,M.Lbi]},{provide:pe,useClass:Ae,multi:!0,deps:[v.K0]},Pe,it,De,{provide:M.FYo,useExisting:Pe},{provide:v.JF,useClass:Me,deps:[]},[]];let Wn=(()=>{class ce{constructor(H){}static withServerTransition(H){return{ngModule:ce,providers:[{provide:M.AFp,useValue:H.appId}]}}}return ce.\u0275fac=function(H){return new(H||ce)(M.LFG(Cn,12))},ce.\u0275mod=M.oAB({type:ce}),ce.\u0275inj=M.cJS({providers:[...mi,...qn],imports:[v.ez,M.hGG]}),ce})(),Qt=(()=>{class ce{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}}return ce.\u0275fac=function(H){return new(H||ce)(M.LFG(v.K0))},ce.\u0275prov=M.Yz7({token:ce,factory:function(H){let Q=null;return Q=H?new H:function Hr(){return new Qt((0,M.LFG)(v.K0))}(),Q},providedIn:"root"}),ce})();typeof window<"u"&&window;let An=(()=>{class ce{}return ce.\u0275fac=function(H){return new(H||ce)},ce.\u0275prov=M.Yz7({token:ce,factory:function(H){let Q=null;return Q=H?new(H||ce):M.LFG(Vi),Q},providedIn:"root"}),ce})(),Vi=(()=>{class ce extends An{constructor(H){super(),this._doc=H}sanitize(H,Q){if(null==Q)return null;switch(H){case M.q3G.NONE:return Q;case M.q3G.HTML:return(0,M.qzn)(Q,"HTML")?(0,M.z3N)(Q):(0,M.EiD)(this._doc,String(Q)).toString();case M.q3G.STYLE:return(0,M.qzn)(Q,"Style")?(0,M.z3N)(Q):Q;case M.q3G.SCRIPT:if((0,M.qzn)(Q,"Script"))return(0,M.z3N)(Q);throw new M.vHH(5200,!1);case M.q3G.URL:return(0,M.qzn)(Q,"URL")?(0,M.z3N)(Q):(0,M.mCW)(String(Q));case M.q3G.RESOURCE_URL:if((0,M.qzn)(Q,"ResourceURL"))return(0,M.z3N)(Q);throw new M.vHH(5201,!1);default:throw new M.vHH(5202,!1)}}bypassSecurityTrustHtml(H){return(0,M.JVY)(H)}bypassSecurityTrustStyle(H){return(0,M.L6k)(H)}bypassSecurityTrustScript(H){return(0,M.eBb)(H)}bypassSecurityTrustUrl(H){return(0,M.LAX)(H)}bypassSecurityTrustResourceUrl(H){return(0,M.pB0)(H)}}return ce.\u0275fac=function(H){return new(H||ce)(M.LFG(v.K0))},ce.\u0275prov=M.Yz7({token:ce,factory:function(H){let Q=null;return Q=H?new H:function qt(ce){return new Vi(ce.get(v.K0))}(M.LFG(M.zs3)),Q},providedIn:"root"}),ce})()},4430:(bt,Ce,B)=>{"use strict";B.d(Ce,{F0:()=>Ti,rH:()=>cu,Od:()=>mo,Bz:()=>kd,lC:()=>Bs});var M=B(1902),v=B(9751),oe=B(576),fe=B(8996),z=B(9646),ke=B(1135),rt=B(4742),Le=B(4671),Me=B(3268),pe=B(7669),De=B(1810),st=B(5403),He=B(9672);function it(...y){const E=(0,pe.yG)(y),m=(0,pe.jO)(y),{args:T,keys:N}=(0,rt.D)(y);if(0===T.length)return(0,fe.D)([],E);const L=new v.y(function xt(y,E,m=Le.y){return T=>{Ft(E,()=>{const{length:N}=y,L=new Array(N);let V=N,X=N;for(let Ee=0;Ee<N;Ee++)Ft(E,()=>{const ot=(0,fe.D)(y[Ee],E);let at=!1;ot.subscribe((0,st.x)(T,sn=>{L[Ee]=sn,at||(at=!0,X--),X||T.next(m(L.slice()))},()=>{--V||T.complete()}))},T)},T)}}(T,E,N?V=>(0,De.n)(N,V):Le.y));return m?L.pipe((0,Me.Z)(m)):L}function Ft(y,E,m){y?(0,He.f)(m,y,E):E()}const hn=(0,B(3888).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var $t=B(8189);function Ie(...y){return function Se(){return(0,$t.J)(1)}()((0,fe.D)(y,(0,pe.yG)(y)))}var se=B(8421);function Be(y){return new v.y(E=>{(0,se.Xf)(y()).subscribe(E)})}var Ze=B(9635);function Pe(y,E){const m=(0,oe.m)(y)?y:()=>y,T=N=>N.error(m());return new v.y(E?N=>E.schedule(T,0,N):T)}var xe=B(515),Xe=B(727),Hn=B(4482);function si(){return(0,Hn.e)((y,E)=>{let m=null;y._refCount++;const T=(0,st.x)(E,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const N=y._connection,L=m;m=null,N&&(!L||N===L)&&N.unsubscribe(),E.unsubscribe()});y.subscribe(T),T.closed||(m=y.connect())})}class Bn extends v.y{constructor(E,m){super(),this.source=E,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Hn.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Xe.w0;const m=this.getSubject();E.add(this.source.subscribe((0,st.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Xe.w0.EMPTY)}return E}refCount(){return si()(this)}}var je=B(7579),ae=B(4755),Y=B(4004),ie=B(3900);function we(y){return y<=0?()=>xe.E:(0,Hn.e)((E,m)=>{let T=0;E.subscribe((0,st.x)(m,N=>{++T<=y&&(m.next(N),y<=T&&m.complete())}))})}var Ae=B(9300),et=B(5577);function ct(y){return(0,Hn.e)((E,m)=>{let T=!1;E.subscribe((0,st.x)(m,N=>{T=!0,m.next(N)},()=>{T||m.next(y),m.complete()}))})}function Dn(y=Ct){return(0,Hn.e)((E,m)=>{let T=!1;E.subscribe((0,st.x)(m,N=>{T=!0,m.next(N)},()=>T?m.complete():m.error(y())))})}function Ct(){return new hn}function Yt(y,E){const m=arguments.length>=2;return T=>T.pipe(y?(0,Ae.h)((N,L)=>y(N,L,T)):Le.y,we(1),m?ct(E):Dn(()=>new hn))}var Zt=B(4351),_t=B(8505);function on(y){return(0,Hn.e)((E,m)=>{let L,T=null,N=!1;T=E.subscribe((0,st.x)(m,void 0,void 0,V=>{L=(0,se.Xf)(y(V,on(y)(E))),T?(T.unsubscribe(),T=null,L.subscribe(m)):N=!0})),N&&(T.unsubscribe(),T=null,L.subscribe(m))})}function qn(y){return y<=0?()=>xe.E:(0,Hn.e)((E,m)=>{let T=[];E.subscribe((0,st.x)(m,N=>{T.push(N),y<T.length&&T.shift()},()=>{for(const N of T)m.next(N);m.complete()},void 0,()=>{T=null}))})}var Nt=B(8746),En=B(6550);const $e="primary",Hr=Symbol("RouteTitle");class Qt{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m[0]:m}return null}getAll(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Gt(y){return new Qt(y)}function nn(y,E,m){const T=m.path.split("/");if(T.length>y.length||"full"===m.pathMatch&&(E.hasChildren()||T.length<y.length))return null;const N={};for(let L=0;L<T.length;L++){const V=T[L],X=y[L];if(V.startsWith(":"))N[V.substring(1)]=X;else if(V!==X.path)return null}return{consumed:y.slice(0,T.length),posParams:N}}function Ge(y,E){const m=y?Object.keys(y):void 0,T=E?Object.keys(E):void 0;if(!m||!T||m.length!=T.length)return!1;let N;for(let L=0;L<m.length;L++)if(N=m[L],!gt(y[N],E[N]))return!1;return!0}function gt(y,E){if(Array.isArray(y)&&Array.isArray(E)){if(y.length!==E.length)return!1;const m=[...y].sort(),T=[...E].sort();return m.every((N,L)=>T[L]===N)}return y===E}function Qi(y){return y.length>0?y[y.length-1]:null}function or(y){return function me(y){return!!y&&(y instanceof v.y||(0,oe.m)(y.lift)&&(0,oe.m)(y.subscribe))}(y)?y:(0,M.QGY)(y)?(0,fe.D)(Promise.resolve(y)):(0,z.of)(y)}const hr={exact:function Sn(y,E,m){if(!Ji(y.segments,E.segments)||!Xi(y.segments,E.segments,m)||y.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!y.children[T]||!Sn(y.children[T],E.children[T],m))return!1;return!0},subset:qe},ms={exact:function Oo(y,E){return Ge(y,E)},subset:function ys(y,E){return Object.keys(E).length<=Object.keys(y).length&&Object.keys(E).every(m=>gt(y[m],E[m]))},ignored:()=>!0};function On(y,E,m){return hr[m.paths](y.root,E.root,m.matrixParams)&&ms[m.queryParams](y.queryParams,E.queryParams)&&!("exact"===m.fragment&&y.fragment!==E.fragment)}function qe(y,E,m){return Fo(y,E,E.segments,m)}function Fo(y,E,m,T){if(y.segments.length>m.length){const N=y.segments.slice(0,m.length);return!(!Ji(N,m)||E.hasChildren()||!Xi(N,m,T))}if(y.segments.length===m.length){if(!Ji(y.segments,m)||!Xi(y.segments,m,T))return!1;for(const N in E.children)if(!y.children[N]||!qe(y.children[N],E.children[N],T))return!1;return!0}{const N=m.slice(0,y.segments.length),L=m.slice(y.segments.length);return!!(Ji(y.segments,N)&&Xi(y.segments,N,T)&&y.children[$e])&&Fo(y.children[$e],E,L,T)}}function Xi(y,E,m){return E.every((T,N)=>ms[m](y[N].parameters,T.parameters))}class An{constructor(E=new qt([],{}),m={},T=null){this.root=E,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gt(this.queryParams)),this._queryParamMap}toString(){return Zi.serialize(this)}}class qt{constructor(E,m){this.segments=E,this.children=m,this.parent=null,Object.values(m).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fr(this)}}class Vi{constructor(E,m){this.path=E,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Gt(this.parameters)),this._parameterMap}toString(){return ft(this)}}function Ji(y,E){return y.length===E.length&&y.every((m,T)=>m.path===E[T].path)}let Os=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=M.Yz7({token:y,factory:function(){return new zr},providedIn:"root"}),y})();class zr{parse(E){const m=new xr(E);return new An(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(E){const m=`/${yi(E.root,!0)}`,T=function Xt(y){const E=Object.keys(y).map(m=>{const T=y[m];return Array.isArray(T)?T.map(N=>`${J(m)}=${J(N)}`).join("&"):`${J(m)}=${J(T)}`}).filter(m=>!!m);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${m}${T}${"string"==typeof E.fragment?`#${function H(y){return encodeURI(y)}(E.fragment)}`:""}`}}const Zi=new zr;function fr(y){return y.segments.map(E=>ft(E)).join("/")}function yi(y,E){if(!y.hasChildren())return fr(y);if(E){const m=y.children[$e]?yi(y.children[$e],!1):"",T=[];return Object.entries(y.children).forEach(([N,L])=>{N!==$e&&T.push(`${N}:${yi(L,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function _s(y,E){let m=[];return Object.entries(y.children).forEach(([T,N])=>{T===$e&&(m=m.concat(E(N,T)))}),Object.entries(y.children).forEach(([T,N])=>{T!==$e&&(m=m.concat(E(N,T)))}),m}(y,(T,N)=>N===$e?[yi(y.children[$e],!1)]:[`${N}:${yi(T,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[$e]?`${fr(y)}/${m[0]}`:`${fr(y)}/(${m.join("//")})`}}function ce(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function J(y){return ce(y).replace(/%3B/gi,";")}function Q(y){return ce(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ye(y){return decodeURIComponent(y)}function We(y){return ye(y.replace(/\+/g,"%20"))}function ft(y){return`${Q(y.path)}${function At(y){return Object.keys(y).map(E=>`;${Q(E)}=${Q(y[E])}`).join("")}(y.parameters)}`}const Rt=/^[^\/()?;#]+/;function ar(y){const E=y.match(Rt);return E?E[0]:""}const pr=/^[^\/()?;=#]+/,_i=/^[^=?&#]+/,Lo=/^[^&#]+/;class xr{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(m).length>0)&&(T[$e]=new qt(E,m)),T}parseSegment(){const E=ar(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new M.vHH(4009,!1);return this.capture(E),new Vi(ye(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const m=function vs(y){const E=y.match(pr);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const N=ar(this.remaining);N&&(T=N,this.capture(T))}E[ye(m)]=ye(T)}parseQueryParam(E){const m=function zn(y){const E=y.match(_i);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const V=function gr(y){const E=y.match(Lo);return E?E[0]:""}(this.remaining);V&&(T=V,this.capture(T))}const N=We(m),L=We(T);if(E.hasOwnProperty(N)){let V=E[N];Array.isArray(V)||(V=[V],E[N]=V),V.push(L)}else E[N]=L}parseParens(E){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=ar(this.remaining),N=this.remaining[T.length];if("/"!==N&&")"!==N&&";"!==N)throw new M.vHH(4010,!1);let L;T.indexOf(":")>-1?(L=T.slice(0,T.indexOf(":")),this.capture(L),this.capture(":")):E&&(L=$e);const V=this.parseChildren();m[L]=1===Object.keys(V).length?V[$e]:new qt([],V),this.consumeOptional("//")}return m}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new M.vHH(4011,!1)}}function mr(y){return y.segments.length>0?new qt([],{[$e]:y}):y}function vi(y){const E={};for(const T of Object.keys(y.children)){const L=vi(y.children[T]);if(T===$e&&0===L.segments.length&&L.hasChildren())for(const[V,X]of Object.entries(L.children))E[V]=X;else(L.segments.length>0||L.hasChildren())&&(E[T]=L)}return function jt(y){if(1===y.numberOfChildren&&y.children[$e]){const E=y.children[$e];return new qt(y.segments.concat(E.segments),E.children)}return y}(new qt(y.segments,E))}function yr(y){return y instanceof An}function Vo(y){let E;const N=mr(function m(L){const V={};for(const Ee of L.children){const ot=m(Ee);V[Ee.outlet]=ot}const X=new qt(L.url,V);return L===y&&(E=X),X}(y.root));return E??N}function Bo(y,E,m,T){let N=y;for(;N.parent;)N=N.parent;if(0===E.length)return io(N,N,N,m,T);const L=function so(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Uo(!0,0,y);let E=0,m=!1;const T=y.reduce((N,L,V)=>{if("object"==typeof L&&null!=L){if(L.outlets){const X={};return Object.entries(L.outlets).forEach(([Ee,ot])=>{X[Ee]="string"==typeof ot?ot.split("/"):ot}),[...N,{outlets:X}]}if(L.segmentPath)return[...N,L.segmentPath]}return"string"!=typeof L?[...N,L]:0===V?(L.split("/").forEach((X,Ee)=>{0==Ee&&"."===X||(0==Ee&&""===X?m=!0:".."===X?E++:""!=X&&N.push(X))}),N):[...N,L]},[]);return new Uo(m,E,T)}(E);if(L.toRoot())return io(N,N,new qt([],{}),m,T);const V=function Fs(y,E,m){if(y.isAbsolute)return new $o(E,!0,0);if(!m)return new $o(E,!1,NaN);if(null===m.parent)return new $o(m,!0,0);const T=Gr(y.commands[0])?0:1;return function oo(y,E,m){let T=y,N=E,L=m;for(;L>N;){if(L-=N,T=T.parent,!T)throw new M.vHH(4005,!1);N=T.segments.length}return new $o(T,!1,N-L)}(m,m.segments.length-1+T,y.numberOfDoubleDots)}(L,N,y),X=V.processChildren?es(V.segmentGroup,V.index,L.commands):jo(V.segmentGroup,V.index,L.commands);return io(N,V.segmentGroup,X,m,T)}function Gr(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function qr(y){return"object"==typeof y&&null!=y&&y.outlets}function io(y,E,m,T,N){let V,L={};T&&Object.entries(T).forEach(([Ee,ot])=>{L[Ee]=Array.isArray(ot)?ot.map(at=>`${at}`):`${ot}`}),V=y===E?m:Xa(y,E,m);const X=mr(vi(V));return new An(X,L,N)}function Xa(y,E,m){const T={};return Object.entries(y.children).forEach(([N,L])=>{T[N]=L===E?m:Xa(L,E,m)}),new qt(y.segments,T)}class Uo{constructor(E,m,T){if(this.isAbsolute=E,this.numberOfDoubleDots=m,this.commands=T,E&&T.length>0&&Gr(T[0]))throw new M.vHH(4003,!1);const N=T.find(qr);if(N&&N!==Qi(T))throw new M.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $o{constructor(E,m,T){this.segmentGroup=E,this.processChildren=m,this.index=T}}function jo(y,E,m){if(y||(y=new qt([],{})),0===y.segments.length&&y.hasChildren())return es(y,E,m);const T=function ws(y,E,m){let T=0,N=E;const L={match:!1,pathIndex:0,commandIndex:0};for(;N<y.segments.length;){if(T>=m.length)return L;const V=y.segments[N],X=m[T];if(qr(X))break;const Ee=`${X}`,ot=T<m.length-1?m[T+1]:null;if(N>0&&void 0===Ee)break;if(Ee&&ot&&"object"==typeof ot&&void 0===ot.outlets){if(!Ls(Ee,ot,V))return L;T+=2}else{if(!Ls(Ee,{},V))return L;T++}N++}return{match:!0,pathIndex:N,commandIndex:T}}(y,E,m),N=m.slice(T.commandIndex);if(T.match&&T.pathIndex<y.segments.length){const L=new qt(y.segments.slice(0,T.pathIndex),{});return L.children[$e]=new qt(y.segments.slice(T.pathIndex),y.children),es(L,0,N)}return T.match&&0===N.length?new qt(y.segments,{}):T.match&&!y.hasChildren()?ao(y,E,m):T.match?es(y,0,N):ao(y,E,m)}function es(y,E,m){if(0===m.length)return new qt(y.segments,{});{const T=function Ja(y){return qr(y[0])?y[0].outlets:{[$e]:y}}(m),N={};if(!T[$e]&&y.children[$e]&&1===y.numberOfChildren&&0===y.children[$e].segments.length){const L=es(y.children[$e],E,m);return new qt(y.segments,L.children)}return Object.entries(T).forEach(([L,V])=>{"string"==typeof V&&(V=[V]),null!==V&&(N[L]=jo(y.children[L],E,V))}),Object.entries(y.children).forEach(([L,V])=>{void 0===T[L]&&(N[L]=V)}),new qt(y.segments,N)}}function ao(y,E,m){const T=y.segments.slice(0,E);let N=0;for(;N<m.length;){const L=m[N];if(qr(L)){const Ee=Nr(L.outlets);return new qt(T,Ee)}if(0===N&&Gr(m[0])){T.push(new Vi(y.segments[E].path,ts(m[0]))),N++;continue}const V=qr(L)?L.outlets[$e]:`${L}`,X=N<m.length-1?m[N+1]:null;V&&X&&Gr(X)?(T.push(new Vi(V,ts(X))),N+=2):(T.push(new Vi(V,{})),N++)}return new qt(T,{})}function Nr(y){const E={};return Object.entries(y).forEach(([m,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(E[m]=ao(new qt([],{}),0,T))}),E}function ts(y){const E={};return Object.entries(y).forEach(([m,T])=>E[m]=`${T}`),E}function Ls(y,E,m){return y==m.path&&Ge(E,m.parameters)}const uo="imperative";class Wr{constructor(E,m){this.id=E,this.url=m}}class Es extends Wr{constructor(E,m,T="imperative",N=null){super(E,m),this.type=0,this.navigationTrigger=T,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lo extends Wr{constructor(E,m,T){super(E,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ho extends Wr{constructor(E,m,T,N){super(E,m),this.reason=T,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class co extends Wr{constructor(E,m,T,N){super(E,m),this.reason=T,this.code=N,this.type=16}}class ur extends Wr{constructor(E,m,T,N){super(E,m),this.error=T,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yl extends Wr{constructor(E,m,T,N){super(E,m),this.urlAfterRedirects=T,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Za extends Wr{constructor(E,m,T,N){super(E,m),this.urlAfterRedirects=T,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ql extends Wr{constructor(E,m,T,N,L){super(E,m),this.urlAfterRedirects=T,this.state=N,this.shouldActivate=L,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qu extends Wr{constructor(E,m,T,N){super(E,m),this.urlAfterRedirects=T,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eu extends Wr{constructor(E,m,T,N){super(E,m),this.urlAfterRedirects=T,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ga{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tu{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ma{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nu{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vt{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(E,m,T){this.routerEvent=E,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ns{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yn,this.attachRef=null}}let Yn=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const N=this.getOrCreateContext(m);N.outlet=T,this.contexts.set(m,N)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new ns,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class oi{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const m=this.pathFromRoot(E);return m.length>1?m[m.length-2]:null}children(E){const m=Go(E,this._root);return m?m.children.map(T=>T.value):[]}firstChild(E){const m=Go(E,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(E){const m=rs(E,this._root);return m.length<2?[]:m[m.length-2].children.map(N=>N.value).filter(N=>N!==E)}pathFromRoot(E){return rs(E,this._root).map(m=>m.value)}}function Go(y,E){if(y===E.value)return E;for(const m of E.children){const T=Go(y,m);if(T)return T}return null}function rs(y,E){if(y===E.value)return[E];for(const m of E.children){const T=rs(y,m);if(T.length)return T.unshift(E),T}return[]}class _r{constructor(E,m){this.value=E,this.children=m}toString(){return`TreeNode(${this.value})`}}function bs(y){const E={};return y&&y.children.forEach(m=>E[m.value.outlet]=m),E}class Mn extends oi{constructor(E,m){super(E),this.snapshot=m,yn(this,E)}toString(){return this.snapshot.toString()}}function Ke(y,E){const m=function wt(y,E){const V=new Fn([],{},{},"",{},$e,E,null,{});return new is("",new _r(V,[]))}(0,E),T=new ke.X([new Vi("",{})]),N=new ke.X({}),L=new ke.X({}),V=new ke.X({}),X=new ke.X(""),Ee=new Ht(T,N,V,X,L,$e,E,m.root);return Ee.snapshot=m.root,new Mn(new _r(Ee,[]),m)}class Ht{constructor(E,m,T,N,L,V,X,Ee){this.urlSubject=E,this.paramsSubject=m,this.queryParamsSubject=T,this.fragmentSubject=N,this.dataSubject=L,this.outlet=V,this.component=X,this._futureSnapshot=Ee,this.title=this.dataSubject?.pipe((0,Y.U)(ot=>ot[Hr]))??(0,z.of)(void 0),this.url=E,this.params=m,this.queryParams=T,this.fragment=N,this.data=L}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Y.U)(E=>Gt(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Y.U)(E=>Gt(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lr(y,E="emptyOnly"){const m=y.pathFromRoot;let T=0;if("always"!==E)for(T=m.length-1;T>=1;){const N=m[T],L=m[T-1];if(N.routeConfig&&""===N.routeConfig.path)T--;else{if(L.component)break;T--}}return function Vs(y){return y.reduce((E,m)=>({params:{...E.params,...m.params},data:{...E.data,...m.data},resolve:{...m.data,...E.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class Fn{get title(){return this.data?.[Hr]}constructor(E,m,T,N,L,V,X,Ee,ot){this.url=E,this.params=m,this.queryParams=T,this.fragment=N,this.data=L,this.outlet=V,this.component=X,this.routeConfig=Ee,this._resolve=ot}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class is extends oi{constructor(E,m){super(m),this.url=E,yn(this,m)}toString(){return wi(this._root)}}function yn(y,E){E.value._routerState=y,E.children.forEach(m=>yn(y,m))}function wi(y){const E=y.children.length>0?` { ${y.children.map(wi).join(", ")} } `:"";return`${y.value}${E}`}function Bi(y){if(y.snapshot){const E=y.snapshot,m=y._futureSnapshot;y.snapshot=m,Ge(E.queryParams,m.queryParams)||y.queryParamsSubject.next(m.queryParams),E.fragment!==m.fragment&&y.fragmentSubject.next(m.fragment),Ge(E.params,m.params)||y.paramsSubject.next(m.params),function Tn(y,E){if(y.length!==E.length)return!1;for(let m=0;m<y.length;++m)if(!Ge(y[m],E[m]))return!1;return!0}(E.url,m.url)||y.urlSubject.next(m.url),Ge(E.data,m.data)||y.dataSubject.next(m.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function It(y,E){const m=Ge(y.params,E.params)&&function mn(y,E){return Ji(y,E)&&y.every((m,T)=>Ge(m.parameters,E[T].parameters))}(y.url,E.url);return m&&!(!y.parent!=!E.parent)&&(!y.parent||It(y.parent,E.parent))}let Bs=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=$e,this.activateEvents=new M.vpe,this.deactivateEvents=new M.vpe,this.attachEvents=new M.vpe,this.detachEvents=new M.vpe,this.parentContexts=(0,M.f3M)(Yn),this.location=(0,M.f3M)(M.s_b),this.changeDetector=(0,M.f3M)(M.sBO),this.environmentInjector=(0,M.f3M)(M.lqb),this.inputBinder=(0,M.f3M)(Ui,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:T,previousValue:N}=m.name;if(T)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new M.vHH(4013,!1);this._activatedRoute=m;const N=this.location,V=m.snapshot.component,X=this.parentContexts.getOrCreateContext(this.name).children,Ee=new Us(m,X,N.injector);this.activated=N.createComponent(V,{index:N.length,injector:Ee,environmentInjector:T??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275dir=M.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[M.TTD]}),y})();class Us{constructor(E,m,T){this.route=E,this.childContexts=m,this.parent=T}get(E,m){return E===Ht?this.route:E===Yn?this.childContexts:this.parent.get(E,m)}}const Ui=new M.OlP("");let Ln=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:T}=m,N=it([T.queryParams,T.params,T.data]).pipe((0,ie.w)(([L,V,X],Ee)=>(X={...L,...V,...X},0===Ee?(0,z.of)(X):Promise.resolve(X)))).subscribe(L=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==T||null===T.component)return void this.unsubscribeFromRouteData(m);const V=(0,M.qFp)(T.component);if(V)for(const{templateName:X}of V.inputs)m.activatedComponentRef.setInput(X,L[X]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,N)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac}),y})();function Ei(y,E,m){if(m&&y.shouldReuseRoute(E.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=E.value;const N=function bi(y,E,m){return E.children.map(T=>{for(const N of m.children)if(y.shouldReuseRoute(T.value,N.value.snapshot))return Ei(y,T,N);return Ei(y,T)})}(y,E,m);return new _r(T,N)}{if(y.shouldAttach(E.value)){const L=y.retrieve(E.value);if(null!==L){const V=L.route;return V.value._futureSnapshot=E.value,V.children=E.children.map(X=>Ei(y,X)),V}}const T=function ss(y){return new Ht(new ke.X(y.url),new ke.X(y.params),new ke.X(y.queryParams),new ke.X(y.fragment),new ke.X(y.data),y.outlet,y.component,y)}(E.value),N=E.children.map(L=>Ei(y,L));return new _r(T,N)}}const $s="ngNavigationCancelingError";function Ii(y,E){const{redirectTo:m,navigationBehaviorOptions:T}=yr(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,N=Kr(!1,0,E);return N.url=m,N.navigationBehaviorOptions=T,N}function Kr(y,E,m){const T=new Error("NavigationCancelingError: "+(y||""));return T[$s]=!0,T.cancellationCode=E,m&&(T.url=m),T}function Yr(y){return Ci(y)&&yr(y.url)}function Ci(y){return y&&y[$s]}let Bt=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=M.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[M.jDz],decls:1,vars:0,template:function(m,T){1&m&&M._UZ(0,"router-outlet")},dependencies:[Bs],encapsulation:2}),y})();function xn(y){const E=y.children&&y.children.map(xn),m=E?{...y,children:E}:{...y};return!m.component&&!m.loadComponent&&(E||m.loadChildren)&&m.outlet&&m.outlet!==$e&&(m.component=Bt),m}function bn(y){return y.outlet||$e}function ui(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let E=y.parent;E;E=E.parent){const m=E.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class ya{constructor(E,m,T,N,L){this.routeReuseStrategy=E,this.futureState=m,this.currState=T,this.forwardEvent=N,this.inputBindingEnabled=L}activate(E){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,E),Bi(this.futureState.root),this.activateChildRoutes(m,T,E)}deactivateChildRoutes(E,m,T){const N=bs(m);E.children.forEach(L=>{const V=L.value.outlet;this.deactivateRoutes(L,N[V],T),delete N[V]}),Object.values(N).forEach(L=>{this.deactivateRouteAndItsChildren(L,T)})}deactivateRoutes(E,m,T){const N=E.value,L=m?m.value:null;if(N===L)if(N.component){const V=T.getContext(N.outlet);V&&this.deactivateChildRoutes(E,m,V.children)}else this.deactivateChildRoutes(E,m,T);else L&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(E,m){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,m):this.deactivateRouteAndOutlet(E,m)}detachAndStoreRouteSubtree(E,m){const T=m.getContext(E.value.outlet),N=T&&E.value.component?T.children:m,L=bs(E);for(const V of Object.keys(L))this.deactivateRouteAndItsChildren(L[V],N);if(T&&T.outlet){const V=T.outlet.detach(),X=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:V,route:E,contexts:X})}}deactivateRouteAndOutlet(E,m){const T=m.getContext(E.value.outlet),N=T&&E.value.component?T.children:m,L=bs(E);for(const V of Object.keys(L))this.deactivateRouteAndItsChildren(L[V],N);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(E,m,T){const N=bs(m);E.children.forEach(L=>{this.activateRoutes(L,N[L.value.outlet],T),this.forwardEvent(new Vt(L.value.snapshot))}),E.children.length&&this.forwardEvent(new zo(E.value.snapshot))}activateRoutes(E,m,T){const N=E.value,L=m?m.value:null;if(Bi(N),N===L)if(N.component){const V=T.getOrCreateContext(N.outlet);this.activateChildRoutes(E,m,V.children)}else this.activateChildRoutes(E,m,T);else if(N.component){const V=T.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const X=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),V.children.onOutletReAttached(X.contexts),V.attachRef=X.componentRef,V.route=X.route.value,V.outlet&&V.outlet.attach(X.componentRef,X.route.value),Bi(X.route.value),this.activateChildRoutes(E,null,V.children)}else{const X=ui(N.snapshot);V.attachRef=null,V.route=N,V.injector=X,V.outlet&&V.outlet.activateWith(N,V.injector),this.activateChildRoutes(E,null,V.children)}}else this.activateChildRoutes(E,null,T)}}class Ku{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Yo{constructor(E,m){this.component=E,this.route=m}}function Jl(y,E,m){const T=y._root;return _a(T,E?E._root:null,m,[T.value])}function po(y,E){const m=Symbol(),T=E.get(y,m);return T===m?"function"!=typeof y||(0,M.Z0I)(y)?E.get(y):y:T}function _a(y,E,m,T,N={canDeactivateChecks:[],canActivateChecks:[]}){const L=bs(E);return y.children.forEach(V=>{(function ec(y,E,m,T,N={canDeactivateChecks:[],canActivateChecks:[]}){const L=y.value,V=E?E.value:null,X=m?m.getContext(y.value.outlet):null;if(V&&L.routeConfig===V.routeConfig){const Ee=function Bf(y,E,m){if("function"==typeof m)return m(y,E);switch(m){case"pathParamsChange":return!Ji(y.url,E.url);case"pathParamsOrQueryParamsChange":return!Ji(y.url,E.url)||!Ge(y.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!It(y,E)||!Ge(y.queryParams,E.queryParams);default:return!It(y,E)}}(V,L,L.routeConfig.runGuardsAndResolvers);Ee?N.canActivateChecks.push(new Ku(T)):(L.data=V.data,L._resolvedData=V._resolvedData),_a(y,E,L.component?X?X.children:null:m,T,N),Ee&&X&&X.outlet&&X.outlet.isActivated&&N.canDeactivateChecks.push(new Yo(X.outlet.component,V))}else V&&Qo(E,X,N),N.canActivateChecks.push(new Ku(T)),_a(y,null,L.component?X?X.children:null:m,T,N)})(V,L[V.value.outlet],m,T.concat([V.value]),N),delete L[V.value.outlet]}),Object.entries(L).forEach(([V,X])=>Qo(X,m.getContext(V),N)),N}function Qo(y,E,m){const T=bs(y),N=y.value;Object.entries(T).forEach(([L,V])=>{Qo(V,N.component?E?E.children.getContext(L):null:E,m)}),m.canDeactivateChecks.push(new Yo(N.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,N))}function _n(y){return"function"==typeof y}function Yu(y){return y instanceof hn||"EmptyError"===y?.name}const Is=Symbol("INITIAL_VALUE");function Hs(){return(0,ie.w)(y=>it(y.map(E=>E.pipe(we(1),function Ve(...y){const E=(0,pe.yG)(y);return(0,Hn.e)((m,T)=>{(E?Ie(y,m,E):Ie(y,m)).subscribe(T)})}(Is)))).pipe((0,Y.U)(E=>{for(const m of E)if(!0!==m){if(m===Is)return Is;if(!1===m||m instanceof An)return m}return!0}),(0,Ae.h)(E=>E!==Is),we(1)))}function Jo(y){return(0,Ze.z)((0,_t.b)(E=>{if(yr(E))throw Ii(0,E)}),(0,Y.U)(E=>!0===E))}class Ds{constructor(E){this.segmentGroup=E||null}}class $n{constructor(E){this.urlTree=E}}function Gs(y){return Pe(new Ds(y))}function Zu(y){return Pe(new $n(y))}class Ea{constructor(E,m){this.urlSerializer=E,this.urlTree=m}noMatchError(E){return new M.vHH(4002,!1)}lineralizeSegments(E,m){let T=[],N=m.root;for(;;){if(T=T.concat(N.segments),0===N.numberOfChildren)return(0,z.of)(T);if(N.numberOfChildren>1||!N.children[$e])return Pe(new M.vHH(4e3,!1));N=N.children[$e]}}applyRedirectCommands(E,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),E,T)}applyRedirectCreateUrlTree(E,m,T,N){const L=this.createSegmentGroup(E,m.root,T,N);return new An(L,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(E,m){const T={};return Object.entries(E).forEach(([N,L])=>{if("string"==typeof L&&L.startsWith(":")){const X=L.substring(1);T[N]=m[X]}else T[N]=L}),T}createSegmentGroup(E,m,T,N){const L=this.createSegments(E,m.segments,T,N);let V={};return Object.entries(m.children).forEach(([X,Ee])=>{V[X]=this.createSegmentGroup(E,Ee,T,N)}),new qt(L,V)}createSegments(E,m,T,N){return m.map(L=>L.path.startsWith(":")?this.findPosParam(E,L,N):this.findOrReturn(L,T))}findPosParam(E,m,T){const N=T[m.path.substring(1)];if(!N)throw new M.vHH(4001,!1);return N}findOrReturn(E,m){let T=0;for(const N of m){if(N.path===E.path)return m.splice(T),N;T++}return E}}const au={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Md(y,E,m,T,N){const L=ba(y,E,m);return L.matched?(T=function Wu(y,E){return y.providers&&!y._injector&&(y._injector=(0,M.MMx)(y.providers,E,`Route: ${y.path}`)),y._injector??E}(E,T),function Qr(y,E,m,T){const N=E.canMatch;if(!N||0===N.length)return(0,z.of)(!0);const L=N.map(V=>{const X=po(V,y);return or(function Sd(y){return y&&_n(y.canMatch)}(X)?X.canMatch(E,m):y.runInContext(()=>X(E,m)))});return(0,z.of)(L).pipe(Hs(),Jo())}(T,E,m).pipe((0,Y.U)(V=>!0===V?L:{...au}))):(0,z.of)(L)}function ba(y,E,m){if(""===E.path)return"full"===E.pathMatch&&(y.hasChildren()||m.length>0)?{...au}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const N=(E.matcher||nn)(m,y,E);if(!N)return{...au};const L={};Object.entries(N.posParams??{}).forEach(([X,Ee])=>{L[X]=Ee.path});const V=N.consumed.length>0?{...L,...N.consumed[N.consumed.length-1].parameters}:L;return{matched:!0,consumedSegments:N.consumed,remainingSegments:m.slice(N.consumed.length),parameters:V,positionalParamSegments:N.posParams??{}}}function Ia(y,E,m,T){return m.length>0&&function Ts(y,E,m){return m.some(T=>lu(y,E,T)&&bn(T)!==$e)}(y,m,T)?{segmentGroup:new qt(E,uu(T,new qt(m,y.children))),slicedSegments:[]}:0===m.length&&function tl(y,E,m){return m.some(T=>lu(y,E,T))}(y,m,T)?{segmentGroup:new qt(y.segments,el(y,0,m,T,y.children)),slicedSegments:m}:{segmentGroup:new qt(y.segments,y.children),slicedSegments:m}}function el(y,E,m,T,N){const L={};for(const V of T)if(lu(y,m,V)&&!N[bn(V)]){const X=new qt([],{});L[bn(V)]=X}return{...N,...L}}function uu(y,E){const m={};m[$e]=E;for(const T of y)if(""===T.path&&bn(T)!==$e){const N=new qt([],{});m[bn(T)]=N}return m}function lu(y,E,m){return(!(y.hasChildren()||E.length>0)||"full"!==m.pathMatch)&&""===m.path}class ic{constructor(E,m,T,N,L,V,X){this.injector=E,this.configLoader=m,this.rootComponentType=T,this.config=N,this.urlTree=L,this.paramsInheritanceStrategy=V,this.urlSerializer=X,this.allowRedirects=!0,this.applyRedirects=new Ea(this.urlSerializer,this.urlTree)}noMatchError(E){return new M.vHH(4002,!1)}recognize(){const E=Ia(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,$e).pipe(on(m=>{if(m instanceof $n)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof Ds?this.noMatchError(m):m}),(0,Y.U)(m=>{const T=new Fn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$e,this.rootComponentType,null,{}),N=new _r(T,m),L=new is("",N),V=function ro(y,E,m=null,T=null){return Bo(Vo(y),E,m,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return V.queryParams=this.urlTree.queryParams,L.url=this.urlSerializer.serialize(V),this.inheritParamsAndData(L._root),{state:L,tree:V}}))}match(E){return this.processSegmentGroup(this.injector,this.config,E.root,$e).pipe(on(T=>{throw T instanceof Ds?this.noMatchError(T):T}))}inheritParamsAndData(E){const m=E.value,T=lr(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),E.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(E,m,T,N){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,m,T):this.processSegment(E,m,T,T.segments,N,!0)}processChildren(E,m,T){const N=[];for(const L of Object.keys(T.children))"primary"===L?N.unshift(L):N.push(L);return(0,fe.D)(N).pipe((0,Zt.b)(L=>{const V=T.children[L],X=function Wo(y,E){const m=y.filter(T=>bn(T)===E);return m.push(...y.filter(T=>bn(T)!==E)),m}(m,L);return this.processSegmentGroup(E,X,V,L)}),function Cn(y,E){return(0,Hn.e)(function Dr(y,E,m,T,N){return(L,V)=>{let X=m,Ee=E,ot=0;L.subscribe((0,st.x)(V,at=>{const sn=ot++;Ee=X?y(Ee,at,sn):(X=!0,at),T&&V.next(Ee)},N&&(()=>{X&&V.next(Ee),V.complete()})))}}(y,E,arguments.length>=2,!0))}((L,V)=>(L.push(...V),L)),ct(null),function mi(y,E){const m=arguments.length>=2;return T=>T.pipe(y?(0,Ae.h)((N,L)=>y(N,L,T)):Le.y,qn(1),m?ct(E):Dn(()=>new hn))}(),(0,et.z)(L=>{if(null===L)return Gs(T);const V=sl(L);return function Ca(y){y.sort((E,m)=>E.value.outlet===$e?-1:m.value.outlet===$e?1:E.value.outlet.localeCompare(m.value.outlet))}(V),(0,z.of)(V)}))}processSegment(E,m,T,N,L,V){return(0,fe.D)(m).pipe((0,Zt.b)(X=>this.processSegmentAgainstRoute(X._injector??E,m,X,T,N,L,V).pipe(on(Ee=>{if(Ee instanceof Ds)return(0,z.of)(null);throw Ee}))),Yt(X=>!!X),on(X=>{if(Yu(X))return function rl(y,E,m){return 0===E.length&&!y.children[m]}(T,N,L)?(0,z.of)([]):Gs(T);throw X}))}processSegmentAgainstRoute(E,m,T,N,L,V,X){return function nl(y,E,m,T){return!!(bn(y)===T||T!==$e&&lu(E,m,y))&&("**"===y.path||ba(E,y,m).matched)}(T,N,L,V)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(E,N,T,L,V,X):X&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,N,m,T,L,V):Gs(N):Gs(N)}expandSegmentAgainstRouteUsingRedirect(E,m,T,N,L,V){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,N,V):this.expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,N,L,V)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,m,T,N){const L=this.applyRedirects.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Zu(L):this.applyRedirects.lineralizeSegments(T,L).pipe((0,et.z)(V=>{const X=new qt(V,{});return this.processSegment(E,m,X,V,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,N,L,V){const{matched:X,consumedSegments:Ee,remainingSegments:ot,positionalParamSegments:at}=ba(m,N,L);if(!X)return Gs(m);const sn=this.applyRedirects.applyRedirectCommands(Ee,N.redirectTo,at);return N.redirectTo.startsWith("/")?Zu(sn):this.applyRedirects.lineralizeSegments(N,sn).pipe((0,et.z)(Qn=>this.processSegment(E,T,m,Qn.concat(ot),V,!1)))}matchSegmentAgainstRoute(E,m,T,N,L,V){let X;if("**"===T.path){const Ee=N.length>0?Qi(N).parameters:{},ot=new Fn(N,Ee,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xr(T),bn(T),T.component??T._loadedComponent??null,T,fn(T));X=(0,z.of)({snapshot:ot,consumedSegments:[],remainingSegments:[]}),m.children={}}else X=Md(m,T,N,E).pipe((0,Y.U)(({matched:Ee,consumedSegments:ot,remainingSegments:at,parameters:sn})=>Ee?{snapshot:new Fn(ot,sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xr(T),bn(T),T.component??T._loadedComponent??null,T,fn(T)),consumedSegments:ot,remainingSegments:at}:null));return X.pipe((0,ie.w)(Ee=>null===Ee?Gs(m):this.getChildConfig(E=T._injector??E,T,N).pipe((0,ie.w)(({routes:ot})=>{const at=T._loadedInjector??E,{snapshot:sn,consumedSegments:Qn,remainingSegments:gu}=Ee,{segmentGroup:Zo,slicedSegments:ea}=Ia(m,Qn,gu,ot);if(0===ea.length&&Zo.hasChildren())return this.processChildren(at,ot,Zo).pipe((0,Y.U)(na=>null===na?null:[new _r(sn,na)]));if(0===ot.length&&0===ea.length)return(0,z.of)([new _r(sn,[])]);const ta=bn(T)===L;return this.processSegment(at,ot,Zo,ea,ta?$e:L,!0).pipe((0,Y.U)(na=>[new _r(sn,na)]))}))))}getChildConfig(E,m,T){return m.children?(0,z.of)({routes:m.children,injector:E}):m.loadChildren?void 0!==m._loadedRoutes?(0,z.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Xo(y,E,m,T){const N=E.canLoad;if(void 0===N||0===N.length)return(0,z.of)(!0);const L=N.map(V=>{const X=po(V,y);return or(function Dd(y){return y&&_n(y.canLoad)}(X)?X.canLoad(E,m):y.runInContext(()=>X(E,m)))});return(0,z.of)(L).pipe(Hs(),Jo())}(E,m,T).pipe((0,et.z)(N=>N?this.configLoader.loadChildren(E,m).pipe((0,_t.b)(L=>{m._loadedRoutes=L.routes,m._loadedInjector=L.injector})):function ou(y){return Pe(Kr(!1,3))}())):(0,z.of)({routes:[],injector:E})}}function il(y){const E=y.value.routeConfig;return E&&""===E.path}function sl(y){const E=[],m=new Set;for(const T of y){if(!il(T)){E.push(T);continue}const N=E.find(L=>T.value.routeConfig===L.value.routeConfig);void 0!==N?(N.children.push(...T.children),m.add(N)):E.push(T)}for(const T of m){const N=sl(T.children);E.push(new _r(T.value,N))}return E.filter(T=>!m.has(T))}function Xr(y){return y.data||{}}function fn(y){return y.resolve||{}}function le(y){return"string"==typeof y.title||null===y.title}function nt(y){return(0,ie.w)(E=>{const m=y(E);return m?(0,fe.D)(m).pipe((0,Y.U)(()=>E)):(0,z.of)(E)})}const b=new M.OlP("ROUTES");let I=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,M.f3M)(M.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,z.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=or(m.loadComponent()).pipe((0,Y.U)(U),(0,_t.b)(L=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=L}),(0,Nt.x)(()=>{this.componentLoaders.delete(m)})),N=new Bn(T,()=>new je.x).pipe(si());return this.componentLoaders.set(m,N),N}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,z.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const L=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,Y.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(T);let Ee,ot;return Array.isArray(X)?ot=X:(Ee=X.create(m).injector,ot=Ee.get(b,[],M.XFs.Self|M.XFs.Optional).flat()),{routes:ot.map(xn),injector:Ee}}),(0,Nt.x)(()=>{this.childrenLoaders.delete(T)})),V=new Bn(L,()=>new je.x).pipe(si());return this.childrenLoaders.set(T,V),V}loadModuleFactoryOrRoutes(m){return or(m()).pipe((0,Y.U)(U),(0,et.z)(T=>T instanceof M.YKP||Array.isArray(T)?(0,z.of)(T):(0,fe.D)(this.compiler.compileModuleAsync(T))))}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function U(y){return function k(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let te=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new je.x,this.configLoader=(0,M.f3M)(I),this.environmentInjector=(0,M.f3M)(M.lqb),this.urlSerializer=(0,M.f3M)(Os),this.rootContexts=(0,M.f3M)(Yn),this.inputBindingEnabled=null!==(0,M.f3M)(Ui,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,z.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new tu(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new ga(N))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:T})}setupNavigations(m){return this.transitions=new ke.X({id:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:uo,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ae.h)(T=>0!==T.id),(0,Y.U)(T=>({...T,extractedUrl:m.urlHandlingStrategy.extract(T.rawUrl)})),(0,ie.w)(T=>{let N=!1,L=!1;return(0,z.of)(T).pipe((0,_t.b)(V=>{this.currentNavigation={id:V.id,initialUrl:V.rawUrl,extractedUrl:V.extractedUrl,trigger:V.source,extras:V.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ie.w)(V=>{const X=m.browserUrlTree.toString(),Ee=!m.navigated||V.extractedUrl.toString()!==X||X!==m.currentUrlTree.toString();if(!Ee&&"reload"!==(V.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const at="";return this.events.next(new co(V.id,m.serializeUrl(T.rawUrl),at,0)),m.rawUrlTree=V.rawUrl,V.resolve(null),xe.E}if(m.urlHandlingStrategy.shouldProcessUrl(V.rawUrl))return Ne(V.source)&&(m.browserUrlTree=V.extractedUrl),(0,z.of)(V).pipe((0,ie.w)(at=>{const sn=this.transitions?.getValue();return this.events.next(new Es(at.id,this.urlSerializer.serialize(at.extractedUrl),at.source,at.restoredState)),sn!==this.transitions?.getValue()?xe.E:Promise.resolve(at)}),function D(y,E,m,T,N,L){return(0,et.z)(V=>function rc(y,E,m,T,N,L,V="emptyOnly"){return new ic(y,E,m,T,N,V,L).recognize()}(y,E,m,T,V.extractedUrl,N,L).pipe((0,Y.U)(({state:X,tree:Ee})=>({...V,targetSnapshot:X,urlAfterRedirects:Ee}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,_t.b)(at=>{if(T.targetSnapshot=at.targetSnapshot,T.urlAfterRedirects=at.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:at.urlAfterRedirects},"eager"===m.urlUpdateStrategy){if(!at.extras.skipLocationChange){const Qn=m.urlHandlingStrategy.merge(at.urlAfterRedirects,at.rawUrl);m.setBrowserUrl(Qn,at)}m.browserUrlTree=at.urlAfterRedirects}const sn=new Yl(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next(sn)}));if(Ee&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:at,extractedUrl:sn,source:Qn,restoredState:gu,extras:Zo}=V,ea=new Es(at,this.urlSerializer.serialize(sn),Qn,gu);this.events.next(ea);const ta=Ke(0,this.rootComponentType).snapshot;return T={...V,targetSnapshot:ta,urlAfterRedirects:sn,extras:{...Zo,skipLocationChange:!1,replaceUrl:!1}},(0,z.of)(T)}{const at="";return this.events.next(new co(V.id,m.serializeUrl(T.extractedUrl),at,1)),m.rawUrlTree=V.rawUrl,V.resolve(null),xe.E}}),(0,_t.b)(V=>{const X=new Za(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot);this.events.next(X)}),(0,Y.U)(V=>T={...V,guards:Jl(V.targetSnapshot,V.currentSnapshot,this.rootContexts)}),function zs(y,E){return(0,et.z)(m=>{const{targetSnapshot:T,currentSnapshot:N,guards:{canActivateChecks:L,canDeactivateChecks:V}}=m;return 0===V.length&&0===L.length?(0,z.of)({...m,guardsResult:!0}):function va(y,E,m,T){return(0,fe.D)(y).pipe((0,et.z)(N=>function wa(y,E,m,T,N){const L=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!L||0===L.length)return(0,z.of)(!0);const V=L.map(X=>{const Ee=ui(E)??N,ot=po(X,Ee);return or(function Di(y){return y&&_n(y.canDeactivate)}(ot)?ot.canDeactivate(y,E,m,T):Ee.runInContext(()=>ot(y,E,m,T))).pipe(Yt())});return(0,z.of)(V).pipe(Hs())}(N.component,N.route,m,E,T)),Yt(N=>!0!==N,!0))}(V,T,N,y).pipe((0,et.z)(X=>X&&function Cd(y){return"boolean"==typeof y}(X)?function Qu(y,E,m,T){return(0,fe.D)(E).pipe((0,Zt.b)(N=>Ie(function Xu(y,E){return null!==y&&E&&E(new ma(y)),(0,z.of)(!0)}(N.route.parent,T),function Cs(y,E){return null!==y&&E&&E(new nu(y)),(0,z.of)(!0)}(N.route,T),function Ju(y,E,m){const T=E[E.length-1],L=E.slice(0,E.length-1).reverse().map(V=>function Zl(y){const E=y.routeConfig?y.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:y,guards:E}:null}(V)).filter(V=>null!==V).map(V=>Be(()=>{const X=V.guards.map(Ee=>{const ot=ui(V.node)??m,at=po(Ee,ot);return or(function Td(y){return y&&_n(y.canActivateChild)}(at)?at.canActivateChild(T,y):ot.runInContext(()=>at(T,y))).pipe(Yt())});return(0,z.of)(X).pipe(Hs())}));return(0,z.of)(L).pipe(Hs())}(y,N.path,m),function Ad(y,E,m){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,z.of)(!0);const N=T.map(L=>Be(()=>{const V=ui(E)??m,X=po(L,V);return or(function tc(y){return y&&_n(y.canActivate)}(X)?X.canActivate(E,y):V.runInContext(()=>X(E,y))).pipe(Yt())}));return(0,z.of)(N).pipe(Hs())}(y,N.route,m))),Yt(N=>!0!==N,!0))}(T,L,y,E):(0,z.of)(X)),(0,Y.U)(X=>({...m,guardsResult:X})))})}(this.environmentInjector,V=>this.events.next(V)),(0,_t.b)(V=>{if(T.guardsResult=V.guardsResult,yr(V.guardsResult))throw Ii(0,V.guardsResult);const X=new Ql(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot,!!V.guardsResult);this.events.next(X)}),(0,Ae.h)(V=>!!V.guardsResult||(m.restoreHistory(V),this.cancelNavigationTransition(V,"",3),!1)),nt(V=>{if(V.guards.canActivateChecks.length)return(0,z.of)(V).pipe((0,_t.b)(X=>{const Ee=new qu(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot);this.events.next(Ee)}),(0,ie.w)(X=>{let Ee=!1;return(0,z.of)(X).pipe(function P(y,E){return(0,et.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:N}}=m;if(!N.length)return(0,z.of)(m);let L=0;return(0,fe.D)(N).pipe((0,Zt.b)(V=>function S(y,E,m,T){const N=y.routeConfig,L=y._resolve;return void 0!==N?.title&&!le(N)&&(L[Hr]=N.title),function F(y,E,m,T){const N=function q(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===N.length)return(0,z.of)({});const L={};return(0,fe.D)(N).pipe((0,et.z)(V=>function ue(y,E,m,T){const N=ui(E)??T,L=po(y,N);return or(L.resolve?L.resolve(E,m):N.runInContext(()=>L(E,m)))}(y[V],E,m,T).pipe(Yt(),(0,_t.b)(X=>{L[V]=X}))),qn(1),function Wn(y){return(0,Y.U)(()=>y)}(L),on(V=>Yu(V)?xe.E:Pe(V)))}(L,y,E,T).pipe((0,Y.U)(V=>(y._resolvedData=V,y.data=lr(y,m).resolve,N&&le(N)&&(y.data[Hr]=N.title),null)))}(V.route,T,y,E)),(0,_t.b)(()=>L++),qn(1),(0,et.z)(V=>L===N.length?(0,z.of)(m):xe.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,_t.b)({next:()=>Ee=!0,complete:()=>{Ee||(m.restoreHistory(X),this.cancelNavigationTransition(X,"",2))}}))}),(0,_t.b)(X=>{const Ee=new eu(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot);this.events.next(Ee)}))}),nt(V=>{const X=Ee=>{const ot=[];Ee.routeConfig?.loadComponent&&!Ee.routeConfig._loadedComponent&&ot.push(this.configLoader.loadComponent(Ee.routeConfig).pipe((0,_t.b)(at=>{Ee.component=at}),(0,Y.U)(()=>{})));for(const at of Ee.children)ot.push(...X(at));return ot};return it(X(V.targetSnapshot.root)).pipe(ct(),we(1))}),nt(()=>this.afterPreactivation()),(0,Y.U)(V=>{const X=function ho(y,E,m){const T=Ei(y,E._root,m?m._root:void 0);return new Mn(T,E)}(m.routeReuseStrategy,V.targetSnapshot,V.currentRouterState);return T={...V,targetRouterState:X}}),(0,_t.b)(V=>{m.currentUrlTree=V.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl),m.routerState=V.targetRouterState,"deferred"===m.urlUpdateStrategy&&(V.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,V),m.browserUrlTree=V.urlAfterRedirects)}),((y,E,m,T)=>(0,Y.U)(N=>(new ya(E,N.targetRouterState,N.currentRouterState,m,T).activate(y),N)))(this.rootContexts,m.routeReuseStrategy,V=>this.events.next(V),this.inputBindingEnabled),we(1),(0,_t.b)({next:V=>{N=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new lo(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(V.targetRouterState.snapshot),V.resolve(!0)},complete:()=>{N=!0}}),(0,Nt.x)(()=>{N||L||this.cancelNavigationTransition(T,"",1),this.currentNavigation?.id===T.id&&(this.currentNavigation=null)}),on(V=>{if(L=!0,Ci(V)){Yr(V)||(m.navigated=!0,m.restoreHistory(T,!0));const X=new Ho(T.id,this.urlSerializer.serialize(T.extractedUrl),V.message,V.cancellationCode);if(this.events.next(X),Yr(V)){const Ee=m.urlHandlingStrategy.merge(V.url,m.rawUrlTree),ot={skipLocationChange:T.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||Ne(T.source)};m.scheduleNavigation(Ee,uo,null,ot,{resolve:T.resolve,reject:T.reject,promise:T.promise})}else T.resolve(!1)}else{m.restoreHistory(T,!0);const X=new ur(T.id,this.urlSerializer.serialize(T.extractedUrl),V,T.targetSnapshot??void 0);this.events.next(X);try{T.resolve(m.errorHandler(V))}catch(Ee){T.reject(Ee)}}return xe.E}))}))}cancelNavigationTransition(m,T,N){const L=new Ho(m.id,this.urlSerializer.serialize(m.extractedUrl),T,N);this.events.next(L),m.resolve(!1)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Ne(y){return y!==uo}let vt=(()=>{class y{buildTitle(m){let T,N=m.root;for(;void 0!==N;)T=this.getResolvedTitleForRoute(N)??T,N=N.children.find(L=>L.outlet===$e);return T}getResolvedTitleForRoute(m){return m.data[Hr]}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=M.Yz7({token:y,factory:function(){return(0,M.f3M)(en)},providedIn:"root"}),y})(),en=(()=>{class y extends vt{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}}return y.\u0275fac=function(m){return new(m||y)(M.LFG(En.Dx))},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),cn=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=M.Yz7({token:y,factory:function(){return(0,M.f3M)(vr)},providedIn:"root"}),y})();class rn{shouldDetach(E){return!1}store(E,m){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,m){return E.routeConfig===m.routeConfig}}let vr=(()=>{class y extends rn{}return y.\u0275fac=function(){let E;return function(T){return(E||(E=M.n5z(y)))(T||y)}}(),y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const os=new M.OlP("",{providedIn:"root",factory:()=>({})});let as=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=M.Yz7({token:y,factory:function(){return(0,M.f3M)(go)},providedIn:"root"}),y})(),go=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,T){return m}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var cr=(()=>((cr=cr||{})[cr.COMPLETE=0]="COMPLETE",cr[cr.FAILED=1]="FAILED",cr[cr.REDIRECTING=2]="REDIRECTING",cr))();function Nd(y,E){y.events.pipe((0,Ae.h)(m=>m instanceof lo||m instanceof Ho||m instanceof ur||m instanceof co),(0,Y.U)(m=>m instanceof lo||m instanceof co?cr.COMPLETE:m instanceof Ho&&(0===m.code||1===m.code)?cr.REDIRECTING:cr.FAILED),(0,Ae.h)(m=>m!==cr.REDIRECTING),we(1)).subscribe(()=>{E()})}function St(y){throw y}function ey(y,E,m){return E.parse("/")}const lb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ti=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,M.f3M)(M.c2e),this.isNgZoneEnabled=!1,this.options=(0,M.f3M)(os,{optional:!0})||{},this.pendingTasks=(0,M.f3M)(M.HDt),this.errorHandler=this.options.errorHandler||St,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ey,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,M.f3M)(as),this.routeReuseStrategy=(0,M.f3M)(cn),this.titleStrategy=(0,M.f3M)(vt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,M.f3M)(b,{optional:!0})?.flat()??[],this.navigationTransitions=(0,M.f3M)(te),this.urlSerializer=(0,M.f3M)(Os),this.location=(0,M.f3M)(ae.Ye),this.componentInputBindingEnabled=!!(0,M.f3M)(Ui,{optional:!0}),this.isNgZoneEnabled=(0,M.f3M)(M.R0b)instanceof M.R0b&&M.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new An,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ke(0,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),uo,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,T,m.state)},0)}))}navigateToSyncWithBrowser(m,T,N){const L={replaceUrl:!0},V=N?.navigationId?N:null;if(N){const Ee={...N};delete Ee.navigationId,delete Ee.\u0275routerPageId,0!==Object.keys(Ee).length&&(L.state=Ee)}const X=this.parseUrl(m);this.scheduleNavigation(X,T,V,L)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(xn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,T={}){const{relativeTo:N,queryParams:L,fragment:V,queryParamsHandling:X,preserveFragment:Ee}=T,ot=Ee?this.currentUrlTree.fragment:V;let sn,at=null;switch(X){case"merge":at={...this.currentUrlTree.queryParams,...L};break;case"preserve":at=this.currentUrlTree.queryParams;break;default:at=L||null}null!==at&&(at=this.removeEmptyProps(at));try{sn=Vo(N?N.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),sn=this.currentUrlTree.root}return Bo(sn,m,at,ot??null)}navigateByUrl(m,T={skipLocationChange:!1}){const N=yr(m)?m:this.parseUrl(m),L=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(L,uo,null,T)}navigate(m,T={skipLocationChange:!1}){return function cb(y){for(let E=0;E<y.length;E++)if(null==y[E])throw new M.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(N){T=this.malformedUriErrorHandler(N,this.urlSerializer,m)}return T}isActive(m,T){let N;if(N=!0===T?{...lb}:!1===T?{...Uf}:T,yr(m))return On(this.currentUrlTree,m,N);const L=this.parseUrl(m);return On(this.currentUrlTree,L,N)}removeEmptyProps(m){return Object.keys(m).reduce((T,N)=>{const L=m[N];return null!=L&&(T[N]=L),T},{})}scheduleNavigation(m,T,N,L,V){if(this.disposed)return Promise.resolve(!1);let X,Ee,ot;V?(X=V.resolve,Ee=V.reject,ot=V.promise):ot=new Promise((sn,Qn)=>{X=sn,Ee=Qn});const at=this.pendingTasks.add();return Nd(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(at))}),this.navigationTransitions.handleNavigationRequest({source:T,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:L,resolve:X,reject:Ee,promise:ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ot.catch(sn=>Promise.reject(sn))}setBrowserUrl(m,T){const N=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(N)||T.extras.replaceUrl){const V={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(N,"",V)}else{const L={...T.extras.state,...this.generateNgRouterState(T.id,(this.browserPageId??0)+1)};this.location.go(N,"",L)}}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const L=this.currentPageId-(this.browserPageId??this.currentPageId);0!==L?this.location.historyGo(L):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===L&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),cu=(()=>{class y{constructor(m,T,N,L,V,X){this.router=m,this.route=T,this.tabIndexAttribute=N,this.renderer=L,this.el=V,this.locationStrategy=X,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new je.x;const Ee=V.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ee||"area"===Ee,this.isAnchorElement?this.subscription=m.events.subscribe(ot=>{ot instanceof lo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,M.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,M.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,M.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,T,N,L,V){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||T||N||L||V||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,M.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,T){const N=this.renderer,L=this.el.nativeElement;null!==T?N.setAttribute(L,m,T):N.removeAttribute(L,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(m){return new(m||y)(M.Y36(Ti),M.Y36(Ht),M.$8M("tabindex"),M.Y36(M.Qsj),M.Y36(M.SBq),M.Y36(ae.S$))},y.\u0275dir=M.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,T){1&m&&M.NdJ("click",function(L){return T.onClick(L.button,L.ctrlKey,L.shiftKey,L.altKey,L.metaKey)}),2&m&&M.uIk("target",T.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[M.TTD]}),y})(),mo=(()=>{class y{get isActive(){return this._isActive}constructor(m,T,N,L,V){this.router=m,this.element=T,this.renderer=N,this.cdr=L,this.link=V,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new M.vpe,this.routerEventsSubscription=m.events.subscribe(X=>{X instanceof lo&&this.update()})}ngAfterContentInit(){(0,z.of)(this.links.changes,(0,z.of)(null)).pipe((0,$t.J)()).subscribe(m=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const m=[...this.links.toArray(),this.link].filter(T=>!!T).map(T=>T.onChanges);this.linkInputChangesSubscription=(0,fe.D)(m).pipe((0,$t.J)()).subscribe(T=>{this._isActive!==this.isLinkActive(this.router)(T)&&this.update()})}set routerLinkActive(m){const T=Array.isArray(m)?m:m.split(" ");this.classes=T.filter(N=>!!N)}ngOnChanges(m){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const m=this.hasActiveLinks();this._isActive!==m&&(this._isActive=m,this.cdr.markForCheck(),this.classes.forEach(T=>{m?this.renderer.addClass(this.element.nativeElement,T):this.renderer.removeClass(this.element.nativeElement,T)}),m&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(m))})}isLinkActive(m){const T=function ty(y){return!!y.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return N=>!!N.urlTree&&m.isActive(N.urlTree,T)}hasActiveLinks(){const m=this.isLinkActive(this.router);return this.link&&m(this.link)||this.links.some(m)}}return y.\u0275fac=function(m){return new(m||y)(M.Y36(Ti),M.Y36(M.SBq),M.Y36(M.Qsj),M.Y36(M.sBO),M.Y36(cu,8))},y.\u0275dir=M.lG2({type:y,selectors:[["","routerLinkActive",""]],contentQueries:function(m,T,N){if(1&m&&M.Suo(N,cu,5),2&m){let L;M.iGM(L=M.CRH())&&(T.links=L)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[M.TTD]}),y})();class Rd{}let sc=(()=>{class y{constructor(m,T,N,L,V){this.router=m,this.injector=N,this.preloadingStrategy=L,this.loader=V}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ae.h)(m=>m instanceof lo),(0,Zt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const N=[];for(const L of T){L.providers&&!L._injector&&(L._injector=(0,M.MMx)(L.providers,m,`Route: ${L.path}`));const V=L._injector??m,X=L._loadedInjector??V;(L.loadChildren&&!L._loadedRoutes&&void 0===L.canLoad||L.loadComponent&&!L._loadedComponent)&&N.push(this.preloadConfig(V,L)),(L.children||L._loadedRoutes)&&N.push(this.processRoutes(X,L.children??L._loadedRoutes))}return(0,fe.D)(N).pipe((0,$t.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let N;N=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):(0,z.of)(null);const L=N.pipe((0,et.z)(V=>null===V?(0,z.of)(void 0):(T._loadedRoutes=V.routes,T._loadedInjector=V.injector,this.processRoutes(V.injector??m,V.routes))));if(T.loadComponent&&!T._loadedComponent){const V=this.loader.loadComponent(T);return(0,fe.D)([L,V]).pipe((0,$t.J)())}return L})}}return y.\u0275fac=function(m){return new(m||y)(M.LFG(Ti),M.LFG(M.Sil),M.LFG(M.lqb),M.LFG(Rd),M.LFG(I))},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ve=new M.OlP("");let Wt=(()=>{class y{constructor(m,T,N,L,V={}){this.urlSerializer=m,this.transitions=T,this.viewportScroller=N,this.zone=L,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Es?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof lo?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof co&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Kn&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kn(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(m){M.$Z()},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac}),y})();function an(y,E){return{\u0275kind:y,\u0275providers:E}}function al(){const y=(0,M.f3M)(M.zs3);return E=>{const m=y.get(M.z2F);if(E!==m.components[0])return;const T=y.get(Ti),N=y.get(Hf);1===y.get(Pd)&&T.initialNavigation(),y.get(Ta,null,M.XFs.Optional)?.setUpPreloading(),y.get(ve,null,M.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const Hf=new M.OlP("",{factory:()=>new je.x}),Pd=new M.OlP("",{providedIn:"root",factory:()=>1}),Ta=new M.OlP("");function hu(y){return an(0,[{provide:Ta,useExisting:sc},{provide:Rd,useExisting:y}])}const fu=new M.OlP("ROUTER_FORROOT_GUARD"),zf=[ae.Ye,{provide:Os,useClass:zr},Ti,Yn,{provide:Ht,useFactory:function ol(y){return y.routerState.root},deps:[Ti]},I,[]];function Gf(){return new M.PXZ("Router",Ti)}let kd=(()=>{class y{constructor(m){}static forRoot(m,T){return{ngModule:y,providers:[zf,[],{provide:b,multi:!0,useValue:m},{provide:fu,useFactory:ry,deps:[[Ti,new M.FiY,new M.tp0]]},{provide:os,useValue:T||{}},T?.useHash?{provide:ae.S$,useClass:ae.Do}:{provide:ae.S$,useClass:ae.b0},{provide:ve,useFactory:()=>{const y=(0,M.f3M)(ae.EM),E=(0,M.f3M)(M.R0b),m=(0,M.f3M)(os),T=(0,M.f3M)(te),N=(0,M.f3M)(Os);return m.scrollOffset&&y.setOffset(m.scrollOffset),new Wt(N,T,y,E,m)}},T?.preloadingStrategy?hu(T.preloadingStrategy).\u0275providers:[],{provide:M.PXZ,multi:!0,useFactory:Gf},T?.initialNavigation?iy(T):[],T?.bindToComponentInputs?an(8,[Ln,{provide:Ui,useExisting:Ln}]).\u0275providers:[],[{provide:Wf,useFactory:al},{provide:M.tb,multi:!0,useExisting:Wf}]]}}static forChild(m){return{ngModule:y,providers:[{provide:b,multi:!0,useValue:m}]}}}return y.\u0275fac=function(m){return new(m||y)(M.LFG(fu,8))},y.\u0275mod=M.oAB({type:y}),y.\u0275inj=M.cJS({}),y})();function ry(y){return"guarded"}function iy(y){return["disabled"===y.initialNavigation?an(3,[{provide:M.ip1,multi:!0,useFactory:()=>{const E=(0,M.f3M)(Ti);return()=>{E.setUpLocationChangeListener()}}},{provide:Pd,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?an(2,[{provide:Pd,useValue:0},{provide:M.ip1,multi:!0,deps:[M.zs3],useFactory:E=>{const m=E.get(ae.V_,Promise.resolve());return()=>m.then(()=>new Promise(T=>{const N=E.get(Ti),L=E.get(Hf);Nd(N,()=>{T(!0)}),E.get(te).afterPreactivation=()=>(T(!0),L.closed?(0,z.of)(void 0):L),N.initialNavigation()}))}}]).\u0275providers:[]]}const Wf=new M.OlP("")}},bt=>{bt(bt.s=3419)}]);